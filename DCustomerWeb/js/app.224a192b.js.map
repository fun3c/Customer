{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/条件分支.png","webpack:///./src/assets/短信.png","webpack:///./src/assets sync ^\\.\\/.*$","webpack:///./src/views/Login.vue?6626","webpack:///./src/views/NotFound.vue?85b8","webpack:///./src/assets/AB测试.png","webpack:///./src/components/ef/jsplumb.js","webpack:///./src/components/header/header.vue?31c8","webpack:///./src/components/menus/menus.vue?bfd5","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/views/Console.vue?2d1d","webpack:///./src/views/MailList.vue?2903","webpack:///./src/App.vue?696f","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/views/Index.vue?43b1","webpack:///./src/components/menus/menus.vue?c1f6","webpack:///src/components/menus/menus.vue","webpack:///./src/components/menus/menus.vue?d96f","webpack:///./src/components/menus/menus.vue","webpack:///./src/components/header/header.vue?ca2a","webpack:///src/components/header/header.vue","webpack:///./src/components/header/header.vue?793a","webpack:///./src/components/header/header.vue","webpack:///src/views/Index.vue","webpack:///./src/views/Index.vue?b8ab","webpack:///./src/views/Index.vue","webpack:///./src/views/Console.vue?bbe1","webpack:///./src/components/ef/conditional.vue?4b4a","webpack:///src/components/ef/conditional.vue","webpack:///./src/components/ef/conditional.vue?73e8","webpack:///./src/components/ef/conditional.vue","webpack:///src/views/Console.vue","webpack:///./src/views/Console.vue?cf74","webpack:///./src/views/Console.vue","webpack:///./src/views/Users.vue?99f3","webpack:///src/views/Users.vue","webpack:///./src/views/Users.vue?73cc","webpack:///./src/views/Users.vue","webpack:///./src/views/Articles.vue?4680","webpack:///src/views/Articles.vue","webpack:///./src/views/Articles.vue?a01f","webpack:///./src/views/Articles.vue","webpack:///./src/views/Login.vue?d534","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?09c2","webpack:///./src/views/Login.vue","webpack:///./src/views/MailList.vue?6061","webpack:///src/views/MailList.vue","webpack:///./src/views/MailList.vue?570c","webpack:///./src/views/MailList.vue","webpack:///./src/views/NotFound.vue?af8f","webpack:///src/views/NotFound.vue","webpack:///./src/views/NotFound.vue?296d","webpack:///./src/views/NotFound.vue","webpack:///./src/components/ef/panel.vue?c9a1","webpack:///./src/components/ef/mixins.js","webpack:///./src/components/ef/node.vue?822b","webpack:///src/components/ef/node.vue","webpack:///./src/components/ef/node.vue?e449","webpack:///./src/components/ef/node.vue","webpack:///./src/components/ef/node_menu.vue?97f3","webpack:///./src/components/ef/group.js","webpack:///src/components/ef/node_menu.vue","webpack:///./src/components/ef/node_menu.vue?c810","webpack:///./src/components/ef/node_menu.vue","webpack:///./src/components/ef/info.vue?2fcf","webpack:///src/components/ef/info.vue","webpack:///./src/components/ef/info.vue?34da","webpack:///./src/components/ef/info.vue","webpack:///./src/components/ef/help.vue?4c76","webpack:///src/components/ef/help.vue","webpack:///./src/components/ef/help.vue?d23c","webpack:///./src/components/ef/help.vue","webpack:///./src/components/ef/node_form.vue?6aaa","webpack:///./src/components/ef/AB.vue?7299","webpack:///src/components/ef/AB.vue","webpack:///./src/components/ef/AB.vue?a284","webpack:///./src/components/ef/AB.vue","webpack:///src/components/ef/node_form.vue","webpack:///./src/components/ef/node_form.vue?35d3","webpack:///./src/components/ef/node_form.vue","webpack:///./src/components/ef/data_C.js","webpack:///src/components/ef/panel.vue","webpack:///./src/components/ef/panel.vue?3a75","webpack:///./src/components/ef/panel.vue","webpack:///./src/components/ef/note.vue?8e83","webpack:///src/components/ef/note.vue","webpack:///./src/components/ef/note.vue?d32e","webpack:///./src/components/ef/note.vue","webpack:///./src/components/ef/anniu.vue?2f11","webpack:///src/components/ef/anniu.vue","webpack:///./src/components/ef/anniu.vue?c9db","webpack:///./src/components/ef/anniu.vue","webpack:///./src/router.js","webpack:///./src/store.js","webpack:///./src/common/utils.js","webpack:///./src/mock.js","webpack:///./src/main.js","webpack:///./src/components/ef/anniu.vue?e91c","webpack:///./src/App.vue?f446","webpack:///./src/assets/删除标签.png","webpack:///./src/assets/子任务.png","webpack:///./src/assets/设置关系.png","webpack:///./src/components/ef/help.vue?651b","webpack:///./src/assets/微信消息.png","webpack:///./src/assets/微信模板消息.png","webpack:///./src/components/ef/node_form.vue?e658","webpack:///./src/components/ef/conditional.vue?af47","webpack:///./src/views/Users.vue?f9c4","webpack:///./src/assets/发送邮件.png","webpack:///./src/assets/加入群组.png","webpack:///./src/assets/移除群组.png","webpack:///./src/components/header/header.vue?69b5","webpack:///./src/assets/images/delete.png","webpack:///./src/assets/客服外呼.png","webpack:///./src/assets/push.png","webpack:///./src/views/Users.vue?7274","webpack:///./src/assets/承接设置.png","webpack:///./src/assets/赛马.png","webpack:///./src/assets/addtag.png","webpack:///./src/assets/app弹窗.png","webpack:///./src/views/Index.vue?7e54","webpack:///./src/assets/app内消息.png","webpack:///./src/assets/wait.png","webpack:///./src/components/ef/AB.vue?56ad","webpack:///./src/assets/推荐.png","webpack:///./src/assets/stop.png","webpack:///./src/assets/利益点.png","webpack:///./src/components/ef/note.vue?a663","webpack:///./src/views/Articles.vue?37c3","webpack:///./src/assets/start.png"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","Math","sgn","x","Vectors","subtract","v1","v2","y","dotProduct","square","v","sqrt","scale","maxRecursion","flatnessTolerance","pow","_distanceFromCurve","point","curve","candidates","w","_convertToBezier","degree","higherDegree","numSolutions","_findRoots","dist","_bezier","newDist","location","distance","_nearestPointOnCurve","td","cdTable","z","row","column","parseFloat","k","lb","max","ub","min","depth","left_count","right_count","left","right","left_t","right_t","_getCrossingCount","_isFlatEnough","_computeXIntercept","sign","old_sign","n_crossings","error","intercept_1","intercept_2","left_intercept","right_intercept","a","b","det","dInv","a1","b1","c1","a2","b2","c2","max_distance_above","max_distance_below","XLK","YLK","XNM","YNM","XMK","YMK","detInv","S","temp","_curveFunctionCache","_getCurveFunctions","order","fns","f_term","l_term","c_term","t_term","one_minus_t_term","_termFunc","terms","_pointOnPath","cc","_x","_y","_dist","p1","p2","_isPoint","_pointAlongPath","prev","tally","curLoc","direction","cur","abs","_length","_pointAlongPathFrom","_locationAlongPathFrom","_gradientAtPoint","dy","dx","Infinity","atan","_gradientAtPointAlongPathFrom","_perpendicularToPathAt","_theta2","sin","cos","_lineIntersection","x1","y1","x2","y2","coeffs","_computeCoefficients","_cubicRoots","intersections","t2","t3","_boxIntersection","h","_boundingBoxIntersection","boundingBox","_computeCoefficientsForAxis","axis","T","A","B","C","Q","R","D","th","acos","PI","jsBezier","this","distanceFromCurve","gradientAtPoint","gradientAtPointAlongCurveFrom","nearestPointOnCurve","pointOnCurve","pointAlongCurveFrom","perpendicularToCurveAt","locationAlongCurveFrom","getLength","lineIntersection","boxIntersection","boundingBoxIntersection","version","root","Biltong","_isa","toString","_pointHelper","fn","_gradient","gradient","_p1","_p2","_quadrant","normal","lineLength","quadrant","_segmentMultipliers","theta","intersects","r1","r2","encloses","allowSharedEdges","v3","v4","_inverseSegmentMultipliers","pointOnLine","fromPoint","toPoint","segmentMultiplier","perpendicularLineTo","theta2","_touch","view","target","pageX","pageY","screenX","screenY","clientX","clientY","Touch","identifier","_uuid","_touchList","list","Array","arguments","item","index","_touchAndList","matchesSelector","el","selector","ctx","parentNode","possibles","querySelectorAll","_gel","constructor","String","document","getElementById","_t","srcElement","_pi","obj","doCompute","path","indexOf","end","out","_one","_d","guid","_store","event","g","__ta","__tauid","_unstore","__taExtra","_unbind","__taUnstore","_curryChildFilter","children","evt","split","_fn","pathInfo","registerExtraFunction","newFn","DefaultHandler","isTouchDevice","touchMap","tfn","_bind","getAttribute","setAttribute","SmartClickHandler","__taSmartClicks","down","__tad","_pageLocation","up","__tau","click","_tapProfiles","touches","taps","TapHandler","clickThreshold","dblClickThreshold","isMouseDevice","__taTapHandler","tt","tap","dbltap","contextmenu","downSelectors","finished","setTimeout","clearSingle","clearDouble","currentTarget","tc","_touchCount","eventId","pLoop","meeHelper","type","__tamee","MouseEnterExitHandler","activeElements","over","mouseenter","mouseexit","relatedTarget","toElement","documentElement","iev","rv","navigator","appName","ua","userAgent","re","RegExp","exec","$1","isIELT9","_genLoc","prefix","ts","_touches","_getTouch","scrollLeft","scrollTop","_screenLocation","_clientLocation","idx","changedTouches","targetTouches","originalFn","addEventListener","attachEvent","_each","_el","removeEventListener","detachEvent","__taTouchProxy","Window","top","tagName","replace","random","Mottle","params","mouseEnterExitHandler","tapHandler","_smartClicks","smartClicks","_doBind","remove","removeChild","on","_c","_e","_f","off","trigger","originalEvent","payload","originalIsMouse","MouseEvent","eventToBind","bindingAMouseEvent","pl","sl","cl","_decorate","_evt","eventGenerators","touchList","init","initTouchEvent","initEvent","initMouseEvent","createEvent","ite","evtName","dispatchEvent","createEventObject","eventType","eventName","fireEvent","consume","doNotPreventDefault","stopPropagation","returnValue","preventDefault","pageLocation","setForceTouchEvents","setForceMouseEvents","_suggest","head","unshift","_vanquish","_difference","l1","l2","_isString","f","getOffsetRect","elem","box","getBoundingClientRect","body","docElem","pageYOffset","pageXOffset","clientTop","clientLeft","round","findDelegateElement","parentElement","childElement","currentParent","findMatchingSelector","availableSelectors","draggableId","filter","matches","exclude","filterExclude","DEFAULT_GRID_X","DEFAULT_GRID_Y","isIE9","_pl","_classes","delegatedDraggable","draggable","droppable","drag","selected","active","hover","noSelect","ghostProxy","clonedDrag","_defaultScope","_events","_devNull","_true","_foreach","from","_setDroppablesActive","dd","val","andHover","setActive","updatePosition","setHover","_consume","_defaultInputFilterSelector","_inputFilter","_katavorio","getInputFilterSelector","Super","css","scope","addClass","_class","uuid","enabled","setEnabled","isEnabled","toggleEnabled","setScope","scopes","addScope","removeScope","toggleScope","katavorio","TRUE","FALSE","Drag","rightButtonCanDrag","currentParentPosition","ghostParentPosition","ghostDx","ghostDy","downAt","posAtDown","pagePosAtDown","pageDelta","moving","initialScroll","consumeStartEvent","dragEl","clone","_multipleDrop","scroll","multipleDrop","isConstrained","useGhostProxy","cloneNode","elementToDrag","activeSelectorParams","ghostProxyParent","Date","getTime","constrain","snapThreshold","_snap","pos","gridX","gridY","thresholdX","thresholdY","_dx","floor","_dxl","_dxt","_dy","_dyl","_dyt","posses","posseRoles","toGrid","grid","tx","ty","snap","getPosition","snapped","setPosition","setUseGhostProxy","revertFunction","negativeFilter","allowNegative","_setConstrain","_constrainRect","_size","containment","setConstrain","setRevert","revert","_assignId","_katavorioId","_filters","_testFilter","_setFilter","setFilter","_exclude","addFilter","removeFilter","clearAllFilters","canDrag","constrainRect","matchingDroppables","intersectingDroppables","addSelector","downListener","defaultPrevented","isNotRightClick","which","button","match","style","position","parent","appendChild","moveListener","upListener","markSelection","markPosses","_dispatch","consumeFilteredEvents","_continue","mark","abort","ignoreZoom","getZoom","moveBy","updateSelection","updatePosses","unbind","removeClass","unmark","unmarkSelection","unmarkPosses","stop","notifyPosseDragStop","getFilters","getDragElement","retrieveOriginalElement","listeners","events","start","beforeStart","ghostProxyOffsets","notifyStart","force","positions","sel","getSelection","dPos","finalPos","selection","andNotify","cs","size","getSize","getMatchingDroppables","dragClass","getConstrainingRectangle","notifySelectionDragStart","doNotCheckDroppables","offsetLeft","offsetTop","sort","_rankSort","retVal","drop","desiredLoc","cPos","gp","rect","pageRect","focusDropElement","pagePosition","canDrop","isHover","destroy","handle","Drop","rank","_activeClass","activeClass","_hoverClass","hoverClass","allowLoopback","_katavorioDragHover","Katavorio","katavorioParams","_selection","_selectionMap","_dragsByScope","_dropsByScope","_zoom","_reg","_obj","_unreg","_prepareParams","_m","_dd","_p","_mistletoe","existingDrag","_css","overrideCss","_scope","inputFilterSelector","setInputFilterSelector","_katavorioDrag","_katavorioDrop","select","deselect","_s","deselectAll","_posses","members","_posseAction","notifySelectionDragStop","setZoom","_scopeManip","kObj","_kObj","snapToGrid","getDragsForScope","getDropsForScope","_destroy","selIdx","_removeListener","elementRemoved","destroyDraggable","destroyDroppable","reset","_processOneSpec","_spec","dontAddExisting","posseId","posse","addToPosse","spec","setPosse","diff","removeFromPosse","TypeError","removeFromAllPosses","setPosseState","state","jsPlumbUtil","isArray","isNumber","isString","isBoolean","isNull","isObject","isDate","isFunction","isNamedFunction","isEmpty","merge","collations","overwrites","ar","cMap","oMap","inObj","q","term","lc","str","array","last","_getArray","a_1","functionChain","successValue","failValue","populate","model","values","functionPrefix","doNotExpandFunctions","getValue","fromString","substring","findWithFunction","removeWithFunction","addWithFunction","hashFunction","addToList","insertAtStart","suggest","insertAtHead","extend","child","_protoFn","_copyProtoChain","focus","proto","__proto__","_makeFn","protoFn","_oneSet","fastTrim","ws","test","charAt","each","mergeWithParents","parentAttribute","_def","_parent","def","overrides","mergeStrategy","d_1","_getDef","done","log","args","_i","logEnabled","console","msg","wrap","wrappedFunction","newFunction","returnOnThisValue","EventGenerator","_this","_listeners","eventsSuspended","tick","eventsToDieOn","queue","listener","__jsPlumb","fire","_gone","ret","shouldFireEvent","_drain","pop","eventOrListener","getListener","forEvent","setSuspendEvents","isSuspendEvents","silently","cleanupListeners","sizeElement","height","width","DEFAULT_OPTIONS","deriveAnchor","edge","ep","conn","bottom","ListManager","jsPlumbInstance","count","instance","lists","addList","options","listManager","removeList","scrollableLists","getSelector","_maybeUpdateParentList","source","jsPlumbListManager","dp","getInstanceIndex","join","List","_jsPlumbList","container","getContainer","_jsPlumbScrollHandler","anchor","deriveEndpoint","endpoint","_maybeUpdateDraggable","hasClass","recalculateOffsets","scrollHandler","elId","getId","_jsPlumbProxies","proxyConnection","endpoints","offsetHeight","unproxyConnection","revalidate","_ju","_timestamp","_updateHoverStyle","component","_jsPlumb","paintStyle","hoverPaintStyle","mergedHoverStyle","jsPlumb","fill","_updateAttachedElements","timestamp","sourceElement","affectedElements","getAttachedElements","_splitType","_mapType","typeId","_applyTypes","doNotRepaint","getDefaultType","getTypeDescriptor","defType","types","tid","getType","applyType","repaint","jsPlumbUIComponent","self","idPrefix","parameters","paintStyleInUse","beforeDetach","beforeDrop","overlayPlacements","Defaults","HoverClass","typeCache","cacheTypeItem","getCachedTypeItem","overlays","oo","defaultOverlayKeys","fo","convertToFullOverlaySpec","_defaultType","getDefaultScope","appendToDefaultType","isDetachAllowed","connection","isDropAllowed","sourceId","targetId","dropEndpoint","checkCondition","domListeners","setListenerComponent","_removeTypeCssHelper","typeIndex","cssClass","canvas","getParameter","setParameter","getParameters","setParameters","getClass","clazz","updateClasses","classesToAdd","classesToRemove","setType","clearTypes","reapplyTypes","hasType","addType","_cont","removeType","toggleType","setPaintStyle","setHoverPaintStyle","getPaintStyle","getHoverPaintStyle","ignoreAttachedElements","currentlyDragging","isHoverSuspended","method","isSuspendDrawing","recalc","_jsPlumbInstanceIndex","_defaults","Anchor","Anchors","ConnectionsDetachable","ConnectionOverlays","Connector","Container","DoNotThrowErrors","DragOptions","DropOptions","Endpoint","EndpointOverlays","Endpoints","EndpointStyle","EndpointStyles","EndpointHoverStyle","EndpointHoverStyles","HoverPaintStyle","LabelStyle","color","LogEnabled","Overlays","MaxConnections","PaintStyle","stroke","ReattachConnections","RenderMode","Scope","_connectionTypes","_endpointTypes","_currentInstance","_instanceIndex","_bb","_initialDefaults","_info","nodeType","text","getElement","_getId","repaintEverything","_container","_containerDelegations","unbindContainer","setContainer","moveParent","selectEndpoints","previousContainer","eventAliases","_oneDelegateHandler","componentType","jp","alias","_addOneDelegate","_oneDelegate","managedElements","initialized","importDefaults","restoreDefaults","connections","endpointsByElement","endpointsByUUID","offsets","offsetTimestamps","connectionBeingDragged","sizes","_suspendDrawing","_suspendedAt","DEFAULT_SCOPE","_curIdStamp","_idstamp","_appendElement","appendToRoot","_draw","element","ui","clearEdits","repaintEls","dm","getDragManager","getElementsForDraggable","_updateOffset","offset","anchorManager","redraw","_getEndpoint","_scopeMatch","e1","e2","s1","s2","_mergeOverrides","_prepareConnectionParams","referenceParams","sourceEndpoint","targetEndpoint","uuids","isFull","connectionType","connectorOverlays","connectorPointerEvents","_addEndpoint","anchors","endpointStyles","endpointStyle","endpointHoverStyles","endpointHoverStyle","addEndpoint","_oneElementDef","defs","matchType","newConnection","tep","epDef","label","newEndpoint","uniqueEndpoint","finalEndpoint","setDeleteOnEmpty","sourceEndpointDefinitions","targetEndpointDefinitions","_newConnection","connectionFunc","ConnectionType","getDefaultConnectionType","_newEndpoint","finaliseConnection","_finaliseConnection","con","isDetachable","initDraggable","jpc","doInformAnchorManager","suspendedEndpoint","pending","isTemporarySource","doNotFireConnectionEvent","eventArgs","endpointFunc","EndpointType","fireDetachEvent","elementId","_manage","headless","endpointAdded","_operation","func","ii","jj","_setVisible","alsoChangeEndpoints","setVisible","info","oidx","isVisible","_toggleVisible","changeEndpoints","_getCachedData","doNotCreateIfNotFound","undefined","setConnectionBeingDragged","isConnectionBeingDragged","getManagedElements","connectorClass","connectorOutlineClass","connectedClass","endpointClass","endpointConnectedClass","endpointFullClass","endpointDropAllowedClass","endpointDropForbiddenClass","overlayClass","draggingClass","elementDraggingClass","sourceElementDraggingClass","targetElementDraggingClass","endpointAnchorClassPrefix","hoverSourceClass","hoverTargetClass","dragSelectClass","Connectors","ConnectorRenderers","SVG","results","inputs","_ensureContainer","myOffset","paint","anchorLoc","compute","xy","wh","addEndpoints","animate","properties","animationSupported","del","stepFunction","animEvents","step","completeFunction","complete","doAnimate","conditionName","connect","stTypes","epDefs","_set","sid","sep","_st","cId","oldEndpoint","evtParams","originalSourceId","newSourceId","originalTargetId","newTargetId","addConnection","makeEndpoint","detachFromConnection","fireMoveEvent","setSource","sourceChanged","setTarget","updateOtherEndpoint","deleteEndpoint","dontUpdateHover","deleteAttachedObjects","deleteObject","deleteEveryEndpoint","_is","setSuspendDrawing","doFireEvent","connType","argIsConnection","connectionDetached","unregisterEndpoint","newEndpoints","IS_DETACH_ALLOWED","BEFORE_DETACH","CHECK_CONDITION","deleteConnection","cleanup","deleteEveryConnection","deletedCount","batch","deleteConnectionsForElement","endpointCount","connectionCount","unravelConnection","unravelEndpoint","doNotCleanup","_setOperation","_getOperation","setter","prepareList","input","doNotGetIds","filterList","missingIsFalse","getConnections","flat","sources","targets","_addOne","ss","proxies","originalEp","_curryEach","executor","_curryGet","_makeCommonSelectHandler","setters","getters","_makeConnectionSelectHandler","common","setDetachable","setReattach","setConnector","delete","isReattach","_makeEndpointSelectHandler","setAnchor","noElementFilters","elements","either","sourceMatchExact","targetMatchExact","inner","_ep","noMatchSource","isSource","noMatchTarget","isTarget","getAllConnections","getEndpoint","getEndpoints","getDefaultEndpointType","Connection","draw","appendElement","_hoverSuspended","setHoverSuspended","hide","idstamp","candidate","can","offsetParent","_getContainerFromDefaults","manage","_transient","unmanage","getOffset","centerx","centery","updateOffset","AnchorManager","makeAnchor","pp","_a","specimen","newAnchor","getOrientation","DynamicAnchor","anchorParams","orientation","makeAnchors","makeDynamicAnchor","anchorSelector","selectorFilter","_instance","negate","ok","_makeElementDropHandler","elInfo","dropOptions","proxyComponent","_drop","EndpointDropHandler","targetCount","maxConnections","onDrop","unlock","isRedrop","suspendedElement","eps","deriveEndpointAndAnchorSpec","_mtNew","positionFinder","dropPosition","getUIPosition","elPosition","elSize","ap","constructorParams","maybeCleanup","dropEvent","dragEvents","_drag","de","_jsPlumbRelatedElement","initDroppable","makeTarget","_doOne","elid","_isJsPlumbGroup","createEndpoint","targetDef","unmakeTarget","doNotClearArrays","makeSource","aae","onMaxConnections","_del","stopEvent","dragEvent","dragOptions","existingStop","endpointAddedButNoDragYet","anchorDef","oldAnchor","oldConnection","mouseDownListener","sourceCount","elxy","getPositionOnElement","tempEndpointParams","_delTempEndpoint","extract","att","setDragFilter","unmakeSource","eldefs","unmakeEverySource","_getScope","_setScope","getScope","getSourceScope","getTargetScope","setSourceScope","setTargetScope","setDragScope","setDropScope","unmakeEveryTarget","_setEnabled","toggle","originalState","newState","_first","toggleSourceEnabled","isSourceEnabled","setSourceEnabled","toggleTargetEnabled","isTargetEnabled","setTargetEnabled","ready","_elEach","isIdAlready","updateOffsets","removeAllEndpoints","recurse","ebe","childNodes","_doRemove","clearFor","removeFloatingConnection","floatingConnections","removeElement","ae","empty","dontRemoveFocus","doNotUnbindInstanceEventListeners","removeAllGroups","removeGroupManager","doReset","_clearObject","clear","setDefaultScope","dontPrependDefault","bits","as","setId","newId","doNotSetAttribute","sConns","tConns","setElementId","setReferenceElement","changeId","_conns","epIdx","setDebugLog","debugLog","repaintAfterwards","curVal","getSuspendedAt","doNotRepaintAfterwards","_wasSuspended","doWhileSuspended","getCachedData","show","toggleVisible","addListener","registerFloatingConnection","getFloatingConnectionFor","registerConnectionType","to","registerConnectionTypes","registerEndpointType","registerEndpointTypes","typeDescriptor","setIdChanged","oldId","setParent","newParent","_dom","_id","_pdom","_pid","o1","o2","names","getFloatingAnchorIndex","isFloating","proxyEl","proxyElId","endpointGenerator","anchorGenerator","proxyEp","originalElementId","originalEndpoint","isProxyEndpoint","originalElement","getInstance","overrideFns","ovf","_jp","_internalLabelOverlayId","_makeLabelOverlay","_params","labelStyle","mergedParams","getRenderMode","Label","_processOverlay","_newOverlay","OverlayCapableJsPlumbUIComponent","overlayPositions","labelLocation","defaultLabelLocation","emptyLabelStyle","keep","existing","updateFrom","reattach","addOverlay","removeOverlay","overlay","getData","locationAttribute","labelLocationAttribute","loc","getOverlay","getOverlays","hideOverlay","hideOverlays","showOverlay","showOverlays","removeAllOverlays","overlayId","dontCleanup","removeOverlays","bgCanvas","isAppendedAtTopLevel","getLabel","lo","getLabelOverlay","setLabel","Function","setLocation","setAbsoluteOverlayPosition","getAbsoluteOverlayPosition","_clazzManip","action","dontUpdateOverlays","_makeConnectionDragHandler","placeholder","stopped","_ui","anchorPoint","getCurrentLocation","stopDrag","_makeDraggablePlaceholder","ipco","ips","createElement","_makeFloatingEndpoint","referenceAnchor","referenceCanvas","floatingAnchor","FloatingAnchor","reference","typeParameters","findConnectionToUseForDynamicAnchor","elementWithPrecedence","connectorStyle","connectorHoverStyle","connectorHoverClass","connector","connectorTooltip","visible","floatingEndpoint","inPlaceCopy","dragProxy","connectionCost","connectionsDirected","currentAnchorClass","deleteOnEmpty","_updateAnchorClass","oldAnchorClass","getCssClass","anchorClass","prepareAnchor","currentAnchor","setPreparedAnchor","continuousAnchorFactory","internalHover","add","prepareEndpoint","rm","endpointArgs","tooltip","setEndpoint","setPreparedEndpoint","reattachConnections","connectionsDetachable","detachable","dragAllowedWhenFull","detachFrom","setElement","parentId","curId","rehomeEndpoint","dragManager","makeInPlaceCopy","acc","inPlaceAnchor","hideOnDrag","connectorSelector","setStyle","connectorPaintStyle","dimensions","isDynamic","oIdx","oId","oInfo","oOffset","oWH","txy","twh","tElement","draggingInitialised","isDragSupported","placeholderInfo","existingJpc","existingJpcParams","_dragHandler","defaultOpts","startEvent","beforeStartEvent","beforeStartParams","startParams","beforeDrag","canvasElement","setAttributes","endpointToFloat","centerAnchor","_savedAnchor","anchorIdx","dragScope","getDragScope","suspendedElementId","suspendedElementType","referenceEndpoint","getDropEvent","deleteConnectionNow","floatingElement","floatingId","floatingIndex","fe","_forceReattach","_forceDetach","deleteAfterDragStop","visibility","anchorParamsToUse","_initDropTarget","isTransient","isDropSupported","overEvent","outEvent","dhParams","getDragObject","_jpc","bb","doNotChangeConnections","doNotNotifyOtherEndpoint","display","isConnectedTo","found","getConnectionCost","setConnectionCost","areConnectionsDirected","setConnectionsDirected","_elId","setDragAllowedWhenFull","allowed","equals","getUuid","computeAnchor","existingConnection","_doContinue","continueFunction","optionalData","aParam","originalSourceEndpoint","newSourceEndpoint","originalTargetEndpoint","newTargetEndpoint","_toDelete","mergeData","dontContinueFunction","makeConnector","renderMode","connectorName","connectorArgs","forComponent","_makeAnchor","_updateConnectedClass","_jsPlumbConnections","previousConnection","editorParams","lastPaintedAt","definition","eS","eT","deleteEndpointsOnEmpty","_detachable","_reattach","myInfo","myWH","otherInfo","otherOffset","otherWH","initialTimestamp","cost","directed","setData","_types","updateConnectedClass","typeMap","_connector","prepareConnector","setPreparedConnector","_anchors","informEndpoints","getUuids","getCost","setCost","isDirected","getConnector","connectorSpec","doNotChangeListenerComponent","previous","previousClasses","transfer","swap","tId","sId","tIdx","sIdx","sourceInfo","targetInfo","sE","tE","sAnchorP","tAnchorP","resetBounds","sourcePos","targetPos","sourceOrientation","targetOrientation","strokeWidth","overlayExtents","minX","minY","maxX","maxY","lineWidth","outlineWidth","extents","xmin","bounds","ymin","xmax","ymax","paintExtents","es","outlineStroke","ehs","u","drawEndpoints","replaceEndpoint","endpointDef","current","_idx","_new","_amEndpoints","continuousAnchorLocations","continuousAnchorOrientations","connectionsByElementId","anchorLists","placeAnchorsOnLine","desc","elementDimensions","elementPosition","horizontal","otherMultiplier","reverse","other","xp","yp","currySort","reverseAngles","leftSort","edgeSortFunctions","_sortHelper","_array","placeAnchors","_anchorLists","cd","sS","sO","placeSomeAnchors","unsortedConnections","isHorizontal","sc","_setAnchorLocation","anchorPos","weAreSource","weAreTarget","addFloatingConnection","doRegisterTarget","registerConnection","otherIndex","otherEndpoint","otherAnchor","isContinuous","removeEndpointFromAnchorLists","eId","connInfo","doNotRedraw","removeConnection","getConnectionsFor","getEndpointsFor","_updateAnchorList","aBoolean","otherElId","edgeId","connsToPaint","endpointsToPaint","exactIdx","firstMatchingElIdx","endpointId","listToAddTo","listToRemoveFrom","_continuousAnchorEdge","rIdx","insertIdx","sourceElId","oldTargetId","sIndex","tIndex","originalId","newElement","currentId","offsetToUI","doNotRecalcEndpoint","endpointConnections","connectionsToPaint","anchorsToUpdate","orientationCache","sourceContinuous","targetContinuous","oKey","sd","calculateOrientation","getDefaultFace","fc","ContinuousAnchor","faces","clockwise","availableFaces","opposites","clockwiseOptions","antiClockwiseOptions","secondBest","lastChoice","_currentFace","_lockedFace","X_AXIS_FACES","Y_AXIS_FACES","_lockedAxis","isRelocatable","isSnapOnRelocate","verifyEdge","isEdgeSupported","setCurrentFace","face","overrideLock","getCurrentFace","getSupportedFaces","af","lock","isLocked","lockCurrentAxis","unlockCurrentAxis","sourceAnchor","targetAnchor","Orientation","HORIZONTAL","VERTICAL","DIAGONAL","IDENTITY","axes","atan2","midpoints","dim","sf","tf","sourceEdge","targetEdge","userDefinedLocation","lastReturnValue","relocatable","setRelocatable","_relocatable","snapOnRelocate","locked","clearUserDefinedLocation","ox","oy","ao","getUserDefinedLocation","setUserDefinedLocation","ref","refCanvas","xDir","yDir","_lastResult","_endpoint","_convertAnchor","getAnchors","_curAnchor","_lastAnchor","_distance","cx","cy","ax","ay","acx","acy","_anchorSelector","minIdx","minDist","udl","setAnchorCoordinates","coords","_curryAnchor","fnInit","DynamicAnchors","AutoDefault","_curryContinuousAnchor","Continuous","pf","AnchorPositionFinders","gx","gy","mx","my","Perimeter","anchorCount","shape","_circle","_path","segments","anchorsPerFace","_computeFace","fractionalLength","_shape","_rectangle","_shapes","points","tl","_rotate","amountInDegrees","da","rotation","_jg","Segments","AbstractSegment","findClosestPointOnPath","getBounds","Straight","m2","_recalc","getGradient","getCoordinates","setCoordinates","pointOnPath","absolute","_","pointAlongPathFrom","farAwayPoint","within","closest","_x1","_y1","fractionInSegment","_pointLiesBetween","_plb","_x2","_y2","m1","X","Y","Arc","_calcAngle","_calcAngleForLocation","segment","anticlockwise","sa","startAngle","endAngle","TWO_PI","ea","radius","ac","sweep","circumference","frac","VERY_SMALL_VALUE","gentleRound","ceil","angle","arcSpan","dir","startX","startY","Bezier","cp1x","cp1y","cp2x","cp2y","_translateLocation","_curve","SegmentRenderer","getPath","isFirstSegment","laf","AbstractComponent","AbstractConnector","totalLength","segmentProportions","segmentProportionalLengths","stub","sourceStub","targetStub","gap","sourceGap","targetGap","userProvidedSegments","paintInfo","getPathData","findSegmentForPoint","connectorLocation","_updateSegmentProportions","_findSegmentForLocation","inSegmentProportion","proportion","_addSegment","updateBounds","_clearSegments","setSegments","_segs","_prepareCompute","swapX","swapY","lw","so","oIndex","sx","sy","oProduct","xSpan","ySpan","startStubX","startStubY","endStubX","endStubY","isXGreaterThanStubTimes2","isYGreaterThanStubTimes2","opposite","perpendicular","orthogonal","sourceAxis","stubs","anchorOrientation","getSegments","segBounds","seg","_compute","addSegment","prepareCompute","maxStub","maxGap","AbstractEndpoint","Dot","defaultOffset","defaultInnerRadius","Rectangle","DOMElementEndpoint","displayElements","getDisplayElements","appendDisplayElement","Image","_onload","onload","src","url","img","deleted","widthToUse","heightToUse","setImage","_img","margin","padding","outline","actuallyPaint","Blank","background","Triangle","AbstractOverlay","endpointLoc","endpointLocation","incrementLocation","amount","getLocation","Arrow","foldback","computeMaxSize","elementCreated","currentConnectionPaintStyle","hxy","mid","tail","cxy","parseInt","fromLoc","__","PlainArrow","Diamond","_getDimensions","forceRefresh","cachedDimensions","getDimensions","AbstractDOMOverlay","detached","div","initialised","initiallyInvisible","webkitTransform","mozTransform","msTransform","oTransform","transform","absolutePosition","locToUse","minx","miny","clearCachedDimensions","containerExtents","Custom","GuideLines","tailLine","headLine","labelText","font","borderWidth","dStyle","borderStyle","border","update","lt","innerHTML","_jpi","GROUP_COLLAPSED_CLASS","GROUP_EXPANDED_CLASS","GROUP_CONTAINER_SELECTOR","ELEMENT_DRAGGABLE_EVENT","STOP","REVERT","GROUP_MANAGER","GROUP","GROUP_DRAG_SCOPE","EVT_CHILD_ADDED","EVT_CHILD_REMOVED","EVT_GROUP_ADDED","EVT_GROUP_REMOVED","EVT_EXPAND","EVT_COLLAPSE","EVT_GROUP_DRAG_STOP","EVT_CONNECTION_MOVED","EVT_INTERNAL_CONNECTION_DETACHED","CMD_REMOVE_ALL","CMD_ORPHAN_ALL","CMD_SHOW","CMD_HIDE","GroupManager","_managedGroups","_connectionSourceMap","_connectionTargetMap","_cleanupDetachedConnection","group","getMembers","connMap","addGroup","getEl","manager","_updateConnectionsForGroup","addToGroup","doNotFireEvent","getGroup","groupEl","currentGroup","_jsPlumbGroup","elpos","cpos","collapsed","getDragArea","updateConnectionsForGroup","handleDroppedConnections","_expandConnection","_collapseConnection","newPosition","revalidateParent","sourceGroup","removeFromGroup","groupId","getGroups","removeGroup","deleteMembers","manipulateDOM","expandGroup","newPositions","_groups","otherEl","shouldProxy","groupElId","getAnchor","collapseGroup","_collapseSet","conns","processed","oneSet","_expandSet","repaintGroup","refreshAllGroups","Group","ghost","orphan","prune","dropOverride","proxied","internal","endpointIndex","opts","overrideDrop","getGroupManager","els","_findParent","_isInsideParent","leftEdge","rightEdge","topEdge","bottomEdge","_orphan","_unbindDragHandlers","clearParent","_pruneOrOrphan","orphanedPosition","_revalidate","_bindDragHandlers","__el","targetGroup","dragArea","isAlreadyDraggable","doNotUpdateConnections","removeAll","orphanAll","orphanedPositions","dragParams","toggleGroup","mgr","getGroupFor","STRAIGHT","ARC","Flowchart","_super","midpoint","alwaysRespectStubs","lastx","lasty","cornerRadius","loopbackRadius","segmentDirections","lx","ly","segLength","_cloneArray","writeSegments","next","currentDirection","nextDirection","minSegLength","radiusToUse","sgny","sgnx","sgnEqual","commonStubCalculator","stubCalculators","pi","areInProximity","oss","oes","midx","midy","orientations","lineCalculators","sis","midLines","linesToEnd","startToEnd","startToMidToEnd","otherStubs","soIdx","toIdx","_so","_to","otherFlipped","stub1","stub2","segmentIndexes","startStub","otherStartStub","endStub","otherEndStub","extent","otherAxis","comparator","toUpperCase","_val","AbstractBezierConnector","showLoopback","curviness","proximityLimit","sp","tp","_w","_h","loopback","_computeBezier","majorAnchor","minorAnchor","getCurviness","_findControlPoint","sourceAnchorPosition","targetAnchorPosition","soo","too","_CP","_CP2","_sx","_sy","_tx","_ty","_segment","StateMachine","_controlPoint","_midx","_midy","svgAttributeMap","STROKE_DASHARRAY","DASHSTYLE","LINEAR_GRADIENT","RADIAL_GRADIENT","DEFS","FILL","STROKE","STROKE_WIDTH","STYLE","NONE","JSPLUMB_GRADIENT","LINE_WIDTH","svg","_attr","node","attributes","_node","xmlns","createElementNS","_pos","_clearGradient","_updateGradient","uiComponent","gradientUnits","stops","styleToUse","stopColor","applyGradientTo","_applyStyles","parts","forEach","_appendAtIndex","insertBefore","attr","SvgComponent","pointerEventsSpec","renderer","originalArgs","svgParams","useDivWrapper","className","outlineStyle","outlineStrokeWidth","bgPath","SvgEndpoint","makeNode","updateNode","AbstractSvgArrowOverlay","superclass","makePath","isNaN","p1_1","p1_2","attachListeners","d1","d2","_jk","_getEventManager","_mottle","_getDragManager","category","getEventManager","scrollWidth","scrollHeight","relativeToRoot","_dragStart","_jsPlumbDragOptions","cont","_dragMove","_dragging","_dragStop","uip","dragEnded","_animProps","pName","DragManager","_draggables","_dlist","_delements","_elementsWithEndpoints","_draggablesForElements","register","parentOffset","_oneLevel","cEl","cid","cOff","childOffsetOverrides","domEl","cel","pid","pLoc","cLoc","endpointDeleted","ancestor","pId","currentChildLocation","childOffset","co","getDragAncestor","aid","_setClassName","cn","classList","baseVal","_getClassName","_classManip","curClasses","classes","screenLocation","clientLocation","tag","atts","attName","getRenderModes","contains","toggleClass","toAdd","toRemove","setClass","prop","getStyle","getComputedStyle","getPropertyValue","currentStyle","op","_maybeAdjustScroll","zoom","pst","psl","offsetWidth","getAbsolutePosition","setAbsolutePosition","animateFrom","animateOptions","getWidth","getHeight","_initDraggableIfNecessary","_oneEl","_me","mel","unbindDraggable","setDraggable","_draggableStates","setElementDraggable","toggleDraggable","isDraggable","_draggable","disabled","enctype","ldist","tdist","duration","steps","linc","tinc","_int","setInterval","clearInterval","unbindDroppable","isElementDraggable","oc","specs","addToDragSelection","removeFromDragSelection","clearDragSelection","callback","_do","readyState","_vm","$createElement","_self","attrs","staticRenderFns","staticClass","isCollapse","currentPath","slot","_v","props","pathname","staticStyle","collapse","refresh","Utils","fullScreen","$event","dialogVisible","handleCommand","username","saveNotes","$$v","notes","expression","inject","localStorage","getItem","methods","$store","commit","reload","setItem","command","$router","computed","provide","isRouterAlive","components","Menus","Headers","$nextTick","asideWidth","NodeClass","judge","labelClassName","openBox2","onMouseover","onMouseout","conditional","taskquerylist","$set","_l","option","time","handleAdd","defaultList","queryList","users","selectChange","scopedSlots","_u","jobName","jobType","jobState","sta","startTime","endTime","createBy","currentPage","pageSize","lotalElements","handleSizeChange","handleCurrentChange","IdOrName","user","date","phone","address","status","page","userBackup","assign","multipleSelection","userFormVisible","dialogTitle","rowIndex","rules","mounted","getUsers","skipoptions","$message","$http","dianji","doOptions","loading","handleEdit","handleDelete","$confirm","confirmButtonText","cancelButtonText","resetForm","$refs","formName","clearValidate","mulDelete","len","message","articles","$index","articleFormVisible","article","editorOption","editArticle","title","author","content","toolbar","theme","quillEditor","getArticles","then","err","validate","valid","loginForm","textType","nativeOn","_k","keyCode","login","changeType","directives","rawName","password","showMsg","res","sessionStorage","JSON","stringify","sendCount","mailStatusSNMP","getmails","mails","total","mailFormVisible","mail","giveUp","conserve","setTask","Operation","activeElement","deleteElement","zoomAdd","zoomSub","dataInfo","dataReloadC","addNode","refInFor","changeNodeSite","nodeRightMenu","clickNode","setLineLabel","isHideFrom","easyFlowMixin","jsplumbSetting","DeleteEndpointsOnDetach","cursor","zIndex","jsplumbConnectOptions","jsplumbSourceOptions","jsplumbStartSourceOptions","jsplumbSourceOptions2","jsplumbTargetOptions","class","nodeContainerClass","nodeClass","image","caption","nodeTypeID","isShowBottomLine","created","clssss","nodeContainerStyle","nodeIcoClass","ico","viewOnly","$emit","nodeId","menu","open","draggableOptions","move","subMenu","menuList","flowJsonData","blacklist","includes","defaultValue","tips","inx","til","delhavior","openBox","notelist","items","Deselect","save","line","saveLine","popAffirm","popCancel","form","removeTest","saveTest","sum","watch","examgleng","groups","nameIsNull","switchValue","activeNames","isShowOpenBox","stateList","abshunt","nodeInit","nodeList","lineInit","handleChange","dataC","getDataC","easyFlowVisible","flowInfoVisible","loadEasyFlowFinish","flowHelpVisible","isShowForm","mixins","flowNode","nodeMenu","FlowInfo","FlowNodeForm","FlowHelp","flowDrag","binding","onmousedown","onmousemove","disX","disY","onmouseup","getUUID","jsPlumbInit","loadEasyFlow","lineList","connParam","deleteNode","deleteLine","changeLine","oldFrom","oldTo","containerRect","efContainer","origName","nodeName","repeat","controlState","startArr","closeOnClickModal","nodeForm","is","hasLine","hashOppositeLine","curNodeId","flowInfo","dataReload","$prompt","inputPattern","inputErrorMessage","openHelp","flowHelp","noteFailure","queryNote","smsType","smsValue","expiryDate","approvalStatus","value1","optiondivout","optiondivover","tableData","xx","optiondivstate","Vue","use","Router","router","base","process","routes","anniu","Login","note","ab","Index","Console","Users","Articles","MailList","NotFound","Panel","redirect","beforeEach","LOGINURL","removeItem","Vuex","Store","mutations","switchCollapse","actions","dt","getFullYear","getMonth","getDate","getDay","weeks","padStart","isFullScreen","mozIsFullScreen","webkitIsFullScreen","close","exitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","docElm","requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","Random","Mock","mock","parse","jobTypeList","taskList","cname","taskquerylistfu","abtest","config","productionTip","ElementUI","Vue2OrgTree","axios","$qs","qs","store","render","App","$mount"],"mappings":"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","file":"js/app.224a192b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/条件分支.c9a398e7.png\";","module.exports = __webpack_public_path__ + \"img/短信.4150f6fc.png\";","var map = {\n\t\"./AB测试.png\": \"2c51\",\n\t\"./addtag.png\": \"c206\",\n\t\"./app内消息.png\": \"d057\",\n\t\"./app弹窗.png\": \"c7f5\",\n\t\"./images/delete.png\": \"b32a\",\n\t\"./push.png\": \"ba25\",\n\t\"./start.png\": \"fd98\",\n\t\"./stop.png\": \"e7e7\",\n\t\"./wait.png\": \"d398\",\n\t\"./删除标签.png\": \"5c85\",\n\t\"./利益点.png\": \"ec69\",\n\t\"./加入群组.png\": \"a9cd\",\n\t\"./发送邮件.png\": \"9e16\",\n\t\"./子任务.png\": \"6896\",\n\t\"./客服外呼.png\": \"b8c3\",\n\t\"./微信模板消息.png\": \"86d2\",\n\t\"./微信消息.png\": \"786e\",\n\t\"./承接设置.png\": \"bb15\",\n\t\"./推荐.png\": \"d934\",\n\t\"./条件分支.png\": \"009f\",\n\t\"./短信.png\": \"0e8d\",\n\t\"./移除群组.png\": \"ab08\",\n\t\"./设置关系.png\": \"6d62\",\n\t\"./赛马.png\": \"c00f\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"1771\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=33995f29&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=33995f29&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=style&index=0&id=5358bdd0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=style&index=0&id=5358bdd0&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/AB测试.3cd61797.png\";","/**\r\n * jsBezier\r\n *\r\n * Copyright (c) 2010 - 2017 jsPlumb (hello@jsplumbtoolkit.com)\r\n *\r\n * licensed under the MIT license.\r\n *\r\n * a set of Bezier curve functions that deal with Beziers, used by jsPlumb, and perhaps useful for other people.  These functions work with Bezier\r\n * curves of arbitrary degree.\r\n *\r\n * - functions are all in the 'jsBezier' namespace.\r\n *\r\n * - all input points should be in the format {x:.., y:..}. all output points are in this format too.\r\n *\r\n * - all input curves should be in the format [ {x:.., y:..}, {x:.., y:..}, {x:.., y:..}, {x:.., y:..} ]\r\n *\r\n * - 'location' as used as an input here refers to a decimal in the range 0-1 inclusive, which indicates a point some proportion along the length\r\n * of the curve.  location as output has the same format and meaning.\r\n *\r\n *\r\n * Function List:\r\n * --------------\r\n *\r\n * distanceFromCurve(point, curve)\r\n *\r\n * \tCalculates the distance that the given point lies from the given Bezier.  Note that it is computed relative to the center of the Bezier,\r\n * so if you have stroked the curve with a wide pen you may wish to take that into account!  The distance returned is relative to the values\r\n * of the curve and the point - it will most likely be pixels.\r\n *\r\n * gradientAtPoint(curve, location)\r\n *\r\n * \tCalculates the gradient to the curve at the given location, as a decimal between 0 and 1 inclusive.\r\n *\r\n * gradientAtPointAlongCurveFrom (curve, location)\r\n *\r\n *\tCalculates the gradient at the point on the given curve that is 'distance' units from location.\r\n *\r\n * nearestPointOnCurve(point, curve)\r\n *\r\n *\tCalculates the nearest point to the given point on the given curve.  The return value of this is a JS object literal, containing both the\r\n *point's coordinates and also the 'location' of the point (see above), for example:  { point:{x:551,y:150}, location:0.263365 }.\r\n *\r\n * pointOnCurve(curve, location)\r\n *\r\n * \tCalculates the coordinates of the point on the given Bezier curve at the given location.\r\n *\r\n * pointAlongCurveFrom(curve, location, distance)\r\n *\r\n * \tCalculates the coordinates of the point on the given curve that is 'distance' units from location.  'distance' should be in the same coordinate\r\n * space as that used to construct the Bezier curve.  For an HTML Canvas usage, for example, distance would be a measure of pixels.\r\n *\r\n * locationAlongCurveFrom(curve, location, distance)\r\n *\r\n * \tCalculates the location on the given curve that is 'distance' units from location.  'distance' should be in the same coordinate\r\n * space as that used to construct the Bezier curve.  For an HTML Canvas usage, for example, distance would be a measure of pixels.\r\n *\r\n * perpendicularToCurveAt(curve, location, length, distance)\r\n *\r\n * \tCalculates the perpendicular to the given curve at the given location.  length is the length of the line you wish for (it will be centered\r\n * on the point at 'location'). distance is optional, and allows you to specify a point along the path from the given location as the center of\r\n * the perpendicular returned.  The return value of this is an array of two points: [ {x:...,y:...}, {x:...,y:...} ].\r\n *\r\n *\r\n */\r\n\r\n(function() {\r\n\r\n    var root = this;\r\n\r\n    if(typeof Math.sgn == \"undefined\") {\r\n        Math.sgn = function(x) { return x == 0 ? 0 : x > 0 ? 1 :-1; };\r\n    }\r\n\r\n    var Vectors = {\r\n            subtract \t: \tfunction(v1, v2) { return {x:v1.x - v2.x, y:v1.y - v2.y }; },\r\n            dotProduct\t: \tfunction(v1, v2) { return (v1.x * v2.x)  + (v1.y * v2.y); },\r\n            square\t\t:\tfunction(v) { return Math.sqrt((v.x * v.x) + (v.y * v.y)); },\r\n            scale\t\t:\tfunction(v, s) { return {x:v.x * s, y:v.y * s }; }\r\n        },\r\n\r\n        maxRecursion = 64,\r\n        flatnessTolerance = Math.pow(2.0,-maxRecursion-1);\r\n\r\n    /**\r\n     * Calculates the distance that the point lies from the curve.\r\n     *\r\n     * @param point a point in the form {x:567, y:3342}\r\n     * @param curve a Bezier curve in the form [{x:..., y:...}, {x:..., y:...}, {x:..., y:...}, {x:..., y:...}].  note that this is currently\r\n     * hardcoded to assume cubiz beziers, but would be better off supporting any degree.\r\n     * @return a JS object literal containing location and distance, for example: {location:0.35, distance:10}.  Location is analogous to the location\r\n     * argument you pass to the pointOnPath function: it is a ratio of distance travelled along the curve.  Distance is the distance in pixels from\r\n     * the point to the curve.\r\n     */\r\n    var _distanceFromCurve = function(point, curve) {\r\n        var candidates = [],\r\n            w = _convertToBezier(point, curve),\r\n            degree = curve.length - 1, higherDegree = (2 * degree) - 1,\r\n            numSolutions = _findRoots(w, higherDegree, candidates, 0),\r\n            v = Vectors.subtract(point, curve[0]), dist = Vectors.square(v), t = 0.0;\r\n\r\n        for (var i = 0; i < numSolutions; i++) {\r\n            v = Vectors.subtract(point, _bezier(curve, degree, candidates[i], null, null));\r\n            var newDist = Vectors.square(v);\r\n            if (newDist < dist) {\r\n                dist = newDist;\r\n                t = candidates[i];\r\n            }\r\n        }\r\n        v = Vectors.subtract(point, curve[degree]);\r\n        newDist = Vectors.square(v);\r\n        if (newDist < dist) {\r\n            dist = newDist;\r\n            t = 1.0;\r\n        }\r\n        return {location:t, distance:dist};\r\n    };\r\n    /**\r\n     * finds the nearest point on the curve to the given point.\r\n     */\r\n    var _nearestPointOnCurve = function(point, curve) {\r\n        var td = _distanceFromCurve(point, curve);\r\n        return {point:_bezier(curve, curve.length - 1, td.location, null, null), location:td.location};\r\n    };\r\n    var _convertToBezier = function(point, curve) {\r\n        var degree = curve.length - 1, higherDegree = (2 * degree) - 1,\r\n            c = [], d = [], cdTable = [], w = [],\r\n            z = [ [1.0, 0.6, 0.3, 0.1], [0.4, 0.6, 0.6, 0.4], [0.1, 0.3, 0.6, 1.0] ];\r\n\r\n        for (var i = 0; i <= degree; i++) c[i] = Vectors.subtract(curve[i], point);\r\n        for (var i = 0; i <= degree - 1; i++) {\r\n            d[i] = Vectors.subtract(curve[i+1], curve[i]);\r\n            d[i] = Vectors.scale(d[i], 3.0);\r\n        }\r\n        for (var row = 0; row <= degree - 1; row++) {\r\n            for (var column = 0; column <= degree; column++) {\r\n                if (!cdTable[row]) cdTable[row] = [];\r\n                cdTable[row][column] = Vectors.dotProduct(d[row], c[column]);\r\n            }\r\n        }\r\n        for (i = 0; i <= higherDegree; i++) {\r\n            if (!w[i]) w[i] = [];\r\n            w[i].y = 0.0;\r\n            w[i].x = parseFloat(i) / higherDegree;\r\n        }\r\n        var n = degree, m = degree-1;\r\n        for (var k = 0; k <= n + m; k++) {\r\n            var lb = Math.max(0, k - m),\r\n                ub = Math.min(k, n);\r\n            for (i = lb; i <= ub; i++) {\r\n                var j = k - i;\r\n                w[i+j].y += cdTable[j][i] * z[j][i];\r\n            }\r\n        }\r\n        return w;\r\n    };\r\n    /**\r\n     * counts how many roots there are.\r\n     */\r\n    var _findRoots = function(w, degree, t, depth) {\r\n        var left = [], right = [],\r\n            left_count, right_count,\r\n            left_t = [], right_t = [];\r\n\r\n        switch (_getCrossingCount(w, degree)) {\r\n            case 0 : {\r\n                return 0;\r\n            }\r\n            case 1 : {\r\n                if (depth >= maxRecursion) {\r\n                    t[0] = (w[0].x + w[degree].x) / 2.0;\r\n                    return 1;\r\n                }\r\n                if (_isFlatEnough(w, degree)) {\r\n                    t[0] = _computeXIntercept(w, degree);\r\n                    return 1;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        _bezier(w, degree, 0.5, left, right);\r\n        left_count  = _findRoots(left,  degree, left_t, depth+1);\r\n        right_count = _findRoots(right, degree, right_t, depth+1);\r\n        for (var i = 0; i < left_count; i++) t[i] = left_t[i];\r\n        for (var i = 0; i < right_count; i++) t[i+left_count] = right_t[i];\r\n        return (left_count+right_count);\r\n    };\r\n    var _getCrossingCount = function(curve, degree) {\r\n        var n_crossings = 0, sign, old_sign;\r\n        sign = old_sign = Math.sgn(curve[0].y);\r\n        for (var i = 1; i <= degree; i++) {\r\n            sign = Math.sgn(curve[i].y);\r\n            if (sign != old_sign) n_crossings++;\r\n            old_sign = sign;\r\n        }\r\n        return n_crossings;\r\n    };\r\n    var _isFlatEnough = function(curve, degree) {\r\n        var  error,\r\n            intercept_1, intercept_2, left_intercept, right_intercept,\r\n            a, b, c, det, dInv, a1, b1, c1, a2, b2, c2;\r\n        a = curve[0].y - curve[degree].y;\r\n        b = curve[degree].x - curve[0].x;\r\n        c = curve[0].x * curve[degree].y - curve[degree].x * curve[0].y;\r\n\r\n        var max_distance_above, max_distance_below;\r\n        max_distance_above = max_distance_below = 0.0;\r\n\r\n        for (var i = 1; i < degree; i++) {\r\n            var value = a * curve[i].x + b * curve[i].y + c;\r\n            if (value > max_distance_above)\r\n                max_distance_above = value;\r\n            else if (value < max_distance_below)\r\n                max_distance_below = value;\r\n        }\r\n\r\n        a1 = 0.0; b1 = 1.0; c1 = 0.0; a2 = a; b2 = b;\r\n        c2 = c - max_distance_above;\r\n        det = a1 * b2 - a2 * b1;\r\n        dInv = 1.0/det;\r\n        intercept_1 = (b1 * c2 - b2 * c1) * dInv;\r\n        a2 = a; b2 = b; c2 = c - max_distance_below;\r\n        det = a1 * b2 - a2 * b1;\r\n        dInv = 1.0/det;\r\n        intercept_2 = (b1 * c2 - b2 * c1) * dInv;\r\n        left_intercept = Math.min(intercept_1, intercept_2);\r\n        right_intercept = Math.max(intercept_1, intercept_2);\r\n        error = right_intercept - left_intercept;\r\n        return (error < flatnessTolerance)? 1 : 0;\r\n    };\r\n    var _computeXIntercept = function(curve, degree) {\r\n        var XLK = 1.0, YLK = 0.0,\r\n            XNM = curve[degree].x - curve[0].x, YNM = curve[degree].y - curve[0].y,\r\n            XMK = curve[0].x - 0.0, YMK = curve[0].y - 0.0,\r\n            det = XNM*YLK - YNM*XLK, detInv = 1.0/det,\r\n            S = (XNM*YMK - YNM*XMK) * detInv;\r\n        return 0.0 + XLK * S;\r\n    };\r\n    var _bezier = function(curve, degree, t, left, right) {\r\n        var temp = [[]];\r\n        for (var j =0; j <= degree; j++) temp[0][j] = curve[j];\r\n        for (var i = 1; i <= degree; i++) {\r\n            for (var j =0 ; j <= degree - i; j++) {\r\n                if (!temp[i]) temp[i] = [];\r\n                if (!temp[i][j]) temp[i][j] = {};\r\n                temp[i][j].x = (1.0 - t) * temp[i-1][j].x + t * temp[i-1][j+1].x;\r\n                temp[i][j].y = (1.0 - t) * temp[i-1][j].y + t * temp[i-1][j+1].y;\r\n            }\r\n        }\r\n        if (left != null)\r\n            for (j = 0; j <= degree; j++) left[j]  = temp[j][0];\r\n        if (right != null)\r\n            for (j = 0; j <= degree; j++) right[j] = temp[degree-j][j];\r\n\r\n        return (temp[degree][0]);\r\n    };\r\n\r\n    var _curveFunctionCache = {};\r\n    var _getCurveFunctions = function(order) {\r\n        var fns = _curveFunctionCache[order];\r\n        if (!fns) {\r\n            fns = [];\r\n            var f_term = function() { return function(t) { return Math.pow(t, order); }; },\r\n                l_term = function() { return function(t) { return Math.pow((1-t), order); }; },\r\n                c_term = function(c) { return function(t) { return c; }; },\r\n                t_term = function() { return function(t) { return t; }; },\r\n                one_minus_t_term = function() { return function(t) { return 1-t; }; },\r\n                _termFunc = function(terms) {\r\n                    return function(t) {\r\n                        var p = 1;\r\n                        for (var i = 0; i < terms.length; i++) p = p * terms[i](t);\r\n                        return p;\r\n                    };\r\n                };\r\n\r\n            fns.push(new f_term());  // first is t to the power of the curve order\r\n            for (var i = 1; i < order; i++) {\r\n                var terms = [new c_term(order)];\r\n                for (var j = 0 ; j < (order - i); j++) terms.push(new t_term());\r\n                for (var j = 0 ; j < i; j++) terms.push(new one_minus_t_term());\r\n                fns.push(new _termFunc(terms));\r\n            }\r\n            fns.push(new l_term());  // last is (1-t) to the power of the curve order\r\n\r\n            _curveFunctionCache[order] = fns;\r\n        }\r\n\r\n        return fns;\r\n    };\r\n\r\n\r\n    /**\r\n     * calculates a point on the curve, for a Bezier of arbitrary order.\r\n     * @param curve an array of control points, eg [{x:10,y:20}, {x:50,y:50}, {x:100,y:100}, {x:120,y:100}].  For a cubic bezier this should have four points.\r\n     * @param location a decimal indicating the distance along the curve the point should be located at.  this is the distance along the curve as it travels, taking the way it bends into account.  should be a number from 0 to 1, inclusive.\r\n     */\r\n    var _pointOnPath = function(curve, location) {\r\n        var cc = _getCurveFunctions(curve.length - 1),\r\n            _x = 0, _y = 0;\r\n        for (var i = 0; i < curve.length ; i++) {\r\n            _x = _x + (curve[i].x * cc[i](location));\r\n            _y = _y + (curve[i].y * cc[i](location));\r\n        }\r\n\r\n        return {x:_x, y:_y};\r\n    };\r\n\r\n    var _dist = function(p1,p2) {\r\n        return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\r\n    };\r\n\r\n    var _isPoint = function(curve) {\r\n        return curve[0].x === curve[1].x && curve[0].y === curve[1].y;\r\n    };\r\n\r\n    /**\r\n     * finds the point that is 'distance' along the path from 'location'.  this method returns both the x,y location of the point and also\r\n     * its 'location' (proportion of travel along the path); the method below - _pointAlongPathFrom - calls this method and just returns the\r\n     * point.\r\n     */\r\n    var _pointAlongPath = function(curve, location, distance) {\r\n\r\n        if (_isPoint(curve)) {\r\n            return {\r\n                point:curve[0],\r\n                location:location\r\n            };\r\n        }\r\n\r\n        var prev = _pointOnPath(curve, location),\r\n            tally = 0,\r\n            curLoc = location,\r\n            direction = distance > 0 ? 1 : -1,\r\n            cur = null;\r\n\r\n        while (tally < Math.abs(distance)) {\r\n            curLoc += (0.005 * direction);\r\n            cur = _pointOnPath(curve, curLoc);\r\n            tally += _dist(cur, prev);\r\n            prev = cur;\r\n        }\r\n        return {point:cur, location:curLoc};\r\n    };\r\n\r\n    var _length = function(curve) {\r\n        if (_isPoint(curve)) return 0;\r\n\r\n        var prev = _pointOnPath(curve, 0),\r\n            tally = 0,\r\n            curLoc = 0,\r\n            direction = 1,\r\n            cur = null;\r\n\r\n        while (curLoc < 1) {\r\n            curLoc += (0.005 * direction);\r\n            cur = _pointOnPath(curve, curLoc);\r\n            tally += _dist(cur, prev);\r\n            prev = cur;\r\n        }\r\n        return tally;\r\n    };\r\n\r\n    /**\r\n     * finds the point that is 'distance' along the path from 'location'.\r\n     */\r\n    var _pointAlongPathFrom = function(curve, location, distance) {\r\n        return _pointAlongPath(curve, location, distance).point;\r\n    };\r\n\r\n    /**\r\n     * finds the location that is 'distance' along the path from 'location'.\r\n     */\r\n    var _locationAlongPathFrom = function(curve, location, distance) {\r\n        return _pointAlongPath(curve, location, distance).location;\r\n    };\r\n\r\n    /**\r\n     * returns the gradient of the curve at the given location, which is a decimal between 0 and 1 inclusive.\r\n     *\r\n     * thanks // http://bimixual.org/AnimationLibrary/beziertangents.html\r\n     */\r\n    var _gradientAtPoint = function(curve, location) {\r\n        var p1 = _pointOnPath(curve, location),\r\n            p2 = _pointOnPath(curve.slice(0, curve.length - 1), location),\r\n            dy = p2.y - p1.y, dx = p2.x - p1.x;\r\n        return dy === 0 ? Infinity : Math.atan(dy / dx);\r\n    };\r\n\r\n    /**\r\n     returns the gradient of the curve at the point which is 'distance' from the given location.\r\n     if this point is greater than location 1, the gradient at location 1 is returned.\r\n     if this point is less than location 0, the gradient at location 0 is returned.\r\n     */\r\n    var _gradientAtPointAlongPathFrom = function(curve, location, distance) {\r\n        var p = _pointAlongPath(curve, location, distance);\r\n        if (p.location > 1) p.location = 1;\r\n        if (p.location < 0) p.location = 0;\r\n        return _gradientAtPoint(curve, p.location);\r\n    };\r\n\r\n    /**\r\n     * calculates a line that is 'length' pixels long, perpendicular to, and centered on, the path at 'distance' pixels from the given location.\r\n     * if distance is not supplied, the perpendicular for the given location is computed (ie. we set distance to zero).\r\n     */\r\n    var _perpendicularToPathAt = function(curve, location, length, distance) {\r\n        distance = distance == null ? 0 : distance;\r\n        var p = _pointAlongPath(curve, location, distance),\r\n            m = _gradientAtPoint(curve, p.location),\r\n            _theta2 = Math.atan(-1 / m),\r\n            y =  length / 2 * Math.sin(_theta2),\r\n            x =  length / 2 * Math.cos(_theta2);\r\n        return [{x:p.point.x + x, y:p.point.y + y}, {x:p.point.x - x, y:p.point.y - y}];\r\n    };\r\n\r\n    /**\r\n     * Calculates all intersections of the given line with the given curve.\r\n     * @param x1\r\n     * @param y1\r\n     * @param x2\r\n     * @param y2\r\n     * @param curve\r\n     * @returns {Array}\r\n     */\r\n    var _lineIntersection = function(x1, y1, x2, y2, curve) {\r\n        var a = y2 - y1,\r\n            b = x1 - x2,\r\n            c = (x1 * (y1 - y2)) + (y1 * (x2-x1)),\r\n            coeffs = _computeCoefficients(curve),\r\n            p = [\r\n                (a*coeffs[0][0]) + (b * coeffs[1][0]),\r\n                (a*coeffs[0][1])+(b*coeffs[1][1]),\r\n                (a*coeffs[0][2])+(b*coeffs[1][2]),\r\n                (a*coeffs[0][3])+(b*coeffs[1][3]) + c\r\n            ],\r\n            r = _cubicRoots.apply(null, p),\r\n            intersections = [];\r\n\r\n        if (r != null) {\r\n\r\n            for (var i = 0; i < 3; i++) {\r\n                var t = r[i],\r\n                    t2 = Math.pow(t, 2),\r\n                    t3 = Math.pow(t, 3),\r\n                    x = [\r\n                        (coeffs[0][0] * t3) + (coeffs[0][1] * t2) + (coeffs[0][2] * t) + coeffs[0][3],\r\n                        (coeffs[1][0] * t3) + (coeffs[1][1] * t2) + (coeffs[1][2] * t) + coeffs[1][3]\r\n                    ];\r\n\r\n                // check bounds of the line\r\n                var s;\r\n                if ((x2 - x1) !== 0) {\r\n                    s = (x[0] - x1) / (x2 - x1);\r\n                }\r\n                else {\r\n                    s = (x[1] - y1) / (y2 - y1);\r\n                }\r\n\r\n                if (t >= 0 && t <= 1.0 && s >= 0 && s <= 1.0) {\r\n                    intersections.push(x);\r\n                }\r\n            }\r\n        }\r\n\r\n        return intersections;\r\n    };\r\n\r\n    /**\r\n     * Calculates all intersections of the given box with the given curve.\r\n     * @param x X position of top left corner of box\r\n     * @param y Y position of top left corner of box\r\n     * @param w width of box\r\n     * @param h height of box\r\n     * @param curve\r\n     * @returns {Array}\r\n     */\r\n    var _boxIntersection = function(x, y, w, h, curve) {\r\n        var i = [];\r\n        i.push.apply(i, _lineIntersection(x, y, x + w, y, curve));\r\n        i.push.apply(i, _lineIntersection(x + w, y, x + w, y + h, curve));\r\n        i.push.apply(i, _lineIntersection(x + w, y + h, x, y + h, curve));\r\n        i.push.apply(i, _lineIntersection(x, y + h, x, y, curve));\r\n        return i;\r\n    };\r\n\r\n    /**\r\n     * Calculates all intersections of the given bounding box with the given curve.\r\n     * @param boundingBox Bounding box, in { x:.., y:..., w:..., h:... } format.\r\n     * @param curve\r\n     * @returns {Array}\r\n     */\r\n    var _boundingBoxIntersection = function(boundingBox, curve) {\r\n        var i = [];\r\n        i.push.apply(i, _lineIntersection(boundingBox.x, boundingBox.y, boundingBox.x + boundingBox.w, boundingBox.y, curve));\r\n        i.push.apply(i, _lineIntersection(boundingBox.x + boundingBox.w, boundingBox.y, boundingBox.x + boundingBox.w, boundingBox.y + boundingBox.h, curve));\r\n        i.push.apply(i, _lineIntersection(boundingBox.x + boundingBox.w, boundingBox.y + boundingBox.h, boundingBox.x, boundingBox.y + boundingBox.h, curve));\r\n        i.push.apply(i, _lineIntersection(boundingBox.x, boundingBox.y + boundingBox.h, boundingBox.x, boundingBox.y, curve));\r\n        return i;\r\n    };\r\n\r\n\r\n    function _computeCoefficientsForAxis(curve, axis) {\r\n        return [\r\n            -(curve[0][axis]) + (3*curve[1][axis]) + (-3 * curve[2][axis]) + curve[3][axis],\r\n            (3*(curve[0][axis])) - (6*(curve[1][axis])) + (3*(curve[2][axis])),\r\n            -3*curve[0][axis] + 3*curve[1][axis],\r\n            curve[0][axis]\r\n        ];\r\n    }\r\n\r\n    function _computeCoefficients(curve)\r\n    {\r\n        return [\r\n            _computeCoefficientsForAxis(curve, \"x\"),\r\n            _computeCoefficientsForAxis(curve, \"y\")\r\n        ];\r\n    }\r\n\r\n    function sgn(x) {\r\n        return x < 0 ? -1 : x > 0 ? 1 : 0;\r\n    }\r\n\r\n    function _cubicRoots(a, b, c, d) {\r\n        var A = b / a,\r\n            B = c / a,\r\n            C = d / a,\r\n            Q = (3*B - Math.pow(A, 2))/9,\r\n            R = (9*A*B - 27*C - 2*Math.pow(A, 3))/54,\r\n            D = Math.pow(Q, 3) + Math.pow(R, 2),\r\n            S,\r\n            T,\r\n            t = [];\r\n\r\n        if (D >= 0)                                 // complex or duplicate roots\r\n        {\r\n            S = sgn(R + Math.sqrt(D))*Math.pow(Math.abs(R + Math.sqrt(D)),(1/3));\r\n            T = sgn(R - Math.sqrt(D))*Math.pow(Math.abs(R - Math.sqrt(D)),(1/3));\r\n\r\n            t[0] = -A/3 + (S + T);\r\n            t[1] = -A/3 - (S + T)/2;\r\n            t[2] = -A/3 - (S + T)/2;\r\n\r\n            /*discard complex roots*/\r\n            if (Math.abs(Math.sqrt(3)*(S - T)/2) !== 0) {\r\n                t[1] = -1;\r\n                t[2] = -1;\r\n            }\r\n        }\r\n        else                                          // distinct real roots\r\n        {\r\n            var th = Math.acos(R/Math.sqrt(-Math.pow(Q, 3)));\r\n            t[0] = 2*Math.sqrt(-Q)*Math.cos(th/3) - A/3;\r\n            t[1] = 2*Math.sqrt(-Q)*Math.cos((th + 2*Math.PI)/3) - A/3;\r\n            t[2] = 2*Math.sqrt(-Q)*Math.cos((th + 4*Math.PI)/3) - A/3;\r\n        }\r\n\r\n        // discard out of spec roots\r\n        for (var i = 0; i < 3; i++) {\r\n            if (t[i] < 0 || t[i] > 1.0) {\r\n                t[i] = -1;\r\n            }\r\n        }\r\n\r\n        return t;\r\n    }\r\n\r\n    var jsBezier = this.jsBezier = {\r\n        distanceFromCurve : _distanceFromCurve,\r\n        gradientAtPoint : _gradientAtPoint,\r\n        gradientAtPointAlongCurveFrom : _gradientAtPointAlongPathFrom,\r\n        nearestPointOnCurve : _nearestPointOnCurve,\r\n        pointOnCurve : _pointOnPath,\r\n        pointAlongCurveFrom : _pointAlongPathFrom,\r\n        perpendicularToCurveAt : _perpendicularToPathAt,\r\n        locationAlongCurveFrom:_locationAlongPathFrom,\r\n        getLength:_length,\r\n        lineIntersection:_lineIntersection,\r\n        boxIntersection:_boxIntersection,\r\n        boundingBoxIntersection:_boundingBoxIntersection,\r\n        version:\"0.9.0\"\r\n    };\r\n\r\n    if (typeof exports !== \"undefined\") {\r\n        exports.jsBezier = jsBezier;\r\n    }\r\n\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n\r\n/**\r\n * Biltong v0.4.0\r\n *\r\n * Various geometry functions written as part of jsPlumb and perhaps useful for others.\r\n *\r\n * Copyright (c) 2017 jsPlumb\r\n * https://jsplumbtoolkit.com\r\n *\r\n * Permission is hereby granted, free of charge, to any person\r\n * obtaining a copy of this software and associated documentation\r\n * files (the \"Software\"), to deal in the Software without\r\n * restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following\r\n * conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\r\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\r\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\r\n * OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n;(function() {\r\n\r\n    \"use strict\";\r\n    var root = this;\r\n\r\n    var Biltong = root.Biltong = {\r\n        version:\"0.4.0\"\r\n    };\r\n\r\n    if (typeof exports !== \"undefined\") {\r\n        exports.Biltong = Biltong;\r\n    }\r\n\r\n    var _isa = function(a) { return Object.prototype.toString.call(a) === \"[object Array]\"; },\r\n        _pointHelper = function(p1, p2, fn) {\r\n            p1 = _isa(p1) ? p1 : [p1.x, p1.y];\r\n            p2 = _isa(p2) ? p2 : [p2.x, p2.y];\r\n            return fn(p1, p2);\r\n        },\r\n        /**\r\n         * @name Biltong.gradient\r\n         * @function\r\n         * @desc Calculates the gradient of a line between the two points.\r\n         * @param {Point} p1 First point, either as a 2 entry array or object with `left` and `top` properties.\r\n         * @param {Point} p2 Second point, either as a 2 entry array or object with `left` and `top` properties.\r\n         * @return {Float} The gradient of a line between the two points.\r\n         */\r\n        _gradient = Biltong.gradient = function(p1, p2) {\r\n            return _pointHelper(p1, p2, function(_p1, _p2) {\r\n                if (_p2[0] == _p1[0])\r\n                    return _p2[1] > _p1[1] ? Infinity : -Infinity;\r\n                else if (_p2[1] == _p1[1])\r\n                    return _p2[0] > _p1[0] ? 0 : -0;\r\n                else\r\n                    return (_p2[1] - _p1[1]) / (_p2[0] - _p1[0]);\r\n            });\r\n        },\r\n        /**\r\n         * @name Biltong.normal\r\n         * @function\r\n         * @desc Calculates the gradient of a normal to a line between the two points.\r\n         * @param {Point} p1 First point, either as a 2 entry array or object with `left` and `top` properties.\r\n         * @param {Point} p2 Second point, either as a 2 entry array or object with `left` and `top` properties.\r\n         * @return {Float} The gradient of a normal to a line between the two points.\r\n         */\r\n        _normal = Biltong.normal = function(p1, p2) {\r\n            return -1 / _gradient(p1, p2);\r\n        },\r\n        /**\r\n         * @name Biltong.lineLength\r\n         * @function\r\n         * @desc Calculates the length of a line between the two points.\r\n         * @param {Point} p1 First point, either as a 2 entry array or object with `left` and `top` properties.\r\n         * @param {Point} p2 Second point, either as a 2 entry array or object with `left` and `top` properties.\r\n         * @return {Float} The length of a line between the two points.\r\n         */\r\n        _lineLength = Biltong.lineLength = function(p1, p2) {\r\n            return _pointHelper(p1, p2, function(_p1, _p2) {\r\n                return Math.sqrt(Math.pow(_p2[1] - _p1[1], 2) + Math.pow(_p2[0] - _p1[0], 2));\r\n            });\r\n        },\r\n        /**\r\n         * @name Biltong.quadrant\r\n         * @function\r\n         * @desc Calculates the quadrant in which the angle between the two points lies.\r\n         * @param {Point} p1 First point, either as a 2 entry array or object with `left` and `top` properties.\r\n         * @param {Point} p2 Second point, either as a 2 entry array or object with `left` and `top` properties.\r\n         * @return {Integer} The quadrant - 1 for upper right, 2 for lower right, 3 for lower left, 4 for upper left.\r\n         */\r\n        _quadrant = Biltong.quadrant = function(p1, p2) {\r\n            return _pointHelper(p1, p2, function(_p1, _p2) {\r\n                if (_p2[0] > _p1[0]) {\r\n                    return (_p2[1] > _p1[1]) ? 2 : 1;\r\n                }\r\n                else if (_p2[0] == _p1[0]) {\r\n                    return _p2[1] > _p1[1] ? 2 : 1;\r\n                }\r\n                else {\r\n                    return (_p2[1] > _p1[1]) ? 3 : 4;\r\n                }\r\n            });\r\n        },\r\n        /**\r\n         * @name Biltong.theta\r\n         * @function\r\n         * @desc Calculates the angle between the two points.\r\n         * @param {Point} p1 First point, either as a 2 entry array or object with `left` and `top` properties.\r\n         * @param {Point} p2 Second point, either as a 2 entry array or object with `left` and `top` properties.\r\n         * @return {Float} The angle between the two points.\r\n         */\r\n        _theta = Biltong.theta = function(p1, p2) {\r\n            return _pointHelper(p1, p2, function(_p1, _p2) {\r\n                var m = _gradient(_p1, _p2),\r\n                    t = Math.atan(m),\r\n                    s = _quadrant(_p1, _p2);\r\n                if ((s == 4 || s== 3)) t += Math.PI;\r\n                if (t < 0) t += (2 * Math.PI);\r\n\r\n                return t;\r\n            });\r\n        },\r\n        /**\r\n         * @name Biltong.intersects\r\n         * @function\r\n         * @desc Calculates whether or not the two rectangles intersect.\r\n         * @param {Rectangle} r1 First rectangle, as a js object in the form `{x:.., y:.., w:.., h:..}`\r\n         * @param {Rectangle} r2 Second rectangle, as a js object in the form `{x:.., y:.., w:.., h:..}`\r\n         * @return {Boolean} True if the rectangles intersect, false otherwise.\r\n         */\r\n        _intersects = Biltong.intersects = function(r1, r2) {\r\n            var x1 = r1.x, x2 = r1.x + r1.w, y1 = r1.y, y2 = r1.y + r1.h,\r\n                a1 = r2.x, a2 = r2.x + r2.w, b1 = r2.y, b2 = r2.y + r2.h;\r\n\r\n            return  ( (x1 <= a1 && a1 <= x2) && (y1 <= b1 && b1 <= y2) ) ||\r\n                ( (x1 <= a2 && a2 <= x2) && (y1 <= b1 && b1 <= y2) ) ||\r\n                ( (x1 <= a1 && a1 <= x2) && (y1 <= b2 && b2 <= y2) ) ||\r\n                ( (x1 <= a2 && a1 <= x2) && (y1 <= b2 && b2 <= y2) ) ||\r\n                ( (a1 <= x1 && x1 <= a2) && (b1 <= y1 && y1 <= b2) ) ||\r\n                ( (a1 <= x2 && x2 <= a2) && (b1 <= y1 && y1 <= b2) ) ||\r\n                ( (a1 <= x1 && x1 <= a2) && (b1 <= y2 && y2 <= b2) ) ||\r\n                ( (a1 <= x2 && x1 <= a2) && (b1 <= y2 && y2 <= b2) );\r\n        },\r\n        /**\r\n         * @name Biltong.encloses\r\n         * @function\r\n         * @desc Calculates whether or not r2 is completely enclosed by r1.\r\n         * @param {Rectangle} r1 First rectangle, as a js object in the form `{x:.., y:.., w:.., h:..}`\r\n         * @param {Rectangle} r2 Second rectangle, as a js object in the form `{x:.., y:.., w:.., h:..}`\r\n         * @param {Boolean} [allowSharedEdges=false] If true, the concept of enclosure allows for one or more edges to be shared by the two rectangles.\r\n         * @return {Boolean} True if r1 encloses r2, false otherwise.\r\n         */\r\n        _encloses = Biltong.encloses = function(r1, r2, allowSharedEdges) {\r\n            var x1 = r1.x, x2 = r1.x + r1.w, y1 = r1.y, y2 = r1.y + r1.h,\r\n                a1 = r2.x, a2 = r2.x + r2.w, b1 = r2.y, b2 = r2.y + r2.h,\r\n                c = function(v1, v2, v3, v4) { return allowSharedEdges ? v1 <= v2 && v3>= v4 : v1 < v2 && v3 > v4; };\r\n\r\n            return c(x1,a1,x2,a2) && c(y1,b1,y2,b2);\r\n        },\r\n        _segmentMultipliers = [null, [1, -1], [1, 1], [-1, 1], [-1, -1] ],\r\n        _inverseSegmentMultipliers = [null, [-1, -1], [-1, 1], [1, 1], [1, -1] ],\r\n        /**\r\n         * @name Biltong.pointOnLine\r\n         * @function\r\n         * @desc Calculates a point on the line from `fromPoint` to `toPoint` that is `distance` units along the length of the line.\r\n         * @param {Point} p1 First point, either as a 2 entry array or object with `left` and `top` properties.\r\n         * @param {Point} p2 Second point, either as a 2 entry array or object with `left` and `top` properties.\r\n         * @return {Point} Point on the line, in the form `{ x:..., y:... }`.\r\n         */\r\n        _pointOnLine = Biltong.pointOnLine = function(fromPoint, toPoint, distance) {\r\n            var m = _gradient(fromPoint, toPoint),\r\n                s = _quadrant(fromPoint, toPoint),\r\n                segmentMultiplier = distance > 0 ? _segmentMultipliers[s] : _inverseSegmentMultipliers[s],\r\n                theta = Math.atan(m),\r\n                y = Math.abs(distance * Math.sin(theta)) * segmentMultiplier[1],\r\n                x =  Math.abs(distance * Math.cos(theta)) * segmentMultiplier[0];\r\n            return { x:fromPoint.x + x, y:fromPoint.y + y };\r\n        },\r\n        /**\r\n         * @name Biltong.perpendicularLineTo\r\n         * @function\r\n         * @desc Calculates a line of length `length` that is perpendicular to the line from `fromPoint` to `toPoint` and passes through `toPoint`.\r\n         * @param {Point} p1 First point, either as a 2 entry array or object with `left` and `top` properties.\r\n         * @param {Point} p2 Second point, either as a 2 entry array or object with `left` and `top` properties.\r\n         * @return {Line} Perpendicular line, in the form `[ { x:..., y:... }, { x:..., y:... } ]`.\r\n         */\r\n        _perpendicularLineTo = Biltong.perpendicularLineTo = function(fromPoint, toPoint, length) {\r\n            var m = _gradient(fromPoint, toPoint),\r\n                theta2 = Math.atan(-1 / m),\r\n                y =  length / 2 * Math.sin(theta2),\r\n                x =  length / 2 * Math.cos(theta2);\r\n            return [{x:toPoint.x + x, y:toPoint.y + y}, {x:toPoint.x - x, y:toPoint.y - y}];\r\n        };\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n;\r\n(function () {\r\n\r\n    \"use strict\";\r\n\r\n    /**\r\n     * Creates a Touch object.\r\n     * @param view\r\n     * @param target\r\n     * @param pageX\r\n     * @param pageY\r\n     * @param screenX\r\n     * @param screenY\r\n     * @param clientX\r\n     * @param clientY\r\n     * @returns {Touch}\r\n     * @private\r\n     */\r\n    function _touch(view, target, pageX, pageY, screenX, screenY, clientX, clientY) {\r\n\r\n        return new Touch({\r\n            target:target,\r\n            identifier:_uuid(),\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n            screenX: screenX,\r\n            screenY: screenY,\r\n            clientX: clientX || screenX,\r\n            clientY: clientY || screenY\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Create a synthetic touch list from the given list of Touch objects.\r\n     * @returns {Array}\r\n     * @private\r\n     */\r\n    function _touchList() {\r\n        var list = [];\r\n        Array.prototype.push.apply(list, arguments);\r\n        list.item =  function(index) { return this[index]; };\r\n        return list;\r\n    }\r\n\r\n    /**\r\n     * Create a Touch object and then insert it into a synthetic touch list, returning the list.s\r\n     * @param view\r\n     * @param target\r\n     * @param pageX\r\n     * @param pageY\r\n     * @param screenX\r\n     * @param screenY\r\n     * @param clientX\r\n     * @param clientY\r\n     * @returns {Array}\r\n     * @private\r\n     */\r\n    function _touchAndList(view, target, pageX, pageY, screenX, screenY, clientX, clientY) {\r\n        return _touchList(_touch.apply(null, arguments));\r\n    }\r\n\r\n    var root = this,\r\n        matchesSelector = function (el, selector, ctx) {\r\n            ctx = ctx || el.parentNode;\r\n            var possibles = ctx.querySelectorAll(selector);\r\n            for (var i = 0; i < possibles.length; i++) {\r\n                if (possibles[i] === el) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        },\r\n        _gel = function (el) {\r\n            return (typeof el == \"string\" || el.constructor === String) ? document.getElementById(el) : el;\r\n        },\r\n        _t = function (e) {\r\n            return e.srcElement || e.target;\r\n        },\r\n        //\r\n        // gets path info for the given event - the path from target to obj, in the event's bubble chain. if doCompute\r\n        // is false we just return target for the path.\r\n        //\r\n        _pi = function(e, target, obj, doCompute) {\r\n            if (!doCompute) return { path:[target], end:1 };\r\n            else if (typeof e.path !== \"undefined\" && e.path.indexOf) {\r\n                return { path: e.path, end: e.path.indexOf(obj) };\r\n            } else {\r\n                var out = { path:[], end:-1 }, _one = function(el) {\r\n                    out.path.push(el);\r\n                    if (el === obj) {\r\n                        out.end = out.path.length - 1;\r\n                    }\r\n                    else if (el.parentNode != null) {\r\n                        _one(el.parentNode)\r\n                    }\r\n                };\r\n                _one(target);\r\n                return out;\r\n            }\r\n        },\r\n        _d = function (l, fn) {\r\n            for (var i = 0, j = l.length; i < j; i++) {\r\n                if (l[i] == fn) break;\r\n            }\r\n            if (i < l.length) l.splice(i, 1);\r\n        },\r\n        guid = 1,\r\n        //\r\n        // this function generates a guid for every handler, sets it on the handler, then adds\r\n        // it to the associated object's map of handlers for the given event. this is what enables us\r\n        // to unbind all events of some type, or all events (the second of which can be requested by the user,\r\n        // but it also used by Mottle when an element is removed.)\r\n        _store = function (obj, event, fn) {\r\n            var g = guid++;\r\n            obj.__ta = obj.__ta || {};\r\n            obj.__ta[event] = obj.__ta[event] || {};\r\n            // store each handler with a unique guid.\r\n            obj.__ta[event][g] = fn;\r\n            // set the guid on the handler.\r\n            fn.__tauid = g;\r\n            return g;\r\n        },\r\n        _unstore = function (obj, event, fn) {\r\n            obj.__ta && obj.__ta[event] && delete obj.__ta[event][fn.__tauid];\r\n            // a handler might have attached extra functions, so we unbind those too.\r\n            if (fn.__taExtra) {\r\n                for (var i = 0; i < fn.__taExtra.length; i++) {\r\n                    _unbind(obj, fn.__taExtra[i][0], fn.__taExtra[i][1]);\r\n                }\r\n                fn.__taExtra.length = 0;\r\n            }\r\n            // a handler might have attached an unstore callback\r\n            fn.__taUnstore && fn.__taUnstore();\r\n        },\r\n        _curryChildFilter = function (children, obj, fn, evt) {\r\n            if (children == null) return fn;\r\n            else {\r\n                var c = children.split(\",\"),\r\n                    _fn = function (e) {\r\n                        _fn.__tauid = fn.__tauid;\r\n                        var t = _t(e), target = t;  // t is the target element on which the event occurred. it is the\r\n                        // element we will wish to pass to any callbacks.\r\n                        var pathInfo = _pi(e, t, obj, children != null)\r\n                        if (pathInfo.end != -1) {\r\n                            for (var p = 0; p < pathInfo.end; p++) {\r\n                                target = pathInfo.path[p];\r\n                                for (var i = 0; i < c.length; i++) {\r\n                                    if (matchesSelector(target, c[i], obj)) {\r\n                                        fn.apply(target, arguments);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                registerExtraFunction(fn, evt, _fn);\r\n                return _fn;\r\n            }\r\n        },\r\n        //\r\n        // registers an 'extra' function on some event listener function we were given - a function that we\r\n        // created and bound to the element as part of our housekeeping, and which we want to unbind and remove\r\n        // whenever the given function is unbound.\r\n        registerExtraFunction = function (fn, evt, newFn) {\r\n            fn.__taExtra = fn.__taExtra || [];\r\n            fn.__taExtra.push([evt, newFn]);\r\n        },\r\n        DefaultHandler = function (obj, evt, fn, children) {\r\n            if (isTouchDevice && touchMap[evt]) {\r\n                var tfn = _curryChildFilter(children, obj, fn, touchMap[evt]);\r\n                _bind(obj, touchMap[evt], tfn , fn);\r\n            }\r\n            if (evt === \"focus\" && obj.getAttribute(\"tabindex\") == null) {\r\n                obj.setAttribute(\"tabindex\", \"1\");\r\n            }\r\n            _bind(obj, evt, _curryChildFilter(children, obj, fn, evt), fn);\r\n        },\r\n        SmartClickHandler = function (obj, evt, fn, children) {\r\n            if (obj.__taSmartClicks == null) {\r\n                var down = function (e) {\r\n                        obj.__tad = _pageLocation(e);\r\n                    },\r\n                    up = function (e) {\r\n                        obj.__tau = _pageLocation(e);\r\n                    },\r\n                    click = function (e) {\r\n                        if (obj.__tad && obj.__tau && obj.__tad[0] === obj.__tau[0] && obj.__tad[1] === obj.__tau[1]) {\r\n                            for (var i = 0; i < obj.__taSmartClicks.length; i++)\r\n                                obj.__taSmartClicks[i].apply(_t(e), [ e ]);\r\n                        }\r\n                    };\r\n                DefaultHandler(obj, \"mousedown\", down, children);\r\n                DefaultHandler(obj, \"mouseup\", up, children);\r\n                DefaultHandler(obj, \"click\", click, children);\r\n                obj.__taSmartClicks = [];\r\n            }\r\n\r\n            // store in the list of callbacks\r\n            obj.__taSmartClicks.push(fn);\r\n            // the unstore function removes this function from the object's listener list for this type.\r\n            fn.__taUnstore = function () {\r\n                _d(obj.__taSmartClicks, fn);\r\n            };\r\n        },\r\n        _tapProfiles = {\r\n            \"tap\": {touches: 1, taps: 1},\r\n            \"dbltap\": {touches: 1, taps: 2},\r\n            \"contextmenu\": {touches: 2, taps: 1}\r\n        },\r\n        TapHandler = function (clickThreshold, dblClickThreshold) {\r\n            return function (obj, evt, fn, children) {\r\n                // if event is contextmenu, for devices which are mouse only, we want to\r\n                // use the default bind.\r\n                if (evt == \"contextmenu\" && isMouseDevice)\r\n                    DefaultHandler(obj, evt, fn, children);\r\n                else {\r\n                    // the issue here is that this down handler gets registered only for the\r\n                    // child nodes in the first registration. in fact it should be registered with\r\n                    // no child selector and then on down we should cycle through the registered\r\n                    // functions to see if one of them matches. on mouseup we should execute ALL of\r\n                    // the functions whose children are either null or match the element.\r\n                    if (obj.__taTapHandler == null) {\r\n                        var tt = obj.__taTapHandler = {\r\n                            tap: [],\r\n                            dbltap: [],\r\n                            contextmenu: [],\r\n                            down: false,\r\n                            taps: 0,\r\n                            downSelectors: []\r\n                        };\r\n                        var down = function (e) {\r\n                                var target = _t(e), pathInfo = _pi(e, target, obj, children != null), finished = false;\r\n                                for (var p = 0; p < pathInfo.end; p++) {\r\n                                    if (finished) return;\r\n                                    target = pathInfo.path[p];\r\n                                    for (var i = 0; i < tt.downSelectors.length; i++) {\r\n                                        if (tt.downSelectors[i] == null || matchesSelector(target, tt.downSelectors[i], obj)) {\r\n                                            tt.down = true;\r\n                                            setTimeout(clearSingle, clickThreshold);\r\n                                            setTimeout(clearDouble, dblClickThreshold);\r\n                                            finished = true;\r\n                                            break; // we only need one match on mousedown\r\n                                        }\r\n                                    }\r\n                                }\r\n                            },\r\n                            up = function (e) {\r\n                                if (tt.down) {\r\n                                    var target = _t(e), currentTarget, pathInfo;\r\n                                    tt.taps++;\r\n                                    var tc = _touchCount(e);\r\n                                    for (var eventId in _tapProfiles) {\r\n                                        if (_tapProfiles.hasOwnProperty(eventId)) {\r\n                                            var p = _tapProfiles[eventId];\r\n                                            if (p.touches === tc && (p.taps === 1 || p.taps === tt.taps)) {\r\n                                                for (var i = 0; i < tt[eventId].length; i++) {\r\n                                                    pathInfo = _pi(e, target, obj, tt[eventId][i][1] != null);\r\n                                                    for (var pLoop = 0; pLoop < pathInfo.end; pLoop++) {\r\n                                                        currentTarget = pathInfo.path[pLoop];\r\n                                                        // this is a single event registration handler.\r\n                                                        if (tt[eventId][i][1] == null || matchesSelector(currentTarget, tt[eventId][i][1], obj)) {\r\n                                                            tt[eventId][i][0].apply(currentTarget, [ e ]);\r\n                                                            break;\r\n                                                        }\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            },\r\n                            clearSingle = function () {\r\n                                tt.down = false;\r\n                            },\r\n                            clearDouble = function () {\r\n                                tt.taps = 0;\r\n                            };\r\n\r\n                        DefaultHandler(obj, \"mousedown\", down);\r\n                        DefaultHandler(obj, \"mouseup\", up);\r\n                    }\r\n                    // add this child selector (it can be null, that's fine).\r\n                    obj.__taTapHandler.downSelectors.push(children);\r\n\r\n                    obj.__taTapHandler[evt].push([fn, children]);\r\n                    // the unstore function removes this function from the object's listener list for this type.\r\n                    fn.__taUnstore = function () {\r\n                        _d(obj.__taTapHandler[evt], fn);\r\n                    };\r\n                }\r\n            };\r\n        },\r\n        meeHelper = function (type, evt, obj, target) {\r\n            for (var i in obj.__tamee[type]) {\r\n                if (obj.__tamee[type].hasOwnProperty(i)) {\r\n                    obj.__tamee[type][i].apply(target, [ evt ]);\r\n                }\r\n            }\r\n        },\r\n        MouseEnterExitHandler = function () {\r\n            var activeElements = [];\r\n            return function (obj, evt, fn, children) {\r\n                if (!obj.__tamee) {\r\n                    // __tamee holds a flag saying whether the mouse is currently \"in\" the element, and a list of\r\n                    // both mouseenter and mouseexit functions.\r\n                    obj.__tamee = { over: false, mouseenter: [], mouseexit: [] };\r\n                    // register over and out functions\r\n                    var over = function (e) {\r\n                            var t = _t(e);\r\n                            if ((children == null && (t == obj && !obj.__tamee.over)) || (matchesSelector(t, children, obj) && (t.__tamee == null || !t.__tamee.over))) {\r\n                                meeHelper(\"mouseenter\", e, obj, t);\r\n                                t.__tamee = t.__tamee || {};\r\n                                t.__tamee.over = true;\r\n                                activeElements.push(t);\r\n                            }\r\n                        },\r\n                        out = function (e) {\r\n                            var t = _t(e);\r\n                            // is the current target one of the activeElements? and is the\r\n                            // related target NOT a descendant of it?\r\n                            for (var i = 0; i < activeElements.length; i++) {\r\n                                if (t == activeElements[i] && !matchesSelector((e.relatedTarget || e.toElement), \"*\", t)) {\r\n                                    t.__tamee.over = false;\r\n                                    activeElements.splice(i, 1);\r\n                                    meeHelper(\"mouseexit\", e, obj, t);\r\n                                }\r\n                            }\r\n                        };\r\n\r\n                    _bind(obj, \"mouseover\", _curryChildFilter(children, obj, over, \"mouseover\"), over);\r\n                    _bind(obj, \"mouseout\", _curryChildFilter(children, obj, out, \"mouseout\"), out);\r\n                }\r\n\r\n                fn.__taUnstore = function () {\r\n                    delete obj.__tamee[evt][fn.__tauid];\r\n                };\r\n\r\n                _store(obj, evt, fn);\r\n                obj.__tamee[evt][fn.__tauid] = fn;\r\n            };\r\n        },\r\n        isTouchDevice = \"ontouchstart\" in document.documentElement,\r\n        isMouseDevice = \"onmousedown\" in document.documentElement,\r\n        touchMap = { \"mousedown\": \"touchstart\", \"mouseup\": \"touchend\", \"mousemove\": \"touchmove\" },\r\n        touchstart = \"touchstart\", touchend = \"touchend\", touchmove = \"touchmove\",\r\n        iev = (function () {\r\n            var rv = -1;\r\n            if (navigator.appName == 'Microsoft Internet Explorer') {\r\n                var ua = navigator.userAgent,\r\n                    re = new RegExp(\"MSIE ([0-9]{1,}[\\.0-9]{0,})\");\r\n                if (re.exec(ua) != null)\r\n                    rv = parseFloat(RegExp.$1);\r\n            }\r\n            return rv;\r\n        })(),\r\n        isIELT9 = iev > -1 && iev < 9,\r\n        _genLoc = function (e, prefix) {\r\n            if (e == null) return [ 0, 0 ];\r\n            var ts = _touches(e), t = _getTouch(ts, 0);\r\n            return [t[prefix + \"X\"], t[prefix + \"Y\"]];\r\n        },\r\n        _pageLocation = function (e) {\r\n            if (e == null) return [ 0, 0 ];\r\n            if (isIELT9) {\r\n                return [ e.clientX + document.documentElement.scrollLeft, e.clientY + document.documentElement.scrollTop ];\r\n            }\r\n            else {\r\n                return _genLoc(e, \"page\");\r\n            }\r\n        },\r\n        _screenLocation = function (e) {\r\n            return _genLoc(e, \"screen\");\r\n        },\r\n        _clientLocation = function (e) {\r\n            return _genLoc(e, \"client\");\r\n        },\r\n        _getTouch = function (touches, idx) {\r\n            return touches.item ? touches.item(idx) : touches[idx];\r\n        },\r\n        _touches = function (e) {\r\n            return e.touches && e.touches.length > 0 ? e.touches :\r\n                e.changedTouches && e.changedTouches.length > 0 ? e.changedTouches :\r\n                    e.targetTouches && e.targetTouches.length > 0 ? e.targetTouches :\r\n                        [ e ];\r\n        },\r\n        _touchCount = function (e) {\r\n            return _touches(e).length;\r\n        },\r\n        //http://www.quirksmode.org/blog/archives/2005/10/_and_the_winner_1.html\r\n        _bind = function (obj, type, fn, originalFn) {\r\n            _store(obj, type, fn);\r\n            originalFn.__tauid = fn.__tauid;\r\n            if (obj.addEventListener)\r\n                obj.addEventListener(type, fn, false);\r\n            else if (obj.attachEvent) {\r\n                var key = type + fn.__tauid;\r\n                obj[\"e\" + key] = fn;\r\n                // TODO look at replacing with .call(..)\r\n                obj[key] = function () {\r\n                    obj[\"e\" + key] && obj[\"e\" + key](window.event);\r\n                };\r\n                obj.attachEvent(\"on\" + type, obj[key]);\r\n            }\r\n        },\r\n        _unbind = function (obj, type, fn) {\r\n            if (fn == null) return;\r\n            _each(obj, function () {\r\n                var _el = _gel(this);\r\n                _unstore(_el, type, fn);\r\n                // it has been bound if there is a tauid. otherwise it was not bound and we can ignore it.\r\n                if (fn.__tauid != null) {\r\n                    if (_el.removeEventListener) {\r\n                        _el.removeEventListener(type, fn, false);\r\n                        if (isTouchDevice && touchMap[type]) _el.removeEventListener(touchMap[type], fn, false);\r\n                    }\r\n                    else if (this.detachEvent) {\r\n                        var key = type + fn.__tauid;\r\n                        _el[key] && _el.detachEvent(\"on\" + type, _el[key]);\r\n                        _el[key] = null;\r\n                        _el[\"e\" + key] = null;\r\n                    }\r\n                }\r\n\r\n                // if a touch event was also registered, deregister now.\r\n                if (fn.__taTouchProxy) {\r\n                    _unbind(obj, fn.__taTouchProxy[1], fn.__taTouchProxy[0]);\r\n                }\r\n            });\r\n        },\r\n        _each = function (obj, fn) {\r\n            if (obj == null) return;\r\n            // if a list (or list-like), use it. if a string, get a list\r\n            // by running the string through querySelectorAll. else, assume\r\n            // it's an Element.\r\n            // obj.top is \"unknown\" in IE8.\r\n            obj = (typeof Window !== \"undefined\" && (typeof obj.top !== \"unknown\" && obj == obj.top)) ? [ obj ] :\r\n                (typeof obj !== \"string\") && (obj.tagName == null && obj.length != null) ? obj :\r\n                    typeof obj === \"string\" ? document.querySelectorAll(obj)\r\n                        : [ obj ];\r\n\r\n            for (var i = 0; i < obj.length; i++)\r\n                fn.apply(obj[i]);\r\n        },\r\n        _uuid = function () {\r\n            return ('xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n                var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n                return v.toString(16);\r\n            }));\r\n        };\r\n\r\n    /**\r\n     * Mottle offers support for abstracting out the differences\r\n     * between touch and mouse devices, plus \"smart click\" functionality\r\n     * (don't fire click if the mouse has moved between mousedown and mouseup),\r\n     * and synthesized click/tap events.\r\n     * @class Mottle\r\n     * @constructor\r\n     * @param {Object} params Constructor params\r\n     * @param {Number} [params.clickThreshold=250] Threshold, in milliseconds beyond which a touchstart followed by a touchend is not considered to be a click.\r\n     * @param {Number} [params.dblClickThreshold=450] Threshold, in milliseconds beyond which two successive tap events are not considered to be a click.\r\n     * @param {Boolean} [params.smartClicks=false] If true, won't fire click events if the mouse has moved between mousedown and mouseup. Note that this functionality\r\n     * requires that Mottle consume the mousedown event, and so may not be viable in all use cases.\r\n     */\r\n    root.Mottle = function (params) {\r\n        params = params || {};\r\n        var clickThreshold = params.clickThreshold || 250,\r\n            dblClickThreshold = params.dblClickThreshold || 450,\r\n            mouseEnterExitHandler = new MouseEnterExitHandler(),\r\n            tapHandler = new TapHandler(clickThreshold, dblClickThreshold),\r\n            _smartClicks = params.smartClicks,\r\n            _doBind = function (obj, evt, fn, children) {\r\n                if (fn == null) return;\r\n                _each(obj, function () {\r\n                    var _el = _gel(this);\r\n                    if (_smartClicks && evt === \"click\")\r\n                        SmartClickHandler(_el, evt, fn, children);\r\n                    else if (evt === \"tap\" || evt === \"dbltap\" || evt === \"contextmenu\") {\r\n                        tapHandler(_el, evt, fn, children);\r\n                    }\r\n                    else if (evt === \"mouseenter\" || evt == \"mouseexit\")\r\n                        mouseEnterExitHandler(_el, evt, fn, children);\r\n                    else\r\n                        DefaultHandler(_el, evt, fn, children);\r\n                });\r\n            };\r\n\r\n        /**\r\n         * Removes an element from the DOM, and deregisters all event handlers for it. You should use this\r\n         * to ensure you don't leak memory.\r\n         * @method remove\r\n         * @param {String|Element} el Element, or id of the element, to remove.\r\n         * @return {Mottle} The current Mottle instance; you can chain this method.\r\n         */\r\n        this.remove = function (el) {\r\n            _each(el, function () {\r\n                var _el = _gel(this);\r\n                if (_el.__ta) {\r\n                    for (var evt in _el.__ta) {\r\n                        if (_el.__ta.hasOwnProperty(evt)) {\r\n                            for (var h in _el.__ta[evt]) {\r\n                                if (_el.__ta[evt].hasOwnProperty(h))\r\n                                    _unbind(_el, evt, _el.__ta[evt][h]);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                _el.parentNode && _el.parentNode.removeChild(_el);\r\n            });\r\n            return this;\r\n        };\r\n\r\n        /**\r\n         * Register an event handler, optionally as a delegate for some set of descendant elements. Note\r\n         * that this method takes either 3 or 4 arguments - if you supply 3 arguments it is assumed you have\r\n         * omitted the `children` parameter, and that the event handler should be bound directly to the given element.\r\n         * @method on\r\n         * @param {Element[]|Element|String} el Either an Element, or a CSS spec for a list of elements, or an array of Elements.\r\n         * @param {String} [children] Comma-delimited list of selectors identifying allowed children.\r\n         * @param {String} event Event ID.\r\n         * @param {Function} fn Event handler function.\r\n         * @return {Mottle} The current Mottle instance; you can chain this method.\r\n         */\r\n        this.on = function (el, event, children, fn) {\r\n            var _el = arguments[0],\r\n                _c = arguments.length == 4 ? arguments[2] : null,\r\n                _e = arguments[1],\r\n                _f = arguments[arguments.length - 1];\r\n\r\n            _doBind(_el, _e, _f, _c);\r\n            return this;\r\n        };\r\n\r\n        /**\r\n         * Cancel delegate event handling for the given function. Note that unlike with 'on' you do not supply\r\n         * a list of child selectors here: it removes event delegation from all of the child selectors for which the\r\n         * given function was registered (if any).\r\n         * @method off\r\n         * @param {Element[]|Element|String} el Element - or ID of element - from which to remove event listener.\r\n         * @param {String} event Event ID.\r\n         * @param {Function} fn Event handler function.\r\n         * @return {Mottle} The current Mottle instance; you can chain this method.\r\n         */\r\n        this.off = function (el, event, fn) {\r\n            _unbind(el, event, fn);\r\n            return this;\r\n        };\r\n\r\n        /**\r\n         * Triggers some event for a given element.\r\n         * @method trigger\r\n         * @param {Element} el Element for which to trigger the event.\r\n         * @param {String} event Event ID.\r\n         * @param {Event} originalEvent The original event. Should be optional of course, but currently is not, due\r\n         * to the jsPlumb use case that caused this method to be added.\r\n         * @param {Object} [payload] Optional object to set as `payload` on the generated event; useful for message passing.\r\n         * @return {Mottle} The current Mottle instance; you can chain this method.\r\n         */\r\n        this.trigger = function (el, event, originalEvent, payload) {\r\n            // MouseEvent undefined in old IE; that's how we know it's a mouse event.  A fine Microsoft paradox.\r\n            var originalIsMouse = isMouseDevice && (typeof MouseEvent === \"undefined\" || originalEvent == null || originalEvent.constructor === MouseEvent);\r\n\r\n            var eventToBind = (isTouchDevice && !isMouseDevice && touchMap[event]) ? touchMap[event] : event,\r\n                bindingAMouseEvent = !(isTouchDevice && !isMouseDevice && touchMap[event]);\r\n\r\n            var pl = _pageLocation(originalEvent), sl = _screenLocation(originalEvent), cl = _clientLocation(originalEvent);\r\n            _each(el, function () {\r\n                var _el = _gel(this), evt;\r\n                originalEvent = originalEvent || {\r\n                    screenX: sl[0],\r\n                    screenY: sl[1],\r\n                    clientX: cl[0],\r\n                    clientY: cl[1]\r\n                };\r\n\r\n                var _decorate = function (_evt) {\r\n                    if (payload) _evt.payload = payload;\r\n                };\r\n\r\n                var eventGenerators = {\r\n                    \"TouchEvent\": function (evt) {\r\n\r\n                        var touchList = _touchAndList(window, _el, 0, pl[0], pl[1], sl[0], sl[1], cl[0], cl[1]),\r\n                            init = evt.initTouchEvent || evt.initEvent;\r\n\r\n                        init(eventToBind, true, true, window, null, sl[0], sl[1],\r\n                            cl[0], cl[1], false, false, false, false,\r\n                            touchList, touchList, touchList, 1, 0);\r\n                    },\r\n                    \"MouseEvents\": function (evt) {\r\n                        evt.initMouseEvent(eventToBind, true, true, window, 0,\r\n                            sl[0], sl[1],\r\n                            cl[0], cl[1],\r\n                            false, false, false, false, 1, _el);\r\n                    }\r\n                };\r\n\r\n                if (document.createEvent) {\r\n\r\n                    var ite = !bindingAMouseEvent && !originalIsMouse && (isTouchDevice && touchMap[event]),\r\n                        evtName = ite ? \"TouchEvent\" : \"MouseEvents\";\r\n\r\n                    evt = document.createEvent(evtName);\r\n                    eventGenerators[evtName](evt);\r\n                    _decorate(evt);\r\n                    _el.dispatchEvent(evt);\r\n                }\r\n                else if (document.createEventObject) {\r\n                    evt = document.createEventObject();\r\n                    evt.eventType = evt.eventName = eventToBind;\r\n                    evt.screenX = sl[0];\r\n                    evt.screenY = sl[1];\r\n                    evt.clientX = cl[0];\r\n                    evt.clientY = cl[1];\r\n                    _decorate(evt);\r\n                    _el.fireEvent('on' + eventToBind, evt);\r\n                }\r\n            });\r\n            return this;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Static method to assist in 'consuming' an element: uses `stopPropagation` where available, or sets\r\n     * `e.returnValue=false` where it is not.\r\n     * @method Mottle.consume\r\n     * @param {Event} e Event to consume\r\n     * @param {Boolean} [doNotPreventDefault=false] If true, does not call `preventDefault()` on the event.\r\n     */\r\n    root.Mottle.consume = function (e, doNotPreventDefault) {\r\n        if (e.stopPropagation)\r\n            e.stopPropagation();\r\n        else\r\n            e.returnValue = false;\r\n\r\n        if (!doNotPreventDefault && e.preventDefault)\r\n            e.preventDefault();\r\n    };\r\n\r\n    /**\r\n     * Gets the page location corresponding to the given event. For touch events this means get the page location of the first touch.\r\n     * @method Mottle.pageLocation\r\n     * @param {Event} e Event to get page location for.\r\n     * @return {Number[]} [left, top] for the given event.\r\n     */\r\n    root.Mottle.pageLocation = _pageLocation;\r\n\r\n    /**\r\n     * Forces touch events to be turned \"on\". Useful for testing: even if you don't have a touch device, you can still\r\n     * trigger a touch event when this is switched on and it will be captured and acted on.\r\n     * @method setForceTouchEvents\r\n     * @param {Boolean} value If true, force touch events to be on.\r\n     */\r\n    root.Mottle.setForceTouchEvents = function (value) {\r\n        isTouchDevice = value;\r\n    };\r\n\r\n    /**\r\n     * Forces mouse events to be turned \"on\". Useful for testing: even if you don't have a mouse, you can still\r\n     * trigger a mouse event when this is switched on and it will be captured and acted on.\r\n     * @method setForceMouseEvents\r\n     * @param {Boolean} value If true, force mouse events to be on.\r\n     */\r\n    root.Mottle.setForceMouseEvents = function (value) {\r\n        isMouseDevice = value;\r\n    };\r\n\r\n    root.Mottle.version = \"0.8.0\";\r\n\r\n    if (typeof exports !== \"undefined\") {\r\n        exports.Mottle = root.Mottle;\r\n    }\r\n\r\n}).call(typeof window === \"undefined\" ? this : window);\r\n\r\n/**\r\n drag/drop functionality for use with jsPlumb but with\r\n no knowledge of jsPlumb. supports multiple scopes (separated by whitespace), dragging\r\n multiple elements, constrain to parent, drop filters, drag start filters, custom\r\n css classes.\r\n\r\n a lot of the functionality of this script is expected to be plugged in:\r\n\r\n addClass\r\n removeClass\r\n\r\n addEvent\r\n removeEvent\r\n\r\n getPosition\r\n setPosition\r\n getSize\r\n\r\n indexOf\r\n intersects\r\n\r\n the name came from here:\r\n\r\n http://mrsharpoblunto.github.io/foswig.js/\r\n\r\n copyright 2016 jsPlumb\r\n */\r\n\r\n;(function() {\r\n\r\n    \"use strict\";\r\n    var root = this;\r\n\r\n    var _suggest = function(list, item, head) {\r\n        if (list.indexOf(item) === -1) {\r\n            head ? list.unshift(item) : list.push(item);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    var _vanquish = function(list, item) {\r\n        var idx = list.indexOf(item);\r\n        if (idx !== -1) list.splice(idx, 1);\r\n    };\r\n\r\n    var _difference = function(l1, l2) {\r\n        var d = [];\r\n        for (var i = 0; i < l1.length; i++) {\r\n            if (l2.indexOf(l1[i]) === -1)\r\n                d.push(l1[i]);\r\n        }\r\n        return d;\r\n    };\r\n\r\n    var _isString = function(f) {\r\n        return f == null ? false : (typeof f === \"string\" || f.constructor === String);\r\n    };\r\n\r\n    var getOffsetRect = function (elem) {\r\n        // (1)\r\n        var box = elem.getBoundingClientRect(),\r\n            body = document.body,\r\n            docElem = document.documentElement,\r\n            // (2)\r\n            scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop,\r\n            scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft,\r\n            // (3)\r\n            clientTop = docElem.clientTop || body.clientTop || 0,\r\n            clientLeft = docElem.clientLeft || body.clientLeft || 0,\r\n            // (4)\r\n            top  = box.top +  scrollTop - clientTop,\r\n            left = box.left + scrollLeft - clientLeft;\r\n\r\n        return { top: Math.round(top), left: Math.round(left) };\r\n    };\r\n\r\n    var matchesSelector = function(el, selector, ctx) {\r\n        ctx = ctx || el.parentNode;\r\n        var possibles = ctx.querySelectorAll(selector);\r\n        for (var i = 0; i < possibles.length; i++) {\r\n            if (possibles[i] === el)\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    var findDelegateElement = function(parentElement, childElement, selector) {\r\n        if (matchesSelector(childElement, selector, parentElement)) {\r\n            return childElement;\r\n        } else {\r\n            var currentParent = childElement.parentNode;\r\n            while (currentParent != null && currentParent !== parentElement) {\r\n                if (matchesSelector(currentParent, selector, parentElement)) {\r\n                    return currentParent;\r\n                } else {\r\n                    currentParent = currentParent.parentNode;\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Finds all elements matching the given selector, for the given parent. In order to support \"scoped root\" selectors,\r\n     * ie. things like \"> .someClass\", that is .someClass elements that are direct children of `parentElement`, we have to\r\n     * jump through a small hoop here: when a delegate draggable is registered, we write a `katavorio-draggable` attribute\r\n     * on the element on which the draggable is registered. Then when this method runs, we grab the value of that attribute and\r\n     * prepend it as part of the selector we're looking for.  So \"> .someClass\" ends up being written as\r\n     * \"[katavorio-draggable='...' > .someClass]\", which works with querySelectorAll.\r\n     *\r\n     * @param availableSelectors\r\n     * @param parentElement\r\n     * @param childElement\r\n     * @returns {*}\r\n     */\r\n    var findMatchingSelector = function(availableSelectors, parentElement, childElement) {\r\n        var el = null;\r\n        var draggableId = parentElement.getAttribute(\"katavorio-draggable\"),\r\n            prefix = draggableId != null ? \"[katavorio-draggable='\" + draggableId + \"'] \" : \"\";\r\n\r\n        for (var i = 0; i < availableSelectors.length; i++) {\r\n            el = findDelegateElement(parentElement, childElement, prefix + availableSelectors[i].selector);\r\n            if (el != null) {\r\n                if (availableSelectors[i].filter) {\r\n                    var matches = matchesSelector(childElement, availableSelectors[i].filter, el),\r\n                        exclude = availableSelectors[i].filterExclude === true;\r\n\r\n                    if ( (exclude && !matches) || matches) {\r\n                        return null;\r\n                    }\r\n\r\n                }\r\n                return [ availableSelectors[i], el ];\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    var iev = (function() {\r\n            var rv = -1;\r\n            if (navigator.appName === 'Microsoft Internet Explorer') {\r\n                var ua = navigator.userAgent,\r\n                    re = new RegExp(\"MSIE ([0-9]{1,}[\\.0-9]{0,})\");\r\n                if (re.exec(ua) != null)\r\n                    rv = parseFloat(RegExp.$1);\r\n            }\r\n            return rv;\r\n        })(),\r\n        DEFAULT_GRID_X = 10,\r\n        DEFAULT_GRID_Y = 10,\r\n        isIELT9 = iev > -1 && iev < 9,\r\n        isIE9 = iev === 9,\r\n        _pl = function(e) {\r\n            if (isIELT9) {\r\n                return [ e.clientX + document.documentElement.scrollLeft, e.clientY + document.documentElement.scrollTop ];\r\n            }\r\n            else {\r\n                var ts = _touches(e), t = _getTouch(ts, 0);\r\n                // for IE9 pageX might be null if the event was synthesized. We try for pageX/pageY first,\r\n                // falling back to clientX/clientY if necessary. In every other browser we want to use pageX/pageY.\r\n                return isIE9 ? [t.pageX || t.clientX, t.pageY || t.clientY] : [t.pageX, t.pageY];\r\n            }\r\n        },\r\n        _getTouch = function(touches, idx) { return touches.item ? touches.item(idx) : touches[idx]; },\r\n        _touches = function(e) {\r\n            return e.touches && e.touches.length > 0 ? e.touches :\r\n                e.changedTouches && e.changedTouches.length > 0 ? e.changedTouches :\r\n                    e.targetTouches && e.targetTouches.length > 0 ? e.targetTouches :\r\n                        [ e ];\r\n        },\r\n        _classes = {\r\n            delegatedDraggable:\"katavorio-delegated-draggable\",  // elements that are the delegated drag handler for a bunch of other elements\r\n            draggable:\"katavorio-draggable\",    // draggable elements\r\n            droppable:\"katavorio-droppable\",    // droppable elements\r\n            drag : \"katavorio-drag\",            // elements currently being dragged\r\n            selected:\"katavorio-drag-selected\", // elements in current drag selection\r\n            active : \"katavorio-drag-active\",   // droppables that are targets of a currently dragged element\r\n            hover : \"katavorio-drag-hover\",     // droppables over which a matching drag element is hovering\r\n            noSelect : \"katavorio-drag-no-select\", // added to the body to provide a hook to suppress text selection\r\n            ghostProxy:\"katavorio-ghost-proxy\",  // added to a ghost proxy element in use when a drag has exited the bounds of its parent.\r\n            clonedDrag:\"katavorio-clone-drag\"     // added to a node that is a clone of an element created at the start of a drag\r\n        },\r\n        _defaultScope = \"katavorio-drag-scope\",\r\n        _events = [ \"stop\", \"start\", \"drag\", \"drop\", \"over\", \"out\", \"beforeStart\" ],\r\n        _devNull = function() {},\r\n        _true = function() { return true; },\r\n        _foreach = function(l, fn, from) {\r\n            for (var i = 0; i < l.length; i++) {\r\n                if (l[i] != from)\r\n                    fn(l[i]);\r\n            }\r\n        },\r\n        _setDroppablesActive = function(dd, val, andHover, drag) {\r\n            _foreach(dd, function(e) {\r\n                e.setActive(val);\r\n                if (val) e.updatePosition();\r\n                if (andHover) e.setHover(drag, val);\r\n            });\r\n        },\r\n        _each = function(obj, fn) {\r\n            if (obj == null) return;\r\n            obj = !_isString(obj) && (obj.tagName == null && obj.length != null) ? obj : [ obj ];\r\n            for (var i = 0; i < obj.length; i++)\r\n                fn.apply(obj[i], [ obj[i] ]);\r\n        },\r\n        _consume = function(e) {\r\n            if (e.stopPropagation) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n            }\r\n            else {\r\n                e.returnValue = false;\r\n            }\r\n        },\r\n        _defaultInputFilterSelector = \"input,textarea,select,button,option\",\r\n        //\r\n        // filters out events on all input elements, like textarea, checkbox, input, select.\r\n        _inputFilter = function(e, el, _katavorio) {\r\n            var t = e.srcElement || e.target;\r\n            return !matchesSelector(t, _katavorio.getInputFilterSelector(), el);\r\n        };\r\n\r\n    var Super = function(el, params, css, scope) {\r\n        this.params = params || {};\r\n        this.el = el;\r\n        this.params.addClass(this.el, this._class);\r\n        this.uuid = _uuid();\r\n        var enabled = true;\r\n        this.setEnabled = function(e) { enabled = e; };\r\n        this.isEnabled = function() { return enabled; };\r\n        this.toggleEnabled = function() { enabled = !enabled; };\r\n        this.setScope = function(scopes) {\r\n            this.scopes = scopes ? scopes.split(/\\s+/) : [ scope ];\r\n        };\r\n        this.addScope = function(scopes) {\r\n            var m = {};\r\n            _each(this.scopes, function(s) { m[s] = true;});\r\n            _each(scopes ? scopes.split(/\\s+/) : [], function(s) { m[s] = true;});\r\n            this.scopes = [];\r\n            for (var i in m) this.scopes.push(i);\r\n        };\r\n        this.removeScope = function(scopes) {\r\n            var m = {};\r\n            _each(this.scopes, function(s) { m[s] = true;});\r\n            _each(scopes ? scopes.split(/\\s+/) : [], function(s) { delete m[s];});\r\n            this.scopes = [];\r\n            for (var i in m) this.scopes.push(i);\r\n        };\r\n        this.toggleScope = function(scopes) {\r\n            var m = {};\r\n            _each(this.scopes, function(s) { m[s] = true;});\r\n            _each(scopes ? scopes.split(/\\s+/) : [], function(s) {\r\n                if (m[s]) delete m[s];\r\n                else m[s] = true;\r\n            });\r\n            this.scopes = [];\r\n            for (var i in m) this.scopes.push(i);\r\n        };\r\n        this.setScope(params.scope);\r\n        this.k = params.katavorio;\r\n        return params.katavorio;\r\n    };\r\n\r\n    var TRUE = function() { return true; };\r\n    var FALSE = function() { return false; };\r\n\r\n    var Drag = function(el, params, css, scope) {\r\n        this._class = css.draggable;\r\n        var k = Super.apply(this, arguments);\r\n        this.rightButtonCanDrag = this.params.rightButtonCanDrag;\r\n        var downAt = [0,0], posAtDown = null, pagePosAtDown = null, pageDelta = [0,0], moving = false, initialScroll = [0,0],\r\n            consumeStartEvent = this.params.consumeStartEvent !== false,\r\n            dragEl = this.el,\r\n            clone = this.params.clone,\r\n            scroll = this.params.scroll,\r\n            _multipleDrop = params.multipleDrop !== false,\r\n            isConstrained = false,\r\n            useGhostProxy = params.ghostProxy === true ? TRUE : params.ghostProxy && typeof params.ghostProxy === \"function\" ? params.ghostProxy : FALSE,\r\n            ghostProxy = function(el) { return el.cloneNode(true); },\r\n            elementToDrag = null,\r\n            availableSelectors = [],\r\n            activeSelectorParams = null, // which, if any, selector config is currently active.\r\n            ghostProxyParent = params.ghostProxyParent,\r\n            currentParentPosition,\r\n            ghostParentPosition,\r\n            ghostDx,\r\n            ghostDy;\r\n\r\n        // if an initial selector was provided, push the entire set of params as a selector config.\r\n        if (params.selector) {\r\n            var draggableId = el.getAttribute(\"katavorio-draggable\");\r\n            if (draggableId == null) {\r\n                draggableId = \"\" + new Date().getTime();\r\n                el.setAttribute(\"katavorio-draggable\", draggableId);\r\n            }\r\n\r\n            availableSelectors.push(params);\r\n        }\r\n\r\n        var snapThreshold = params.snapThreshold,\r\n            _snap = function(pos, gridX, gridY, thresholdX, thresholdY) {\r\n                var _dx = Math.floor(pos[0] / gridX),\r\n                    _dxl = gridX * _dx,\r\n                    _dxt = _dxl + gridX,\r\n                    _x = Math.abs(pos[0] - _dxl) <= thresholdX ? _dxl : Math.abs(_dxt - pos[0]) <= thresholdX ? _dxt : pos[0];\r\n\r\n                var _dy = Math.floor(pos[1] / gridY),\r\n                    _dyl = gridY * _dy,\r\n                    _dyt = _dyl + gridY,\r\n                    _y = Math.abs(pos[1] - _dyl) <= thresholdY ? _dyl : Math.abs(_dyt - pos[1]) <= thresholdY ? _dyt : pos[1];\r\n\r\n                return [ _x, _y];\r\n            };\r\n\r\n        this.posses = [];\r\n        this.posseRoles = {};\r\n\r\n        this.toGrid = function(pos) {\r\n            if (this.params.grid == null) {\r\n                return pos;\r\n            }\r\n            else {\r\n                var tx = this.params.grid ? this.params.grid[0] / 2 : snapThreshold ? snapThreshold : DEFAULT_GRID_X / 2,\r\n                    ty = this.params.grid ? this.params.grid[1] / 2 : snapThreshold ? snapThreshold : DEFAULT_GRID_Y / 2;\r\n\r\n                return _snap(pos, this.params.grid[0], this.params.grid[1], tx, ty);\r\n            }\r\n        };\r\n\r\n        this.snap = function(x, y) {\r\n            if (dragEl == null) return;\r\n            x = x || (this.params.grid ? this.params.grid[0] : DEFAULT_GRID_X);\r\n            y = y || (this.params.grid ? this.params.grid[1] : DEFAULT_GRID_Y);\r\n            var p = this.params.getPosition(dragEl),\r\n                tx = this.params.grid ? this.params.grid[0] / 2 : snapThreshold,\r\n                ty = this.params.grid ? this.params.grid[1] / 2 : snapThreshold,\r\n                snapped = _snap(p, x, y, tx, ty);\r\n\r\n            this.params.setPosition(dragEl, snapped);\r\n            return snapped;\r\n        };\r\n\r\n        this.setUseGhostProxy = function(val) {\r\n            useGhostProxy = val ? TRUE : FALSE;\r\n        };\r\n\r\n        var constrain;\r\n        var negativeFilter = function(pos) {\r\n            return (params.allowNegative === false) ? [ Math.max (0, pos[0]), Math.max(0, pos[1]) ] : pos;\r\n        };\r\n\r\n        var _setConstrain = function(value) {\r\n            constrain = typeof value === \"function\" ? value : value ? function(pos, dragEl, _constrainRect, _size) {\r\n                return negativeFilter([\r\n                    Math.max(0, Math.min(_constrainRect.w - _size[0], pos[0])),\r\n                    Math.max(0, Math.min(_constrainRect.h - _size[1], pos[1]))\r\n                ]);\r\n            }.bind(this) : function(pos) { return negativeFilter(pos); };\r\n        }.bind(this);\r\n\r\n        _setConstrain(typeof this.params.constrain === \"function\" ? this.params.constrain  : (this.params.constrain || this.params.containment));\r\n\r\n\r\n        /**\r\n         * Sets whether or not the Drag is constrained. A value of 'true' means constrain to parent bounds; a function\r\n         * will be executed and returns true if the position is allowed.\r\n         * @param value\r\n         */\r\n        this.setConstrain = function(value) {\r\n            _setConstrain(value);\r\n        };\r\n\r\n        var revertFunction;\r\n        /**\r\n         * Sets a function to call on drag stop, which, if it returns true, indicates that the given element should\r\n         * revert to its position before the previous drag.\r\n         * @param fn\r\n         */\r\n        this.setRevert = function(fn) {\r\n            revertFunction = fn;\r\n        };\r\n\r\n        if (this.params.revert) {\r\n            revertFunction = this.params.revert;\r\n        }\r\n\r\n        var _assignId = function(obj) {\r\n                if (typeof obj === \"function\") {\r\n                    obj._katavorioId = _uuid();\r\n                    return obj._katavorioId;\r\n                } else {\r\n                    return obj;\r\n                }\r\n            },\r\n            // a map of { spec -> [ fn, exclusion ] } entries.\r\n            _filters = {},\r\n            _testFilter = function(e) {\r\n                for (var key in _filters) {\r\n                    var f = _filters[key];\r\n                    var rv = f[0](e);\r\n                    if (f[1]) rv = !rv;\r\n                    if (!rv) return false;\r\n                }\r\n                return true;\r\n            },\r\n            _setFilter = this.setFilter = function(f, _exclude) {\r\n                if (f) {\r\n                    var key = _assignId(f);\r\n                    _filters[key] = [\r\n                        function(e) {\r\n                            var t = e.srcElement || e.target, m;\r\n                            if (_isString(f)) {\r\n                                m = matchesSelector(t, f, el);\r\n                            }\r\n                            else if (typeof f === \"function\") {\r\n                                m = f(e, el);\r\n                            }\r\n                            return m;\r\n                        },\r\n                        _exclude !== false\r\n                    ];\r\n\r\n                }\r\n            },\r\n            _addFilter = this.addFilter = _setFilter,\r\n            _removeFilter = this.removeFilter = function(f) {\r\n                var key = typeof f === \"function\" ? f._katavorioId : f;\r\n                delete _filters[key];\r\n            };\r\n\r\n        this.clearAllFilters = function() {\r\n            _filters = {};\r\n        };\r\n\r\n        this.canDrag = this.params.canDrag || _true;\r\n\r\n        var constrainRect,\r\n            matchingDroppables = [],\r\n            intersectingDroppables = [];\r\n\r\n        this.addSelector = function(params) {\r\n            if (params.selector) {\r\n                availableSelectors.push(params);\r\n            }\r\n        };\r\n\r\n        this.downListener = function(e) {\r\n            if (e.defaultPrevented) { return; }\r\n            var isNotRightClick = this.rightButtonCanDrag || (e.which !== 3 && e.button !== 2);\r\n            if (isNotRightClick && this.isEnabled() && this.canDrag()) {\r\n\r\n                var _f =  _testFilter(e) && _inputFilter(e, this.el, this.k);\r\n                if (_f) {\r\n\r\n                    activeSelectorParams = null;\r\n                    elementToDrag = null;\r\n\r\n                    // if (selector) {\r\n                    //     elementToDrag = findDelegateElement(this.el, e.target || e.srcElement, selector);\r\n                    //     if(elementToDrag == null) {\r\n                    //         return;\r\n                    //     }\r\n                    // }\r\n                    if (availableSelectors.length > 0) {\r\n                        var match = findMatchingSelector(availableSelectors, this.el, e.target || e.srcElement);\r\n                        if (match != null) {\r\n                            activeSelectorParams = match[0];\r\n                            elementToDrag = match[1];\r\n                        }\r\n                        // elementToDrag = findDelegateElement(this.el, e.target || e.srcElement, selector);\r\n                        if(elementToDrag == null) {\r\n                            return;\r\n                        }\r\n                    }\r\n                    else {\r\n                        elementToDrag = this.el;\r\n                    }\r\n\r\n                    if (clone) {\r\n                        dragEl = elementToDrag.cloneNode(true);\r\n                        this.params.addClass(dragEl, _classes.clonedDrag);\r\n\r\n                        dragEl.setAttribute(\"id\", null);\r\n                        dragEl.style.position = \"absolute\";\r\n\r\n                        if (this.params.parent != null) {\r\n                            var p = this.params.getPosition(this.el);\r\n                            dragEl.style.left = p[0] + \"px\";\r\n                            dragEl.style.top = p[1] + \"px\";\r\n                            this.params.parent.appendChild(dragEl);\r\n                        } else {\r\n                            // the clone node is added to the body; getOffsetRect gives us a value\r\n                            // relative to the body.\r\n                            var b = getOffsetRect(elementToDrag);\r\n                            dragEl.style.left = b.left + \"px\";\r\n                            dragEl.style.top = b.top + \"px\";\r\n\r\n                            document.body.appendChild(dragEl);\r\n                        }\r\n\r\n                    } else {\r\n                        dragEl = elementToDrag;\r\n                    }\r\n\r\n                    consumeStartEvent && _consume(e);\r\n                    downAt = _pl(e);\r\n                    if (dragEl && dragEl.parentNode)\r\n                    {\r\n                        initialScroll = [dragEl.parentNode.scrollLeft, dragEl.parentNode.scrollTop];\r\n                    }\r\n                    //\r\n                    this.params.bind(document, \"mousemove\", this.moveListener);\r\n                    this.params.bind(document, \"mouseup\", this.upListener);\r\n                    k.markSelection(this);\r\n                    k.markPosses(this);\r\n                    this.params.addClass(document.body, css.noSelect);\r\n                    _dispatch(\"beforeStart\", {el:this.el, pos:posAtDown, e:e, drag:this});\r\n                }\r\n                else if (this.params.consumeFilteredEvents) {\r\n                    _consume(e);\r\n                }\r\n            }\r\n        }.bind(this);\r\n\r\n        this.moveListener = function(e) {\r\n            if (downAt) {\r\n                if (!moving) {\r\n                    var _continue = _dispatch(\"start\", {el:this.el, pos:posAtDown, e:e, drag:this});\r\n                    if (_continue !== false) {\r\n                        if (!downAt) {\r\n                            return;\r\n                        }\r\n                        this.mark(true);\r\n                        moving = true;\r\n                    } else {\r\n                        this.abort();\r\n                    }\r\n                }\r\n\r\n                // it is possible that the start event caused the drag to be aborted. So we check\r\n                // again that we are currently dragging.\r\n                if (downAt) {\r\n                    intersectingDroppables.length = 0;\r\n                    var pos = _pl(e), dx = pos[0] - downAt[0], dy = pos[1] - downAt[1],\r\n                        z = this.params.ignoreZoom ? 1 : k.getZoom();\r\n                    if (dragEl && dragEl.parentNode)\r\n                    {\r\n                        dx += dragEl.parentNode.scrollLeft - initialScroll[0];\r\n                        dy += dragEl.parentNode.scrollTop - initialScroll[1];\r\n                    }\r\n                    dx /= z;\r\n                    dy /= z;\r\n                    this.moveBy(dx, dy, e);\r\n                    k.updateSelection(dx, dy, this);\r\n                    k.updatePosses(dx, dy, this);\r\n                }\r\n            }\r\n        }.bind(this);\r\n\r\n        this.upListener = function(e) {\r\n            if (downAt) {\r\n                downAt = null;\r\n                this.params.unbind(document, \"mousemove\", this.moveListener);\r\n                this.params.unbind(document, \"mouseup\", this.upListener);\r\n                this.params.removeClass(document.body, css.noSelect);\r\n                this.unmark(e);\r\n                k.unmarkSelection(this, e);\r\n                k.unmarkPosses(this, e);\r\n                this.stop(e);\r\n\r\n                k.notifyPosseDragStop(this, e);\r\n                moving = false;\r\n                intersectingDroppables.length = 0;\r\n\r\n                if (clone) {\r\n                    dragEl && dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\r\n                    dragEl = null;\r\n                } else {\r\n                    if (revertFunction && revertFunction(dragEl, this.params.getPosition(dragEl)) === true) {\r\n                        this.params.setPosition(dragEl, posAtDown);\r\n                        _dispatch(\"revert\", dragEl);\r\n                    }\r\n                }\r\n\r\n            }\r\n        }.bind(this);\r\n\r\n        this.getFilters = function() { return _filters; };\r\n\r\n        this.abort = function() {\r\n            if (downAt != null) {\r\n                this.upListener();\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Returns the element that was last dragged. This may be some original element from the DOM, or if `clone` is\r\n         * set, then its actually a copy of some original DOM element. In some client calls to this method, it is the\r\n         * actual element that was dragged that is desired. In others, it is the original DOM element that the user\r\n         * wishes to get - in which case, pass true for `retrieveOriginalElement`.\r\n         *\r\n         * @returns {*}\r\n         */\r\n        this.getDragElement = function(retrieveOriginalElement) {\r\n            return retrieveOriginalElement ? elementToDrag || this.el : dragEl || this.el;\r\n        };\r\n\r\n        var listeners = {\"start\":[], \"drag\":[], \"stop\":[], \"over\":[], \"out\":[], \"beforeStart\":[], \"revert\":[] };\r\n        if (params.events.start) listeners.start.push(params.events.start);\r\n        if (params.events.beforeStart) listeners.beforeStart.push(params.events.beforeStart);\r\n        if (params.events.stop) listeners.stop.push(params.events.stop);\r\n        if (params.events.drag) listeners.drag.push(params.events.drag);\r\n        if (params.events.revert) listeners.revert.push(params.events.revert);\r\n\r\n        this.on = function(evt, fn) {\r\n            if (listeners[evt]) listeners[evt].push(fn);\r\n        };\r\n\r\n        this.off = function(evt, fn) {\r\n            if (listeners[evt]) {\r\n                var l = [];\r\n                for (var i = 0; i < listeners[evt].length; i++) {\r\n                    if (listeners[evt][i] !== fn) l.push(listeners[evt][i]);\r\n                }\r\n                listeners[evt] = l;\r\n            }\r\n        };\r\n\r\n        var _dispatch = function(evt, value) {\r\n            var result = null;\r\n            if (activeSelectorParams && activeSelectorParams[evt]) {\r\n                result = activeSelectorParams[evt](value);\r\n            } else if (listeners[evt]) {\r\n                for (var i = 0; i < listeners[evt].length; i++) {\r\n                    try {\r\n                        var v = listeners[evt][i](value);\r\n                        if (v != null) {\r\n                            result = v;\r\n                        }\r\n                    }\r\n                    catch (e) { }\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n\r\n        this.notifyStart = function(e) {\r\n            _dispatch(\"start\", {el:this.el, pos:this.params.getPosition(dragEl), e:e, drag:this});\r\n        };\r\n\r\n        this.stop = function(e, force) {\r\n            if (force || moving) {\r\n                var positions = [],\r\n                    sel = k.getSelection(),\r\n                    dPos = this.params.getPosition(dragEl);\r\n\r\n                if (sel.length > 0) {\r\n                    for (var i = 0; i < sel.length; i++) {\r\n                        var p = this.params.getPosition(sel[i].el);\r\n                        positions.push([ sel[i].el, { left: p[0], top: p[1] }, sel[i] ]);\r\n                    }\r\n                }\r\n                else {\r\n                    positions.push([ dragEl, {left:dPos[0], top:dPos[1]}, this ]);\r\n                }\r\n\r\n                _dispatch(\"stop\", {\r\n                    el: dragEl,\r\n                    pos: ghostProxyOffsets || dPos,\r\n                    finalPos:dPos,\r\n                    e: e,\r\n                    drag: this,\r\n                    selection:positions\r\n                });\r\n            }\r\n        };\r\n\r\n        this.mark = function(andNotify) {\r\n            posAtDown = this.params.getPosition(dragEl);\r\n            pagePosAtDown = this.params.getPosition(dragEl, true);\r\n            pageDelta = [pagePosAtDown[0] - posAtDown[0], pagePosAtDown[1] - posAtDown[1]];\r\n            this.size = this.params.getSize(dragEl);\r\n            matchingDroppables = k.getMatchingDroppables(this);\r\n            _setDroppablesActive(matchingDroppables, true, false, this);\r\n            this.params.addClass(dragEl, this.params.dragClass || css.drag);\r\n\r\n            var cs;\r\n            if (this.params.getConstrainingRectangle) {\r\n                cs = this.params.getConstrainingRectangle(dragEl)\r\n            } else {\r\n                cs = this.params.getSize(dragEl.parentNode);\r\n            }\r\n            constrainRect = {w: cs[0], h: cs[1]};\r\n\r\n            ghostDx = 0;\r\n            ghostDy = 0;\r\n\r\n            if (andNotify) {\r\n                k.notifySelectionDragStart(this);\r\n            }\r\n        };\r\n        var ghostProxyOffsets;\r\n        this.unmark = function(e, doNotCheckDroppables) {\r\n            _setDroppablesActive(matchingDroppables, false, true, this);\r\n\r\n            if (isConstrained && useGhostProxy(elementToDrag, dragEl)) {\r\n                ghostProxyOffsets = [dragEl.offsetLeft - ghostDx, dragEl.offsetTop - ghostDy];\r\n                dragEl.parentNode.removeChild(dragEl);\r\n                dragEl = elementToDrag;\r\n            }\r\n            else {\r\n                ghostProxyOffsets = null;\r\n            }\r\n\r\n            this.params.removeClass(dragEl, this.params.dragClass || css.drag);\r\n            matchingDroppables.length = 0;\r\n            isConstrained = false;\r\n            if (!doNotCheckDroppables) {\r\n                if (intersectingDroppables.length > 0 && ghostProxyOffsets) {\r\n                    params.setPosition(elementToDrag, ghostProxyOffsets);\r\n                }\r\n                intersectingDroppables.sort(_rankSort);\r\n                for (var i = 0; i < intersectingDroppables.length; i++) {\r\n                    var retVal = intersectingDroppables[i].drop(this, e);\r\n                    if (retVal === true) break;\r\n                }\r\n            }\r\n        };\r\n        this.moveBy = function(dx, dy, e) {\r\n            intersectingDroppables.length = 0;\r\n\r\n            var desiredLoc = this.toGrid([posAtDown[0] + dx, posAtDown[1] + dy]),\r\n                cPos = constrain(desiredLoc, dragEl, constrainRect, this.size);\r\n\r\n            // if we should use a ghost proxy...\r\n            if (useGhostProxy(this.el, dragEl)) {\r\n                // and the element has been dragged outside of its parent bounds\r\n                if (desiredLoc[0] !== cPos[0] || desiredLoc[1] !== cPos[1]) {\r\n\r\n                    // ...if ghost proxy not yet created\r\n                    if (!isConstrained) {\r\n                        // create it\r\n                        var gp = ghostProxy(elementToDrag);\r\n                        params.addClass(gp, _classes.ghostProxy);\r\n\r\n                        if (ghostProxyParent) {\r\n                            ghostProxyParent.appendChild(gp);\r\n                            // find offset between drag el's parent the ghost parent\r\n                            currentParentPosition = params.getPosition(elementToDrag.parentNode, true);\r\n                            ghostParentPosition = params.getPosition(params.ghostProxyParent, true);\r\n                            ghostDx = currentParentPosition[0] - ghostParentPosition[0];\r\n                            ghostDy = currentParentPosition[1] - ghostParentPosition[1];\r\n\r\n                        } else {\r\n                            elementToDrag.parentNode.appendChild(gp);\r\n                        }\r\n\r\n                        // the ghost proxy is the drag element\r\n                        dragEl = gp;\r\n                        // set this flag so we dont recreate the ghost proxy\r\n                        isConstrained = true;\r\n                    }\r\n                    // now the drag position can be the desired position, as the ghost proxy can support it.\r\n                    cPos = desiredLoc;\r\n                }\r\n                else {\r\n                    // if the element is not outside of its parent bounds, and ghost proxy is in place,\r\n                    if (isConstrained) {\r\n                        // remove the ghost proxy from the dom\r\n                        dragEl.parentNode.removeChild(dragEl);\r\n                        // reset the drag element to the original element\r\n                        dragEl = elementToDrag;\r\n                        // clear this flag.\r\n                        isConstrained = false;\r\n                        currentParentPosition = null;\r\n                        ghostParentPosition = null;\r\n                        ghostDx = 0;\r\n                        ghostDy = 0;\r\n                    }\r\n                }\r\n            }\r\n\r\n            var rect = { x:cPos[0], y:cPos[1], w:this.size[0], h:this.size[1]},\r\n                pageRect = { x:rect.x + pageDelta[0], y:rect.y + pageDelta[1], w:rect.w, h:rect.h},\r\n                focusDropElement = null;\r\n\r\n            this.params.setPosition(dragEl, [cPos[0] + ghostDx, cPos[1] + ghostDy]);\r\n\r\n            for (var i = 0; i < matchingDroppables.length; i++) {\r\n                var r2 = { x:matchingDroppables[i].pagePosition[0], y:matchingDroppables[i].pagePosition[1], w:matchingDroppables[i].size[0], h:matchingDroppables[i].size[1]};\r\n                if (this.params.intersects(pageRect, r2) && (_multipleDrop || focusDropElement == null || focusDropElement === matchingDroppables[i].el) && matchingDroppables[i].canDrop(this)) {\r\n                    if (!focusDropElement) focusDropElement = matchingDroppables[i].el;\r\n                    intersectingDroppables.push(matchingDroppables[i]);\r\n                    matchingDroppables[i].setHover(this, true, e);\r\n                }\r\n                else if (matchingDroppables[i].isHover()) {\r\n                    matchingDroppables[i].setHover(this, false, e);\r\n                }\r\n            }\r\n\r\n            _dispatch(\"drag\", {el:this.el, pos:cPos, e:e, drag:this});\r\n\r\n            /* test to see if the parent needs to be scrolled (future)\r\n             if (scroll) {\r\n             var pnsl = dragEl.parentNode.scrollLeft, pnst = dragEl.parentNode.scrollTop;\r\n             console.log(\"scroll!\", pnsl, pnst);\r\n             }*/\r\n        };\r\n        this.destroy = function() {\r\n            this.params.unbind(this.el, \"mousedown\", this.downListener);\r\n            this.params.unbind(document, \"mousemove\", this.moveListener);\r\n            this.params.unbind(document, \"mouseup\", this.upListener);\r\n            this.downListener = null;\r\n            this.upListener = null;\r\n            this.moveListener = null;\r\n        };\r\n\r\n        // init:register mousedown, and perhaps set a filter\r\n        this.params.bind(this.el, \"mousedown\", this.downListener);\r\n\r\n        // if handle provided, use that.  otherwise, try to set a filter.\r\n        // note that a `handle` selector always results in filterExclude being set to false, ie.\r\n        // the selector defines the handle element(s).\r\n        if (this.params.handle)\r\n            _setFilter(this.params.handle, false);\r\n        else\r\n            _setFilter(this.params.filter, this.params.filterExclude);\r\n    };\r\n\r\n    var Drop = function(el, params, css, scope) {\r\n        this._class = css.droppable;\r\n        this.params = params || {};\r\n        this.rank = params.rank || 0;\r\n        this._activeClass = this.params.activeClass || css.active;\r\n        this._hoverClass = this.params.hoverClass || css.hover;\r\n        Super.apply(this, arguments);\r\n        var hover = false;\r\n        this.allowLoopback = this.params.allowLoopback !== false;\r\n\r\n        this.setActive = function(val) {\r\n            this.params[val ? \"addClass\" : \"removeClass\"](this.el, this._activeClass);\r\n        };\r\n\r\n        this.updatePosition = function() {\r\n            this.position = this.params.getPosition(this.el);\r\n            this.pagePosition = this.params.getPosition(this.el, true);\r\n            this.size = this.params.getSize(this.el);\r\n        };\r\n\r\n        this.canDrop = this.params.canDrop || function(drag) {\r\n            return true;\r\n        };\r\n\r\n        this.isHover = function() { return hover; };\r\n\r\n        this.setHover = function(drag, val, e) {\r\n            // if turning off hover but this was not the drag that caused the hover, ignore.\r\n            if (val || this.el._katavorioDragHover == null || this.el._katavorioDragHover === drag.el._katavorio) {\r\n                this.params[val ? \"addClass\" : \"removeClass\"](this.el, this._hoverClass);\r\n                this.el._katavorioDragHover = val ? drag.el._katavorio : null;\r\n                if (hover !== val) {\r\n                    this.params.events[val ? \"over\" : \"out\"]({el: this.el, e: e, drag: drag, drop: this});\r\n                }\r\n                hover = val;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * A drop event. `drag` is the corresponding Drag object, which may be a Drag for some specific element, or it\r\n         * may be a Drag on some element acting as a delegate for elements contained within it.\r\n         * @param drag\r\n         * @param event\r\n         * @returns {*}\r\n         */\r\n        this.drop = function(drag, event) {\r\n            return this.params.events[\"drop\"]({ drag:drag, e:event, drop:this });\r\n        };\r\n\r\n        this.destroy = function() {\r\n            this._class = null;\r\n            this._activeClass = null;\r\n            this._hoverClass = null;\r\n            hover = null;\r\n        };\r\n    };\r\n\r\n    var _uuid = function() {\r\n        return ('xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n            var r = Math.random()*16|0, v = c === 'x' ? r : (r&0x3|0x8);\r\n            return v.toString(16);\r\n        }));\r\n    };\r\n\r\n    var _rankSort = function(a,b) {\r\n        return a.rank < b.rank ? 1 : a.rank > b.rank ? -1 : 0;\r\n    };\r\n\r\n    var _gel = function(el) {\r\n        if (el == null) return null;\r\n        el = (typeof el === \"string\" || el.constructor === String)  ? document.getElementById(el) : el;\r\n        if (el == null) return null;\r\n        el._katavorio = el._katavorio || _uuid();\r\n        return el;\r\n    };\r\n\r\n    root.Katavorio = function(katavorioParams) {\r\n\r\n        var _selection = [],\r\n            _selectionMap = {};\r\n\r\n        this._dragsByScope = {};\r\n        this._dropsByScope = {};\r\n        var _zoom = 1,\r\n            _reg = function(obj, map) {\r\n                _each(obj, function(_obj) {\r\n                    for(var i = 0; i < _obj.scopes.length; i++) {\r\n                        map[_obj.scopes[i]] = map[_obj.scopes[i]] || [];\r\n                        map[_obj.scopes[i]].push(_obj);\r\n                    }\r\n                });\r\n            },\r\n            _unreg = function(obj, map) {\r\n                var c = 0;\r\n                _each(obj, function(_obj) {\r\n                    for(var i = 0; i < _obj.scopes.length; i++) {\r\n                        if (map[_obj.scopes[i]]) {\r\n                            var idx = katavorioParams.indexOf(map[_obj.scopes[i]], _obj);\r\n                            if (idx !== -1) {\r\n                                map[_obj.scopes[i]].splice(idx, 1);\r\n                                c++;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\n                return c > 0 ;\r\n            },\r\n            _getMatchingDroppables = this.getMatchingDroppables = function(drag) {\r\n                var dd = [], _m = {};\r\n                for (var i = 0; i < drag.scopes.length; i++) {\r\n                    var _dd = this._dropsByScope[drag.scopes[i]];\r\n                    if (_dd) {\r\n                        for (var j = 0; j < _dd.length; j++) {\r\n                            if (_dd[j].canDrop(drag) &&  !_m[_dd[j].uuid] && (_dd[j].allowLoopback || _dd[j].el !== drag.el)) {\r\n                                _m[_dd[j].uuid] = true;\r\n                                dd.push(_dd[j]);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                dd.sort(_rankSort);\r\n                return dd;\r\n            },\r\n            _prepareParams = function(p) {\r\n                p = p || {};\r\n                var _p = {\r\n                    events:{}\r\n                }, i;\r\n                for (i in katavorioParams) _p[i] = katavorioParams[i];\r\n                for (i in p) _p[i] = p[i];\r\n                // events\r\n\r\n                for (i = 0; i < _events.length; i++) {\r\n                    _p.events[_events[i]] = p[_events[i]] || _devNull;\r\n                }\r\n                _p.katavorio = this;\r\n                return _p;\r\n            }.bind(this),\r\n            _mistletoe = function(existingDrag, params) {\r\n                for (var i = 0; i < _events.length; i++) {\r\n                    if (params[_events[i]]) {\r\n                        existingDrag.on(_events[i], params[_events[i]]);\r\n                    }\r\n                }\r\n            }.bind(this),\r\n            _css = {},\r\n            overrideCss = katavorioParams.css || {},\r\n            _scope = katavorioParams.scope || _defaultScope;\r\n\r\n        // prepare map of css classes based on defaults frst, then optional overrides\r\n        for (var i in _classes) _css[i] = _classes[i];\r\n        for (var i in overrideCss) _css[i] = overrideCss[i];\r\n\r\n        var inputFilterSelector = katavorioParams.inputFilterSelector || _defaultInputFilterSelector;\r\n        /**\r\n         * Gets the selector identifying which input elements to filter from drag events.\r\n         * @method getInputFilterSelector\r\n         * @return {String} Current input filter selector.\r\n         */\r\n        this.getInputFilterSelector = function() { return inputFilterSelector; };\r\n\r\n        /**\r\n         * Sets the selector identifying which input elements to filter from drag events.\r\n         * @method setInputFilterSelector\r\n         * @param {String} selector Input filter selector to set.\r\n         * @return {Katavorio} Current instance; method may be chained.\r\n         */\r\n        this.setInputFilterSelector = function(selector) {\r\n            inputFilterSelector = selector;\r\n            return this;\r\n        };\r\n\r\n        /**\r\n         * Either makes the given element draggable, or identifies it as an element inside which some identified list\r\n         * of elements may be draggable.\r\n         * @param el\r\n         * @param params\r\n         * @returns {Array}\r\n         */\r\n        this.draggable = function(el, params) {\r\n            var o = [];\r\n            _each(el, function (_el) {\r\n                _el = _gel(_el);\r\n                if (_el != null) {\r\n                    if (_el._katavorioDrag == null) {\r\n                        var p = _prepareParams(params);\r\n                        _el._katavorioDrag = new Drag(_el, p, _css, _scope);\r\n                        _reg(_el._katavorioDrag, this._dragsByScope);\r\n                        o.push(_el._katavorioDrag);\r\n                        katavorioParams.addClass(_el, p.selector ? _css.delegatedDraggable : _css.draggable);\r\n                    }\r\n                    else {\r\n                        _mistletoe(_el._katavorioDrag, params);\r\n                    }\r\n                }\r\n            }.bind(this));\r\n            return o;\r\n        };\r\n\r\n        this.droppable = function(el, params) {\r\n            var o = [];\r\n            _each(el, function(_el) {\r\n                _el = _gel(_el);\r\n                if (_el != null) {\r\n                    var drop = new Drop(_el, _prepareParams(params), _css, _scope);\r\n                    _el._katavorioDrop = _el._katavorioDrop || [];\r\n                    _el._katavorioDrop.push(drop);\r\n                    _reg(drop, this._dropsByScope);\r\n                    o.push(drop);\r\n                    katavorioParams.addClass(_el, _css.droppable);\r\n                }\r\n            }.bind(this));\r\n            return o;\r\n        };\r\n\r\n        /**\r\n         * @name Katavorio#select\r\n         * @function\r\n         * @desc Adds an element to the current selection (for multiple node drag)\r\n         * @param {Element|String} DOM element - or id of the element - to add.\r\n         */\r\n        this.select = function(el) {\r\n            _each(el, function() {\r\n                var _el = _gel(this);\r\n                if (_el && _el._katavorioDrag) {\r\n                    if (!_selectionMap[_el._katavorio]) {\r\n                        _selection.push(_el._katavorioDrag);\r\n                        _selectionMap[_el._katavorio] = [ _el, _selection.length - 1 ];\r\n                        katavorioParams.addClass(_el, _css.selected);\r\n                    }\r\n                }\r\n            });\r\n            return this;\r\n        };\r\n\r\n        /**\r\n         * @name Katavorio#deselect\r\n         * @function\r\n         * @desc Removes an element from the current selection (for multiple node drag)\r\n         * @param {Element|String} DOM element - or id of the element - to remove.\r\n         */\r\n        this.deselect = function(el) {\r\n            _each(el, function() {\r\n                var _el = _gel(this);\r\n                if (_el && _el._katavorio) {\r\n                    var e = _selectionMap[_el._katavorio];\r\n                    if (e) {\r\n                        var _s = [];\r\n                        for (var i = 0; i < _selection.length; i++)\r\n                            if (_selection[i].el !== _el) _s.push(_selection[i]);\r\n                        _selection = _s;\r\n                        delete _selectionMap[_el._katavorio];\r\n                        katavorioParams.removeClass(_el, _css.selected);\r\n                    }\r\n                }\r\n            });\r\n            return this;\r\n        };\r\n\r\n        this.deselectAll = function() {\r\n            for (var i in _selectionMap) {\r\n                var d = _selectionMap[i];\r\n                katavorioParams.removeClass(d[0], _css.selected);\r\n            }\r\n\r\n            _selection.length = 0;\r\n            _selectionMap = {};\r\n        };\r\n\r\n        this.markSelection = function(drag) {\r\n            _foreach(_selection, function(e) { e.mark(); }, drag);\r\n        };\r\n\r\n        this.markPosses = function(drag) {\r\n            if (drag.posses) {\r\n                _each(drag.posses, function(p) {\r\n                    if (drag.posseRoles[p] && _posses[p]) {\r\n                        _foreach(_posses[p].members, function (d) {\r\n                            d.mark();\r\n                        }, drag);\r\n                    }\r\n                })\r\n            }\r\n        };\r\n\r\n        this.unmarkSelection = function(drag, event) {\r\n            _foreach(_selection, function(e) { e.unmark(event); }, drag);\r\n        };\r\n\r\n        this.unmarkPosses = function(drag, event) {\r\n            if (drag.posses) {\r\n                _each(drag.posses, function(p) {\r\n                    if (drag.posseRoles[p] && _posses[p]) {\r\n                        _foreach(_posses[p].members, function (d) {\r\n                            d.unmark(event, true);\r\n                        }, drag);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        this.getSelection = function() { return _selection.slice(0); };\r\n\r\n        this.updateSelection = function(dx, dy, drag) {\r\n            _foreach(_selection, function(e) { e.moveBy(dx, dy); }, drag);\r\n        };\r\n\r\n        var _posseAction = function(fn, drag) {\r\n            if (drag.posses) {\r\n                _each(drag.posses, function(p) {\r\n                    if (drag.posseRoles[p] && _posses[p]) {\r\n                        _foreach(_posses[p].members, function (e) {\r\n                            fn(e);\r\n                        }, drag);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        this.updatePosses = function(dx, dy, drag) {\r\n            _posseAction(function(e) { e.moveBy(dx, dy); }, drag);\r\n        };\r\n\r\n        this.notifyPosseDragStop = function(drag, evt) {\r\n            _posseAction(function(e) { e.stop(evt, true); }, drag);\r\n        };\r\n\r\n        this.notifySelectionDragStop = function(drag, evt) {\r\n            _foreach(_selection, function(e) { e.stop(evt, true); }, drag);\r\n        };\r\n\r\n        this.notifySelectionDragStart = function(drag, evt) {\r\n            _foreach(_selection, function(e) { e.notifyStart(evt);}, drag);\r\n        };\r\n\r\n        this.setZoom = function(z) { _zoom = z; };\r\n        this.getZoom = function() { return _zoom; };\r\n\r\n        // does the work of changing scopes\r\n        var _scopeManip = function(kObj, scopes, map, fn) {\r\n            _each(kObj, function(_kObj) {\r\n                _unreg(_kObj, map);  // deregister existing scopes\r\n                _kObj[fn](scopes); // set scopes\r\n                _reg(_kObj, map); // register new ones\r\n            });\r\n        };\r\n\r\n        _each([ \"set\", \"add\", \"remove\", \"toggle\"], function(v) {\r\n            this[v + \"Scope\"] = function(el, scopes) {\r\n                _scopeManip(el._katavorioDrag, scopes, this._dragsByScope, v + \"Scope\");\r\n                _scopeManip(el._katavorioDrop, scopes, this._dropsByScope, v + \"Scope\");\r\n            }.bind(this);\r\n            this[v + \"DragScope\"] = function(el, scopes) {\r\n                _scopeManip(el.constructor === Drag ? el : el._katavorioDrag, scopes, this._dragsByScope, v + \"Scope\");\r\n            }.bind(this);\r\n            this[v + \"DropScope\"] = function(el, scopes) {\r\n                _scopeManip(el.constructor === Drop ? el : el._katavorioDrop, scopes, this._dropsByScope, v + \"Scope\");\r\n            }.bind(this);\r\n        }.bind(this));\r\n\r\n        this.snapToGrid = function(x, y) {\r\n            for (var s in this._dragsByScope) {\r\n                _foreach(this._dragsByScope[s], function(d) { d.snap(x, y); });\r\n            }\r\n        };\r\n\r\n        this.getDragsForScope = function(s) { return this._dragsByScope[s]; };\r\n        this.getDropsForScope = function(s) { return this._dropsByScope[s]; };\r\n\r\n        var _destroy = function(el, type, map) {\r\n            el = _gel(el);\r\n            if (el[type]) {\r\n\r\n                // remove from selection, if present.\r\n                var selIdx = _selection.indexOf(el[type]);\r\n                if (selIdx >= 0) {\r\n                    _selection.splice(selIdx, 1);\r\n                }\r\n\r\n                if (_unreg(el[type], map)) {\r\n                    _each(el[type], function(kObj) { kObj.destroy() });\r\n                }\r\n\r\n                delete el[type];\r\n            }\r\n        };\r\n\r\n        var _removeListener = function(el, type, evt, fn) {\r\n            el = _gel(el);\r\n            if (el[type]) {\r\n                el[type].off(evt, fn);\r\n            }\r\n        };\r\n\r\n        this.elementRemoved = function(el) {\r\n            this.destroyDraggable(el);\r\n            this.destroyDroppable(el);\r\n        };\r\n\r\n        /**\r\n         * Either completely remove drag functionality from the given element, or remove a specific event handler. If you\r\n         * call this method with a single argument - the element - all drag functionality is removed from it. Otherwise, if\r\n         * you provide an event name and listener function, this function is de-registered (if found).\r\n         * @param el Element to update\r\n         * @param {string} [evt] Optional event name to unsubscribe\r\n         * @param {Function} [fn] Optional function to unsubscribe\r\n         */\r\n        this.destroyDraggable = function(el, evt, fn) {\r\n            if (arguments.length === 1) {\r\n                _destroy(el, \"_katavorioDrag\", this._dragsByScope);\r\n            } else {\r\n                _removeListener(el, \"_katavorioDrag\", evt, fn);\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Either completely remove drop functionality from the given element, or remove a specific event handler. If you\r\n         * call this method with a single argument - the element - all drop functionality is removed from it. Otherwise, if\r\n         * you provide an event name and listener function, this function is de-registered (if found).\r\n         * @param el Element to update\r\n         * @param {string} [evt] Optional event name to unsubscribe\r\n         * @param {Function} [fn] Optional function to unsubscribe\r\n         */\r\n        this.destroyDroppable = function(el, evt, fn) {\r\n            if (arguments.length === 1) {\r\n                _destroy(el, \"_katavorioDrop\", this._dropsByScope);\r\n            } else {\r\n                _removeListener(el, \"_katavorioDrop\", evt, fn);\r\n            }\r\n        };\r\n\r\n        this.reset = function() {\r\n            this._dragsByScope = {};\r\n            this._dropsByScope = {};\r\n            _selection = [];\r\n            _selectionMap = {};\r\n            _posses = {};\r\n        };\r\n\r\n        // ----- groups\r\n        var _posses = {};\r\n\r\n        var _processOneSpec = function(el, _spec, dontAddExisting) {\r\n            var posseId = _isString(_spec) ? _spec : _spec.id;\r\n            var active = _isString(_spec) ? true : _spec.active !== false;\r\n            var posse = _posses[posseId] || (function() {\r\n                var g = {name:posseId, members:[]};\r\n                _posses[posseId] = g;\r\n                return g;\r\n            })();\r\n            _each(el, function(_el) {\r\n                if (_el._katavorioDrag) {\r\n\r\n                    if (dontAddExisting && _el._katavorioDrag.posseRoles[posse.name] != null) return;\r\n\r\n                    _suggest(posse.members, _el._katavorioDrag);\r\n                    _suggest(_el._katavorioDrag.posses, posse.name);\r\n                    _el._katavorioDrag.posseRoles[posse.name] = active;\r\n                }\r\n            });\r\n            return posse;\r\n        };\r\n\r\n        /**\r\n         * Add the given element to the posse with the given id, creating the group if it at first does not exist.\r\n         * @method addToPosse\r\n         * @param {Element} el Element to add.\r\n         * @param {String...|Object...} spec Variable args parameters. Each argument can be a either a String, indicating\r\n         * the ID of a Posse to which the element should be added as an active participant, or an Object containing\r\n         * `{ id:\"posseId\", active:false/true}`. In the latter case, if `active` is not provided it is assumed to be\r\n         * true.\r\n         * @returns {Posse|Posse[]} The Posse(s) to which the element(s) was/were added.\r\n         */\r\n        this.addToPosse = function(el, spec) {\r\n\r\n            var posses = [];\r\n\r\n            for (var i = 1; i < arguments.length; i++) {\r\n                posses.push(_processOneSpec(el, arguments[i]));\r\n            }\r\n\r\n            return posses.length === 1 ? posses[0] : posses;\r\n        };\r\n\r\n        /**\r\n         * Sets the posse(s) for the element with the given id, creating those that do not yet exist, and removing from\r\n         * the element any current Posses that are not specified by this method call. This method will not change the\r\n         * active/passive state if it is given a posse in which the element is already a member.\r\n         * @method setPosse\r\n         * @param {Element} el Element to set posse(s) on.\r\n         * @param {String...|Object...} spec Variable args parameters. Each argument can be a either a String, indicating\r\n         * the ID of a Posse to which the element should be added as an active participant, or an Object containing\r\n         * `{ id:\"posseId\", active:false/true}`. In the latter case, if `active` is not provided it is assumed to be\r\n         * true.\r\n         * @returns {Posse|Posse[]} The Posse(s) to which the element(s) now belongs.\r\n         */\r\n        this.setPosse = function(el, spec) {\r\n\r\n            var posses = [];\r\n\r\n            for (var i = 1; i < arguments.length; i++) {\r\n                posses.push(_processOneSpec(el, arguments[i], true).name);\r\n            }\r\n\r\n            _each(el, function(_el) {\r\n                if (_el._katavorioDrag) {\r\n                    var diff = _difference(_el._katavorioDrag.posses, posses);\r\n                    var p = [];\r\n                    Array.prototype.push.apply(p, _el._katavorioDrag.posses);\r\n                    for (var i = 0; i < diff.length; i++) {\r\n                        this.removeFromPosse(_el, diff[i]);\r\n                    }\r\n                }\r\n            }.bind(this));\r\n\r\n            return posses.length === 1 ? posses[0] : posses;\r\n        };\r\n\r\n        /**\r\n         * Remove the given element from the given posse(s).\r\n         * @method removeFromPosse\r\n         * @param {Element} el Element to remove.\r\n         * @param {String...} posseId Varargs parameter: one value for each posse to remove the element from.\r\n         */\r\n        this.removeFromPosse = function(el, posseId) {\r\n            if (arguments.length < 2) throw new TypeError(\"No posse id provided for remove operation\");\r\n            for(var i = 1; i < arguments.length; i++) {\r\n                posseId = arguments[i];\r\n                _each(el, function (_el) {\r\n                    if (_el._katavorioDrag && _el._katavorioDrag.posses) {\r\n                        var d = _el._katavorioDrag;\r\n                        _each(posseId, function (p) {\r\n                            _vanquish(_posses[p].members, d);\r\n                            _vanquish(d.posses, p);\r\n                            delete d.posseRoles[p];\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Remove the given element from all Posses to which it belongs.\r\n         * @method removeFromAllPosses\r\n         * @param {Element|Element[]} el Element to remove from Posses.\r\n         */\r\n        this.removeFromAllPosses = function(el) {\r\n            _each(el, function(_el) {\r\n                if (_el._katavorioDrag && _el._katavorioDrag.posses) {\r\n                    var d = _el._katavorioDrag;\r\n                    _each(d.posses, function(p) {\r\n                        _vanquish(_posses[p].members, d);\r\n                    });\r\n                    d.posses.length = 0;\r\n                    d.posseRoles = {};\r\n                }\r\n            });\r\n        };\r\n\r\n        /**\r\n         * Changes the participation state for the element in the Posse with the given ID.\r\n         * @param {Element|Element[]} el Element(s) to change state for.\r\n         * @param {String} posseId ID of the Posse to change element state for.\r\n         * @param {Boolean} state True to make active, false to make passive.\r\n         */\r\n        this.setPosseState = function(el, posseId, state) {\r\n            var posse = _posses[posseId];\r\n            if (posse) {\r\n                _each(el, function(_el) {\r\n                    if (_el._katavorioDrag && _el._katavorioDrag.posses) {\r\n                        _el._katavorioDrag.posseRoles[posse.name] = state;\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n    };\r\n\r\n    root.Katavorio.version = \"1.0.0\";\r\n\r\n    if (typeof exports !== \"undefined\") {\r\n        exports.Katavorio = root.Katavorio;\r\n    }\r\n\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n\r\n\r\n(function() {\r\n\r\n    var root = this;\r\n    root.jsPlumbUtil = root.jsPlumbUtil || {};\r\n    var jsPlumbUtil = root.jsPlumbUtil;\r\n\r\n    if (typeof exports !=='undefined') { exports.jsPlumbUtil = jsPlumbUtil;}\r\n\r\n\r\n    /**\r\n     * Tests if the given object is an Array.\r\n     * @param a\r\n     */\r\n    function isArray(a) {\r\n        return Object.prototype.toString.call(a) === \"[object Array]\";\r\n    }\r\n    jsPlumbUtil.isArray = isArray;\r\n    /**\r\n     * Tests if the given object is a Number.\r\n     * @param n\r\n     */\r\n    function isNumber(n) {\r\n        return Object.prototype.toString.call(n) === \"[object Number]\";\r\n    }\r\n    jsPlumbUtil.isNumber = isNumber;\r\n    function isString(s) {\r\n        return typeof s === \"string\";\r\n    }\r\n    jsPlumbUtil.isString = isString;\r\n    function isBoolean(s) {\r\n        return typeof s === \"boolean\";\r\n    }\r\n    jsPlumbUtil.isBoolean = isBoolean;\r\n    function isNull(s) {\r\n        return s == null;\r\n    }\r\n    jsPlumbUtil.isNull = isNull;\r\n    function isObject(o) {\r\n        return o == null ? false : Object.prototype.toString.call(o) === \"[object Object]\";\r\n    }\r\n    jsPlumbUtil.isObject = isObject;\r\n    function isDate(o) {\r\n        return Object.prototype.toString.call(o) === \"[object Date]\";\r\n    }\r\n    jsPlumbUtil.isDate = isDate;\r\n    function isFunction(o) {\r\n        return Object.prototype.toString.call(o) === \"[object Function]\";\r\n    }\r\n    jsPlumbUtil.isFunction = isFunction;\r\n    function isNamedFunction(o) {\r\n        return isFunction(o) && o.name != null && o.name.length > 0;\r\n    }\r\n    jsPlumbUtil.isNamedFunction = isNamedFunction;\r\n    function isEmpty(o) {\r\n        for (var i in o) {\r\n            if (o.hasOwnProperty(i)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    jsPlumbUtil.isEmpty = isEmpty;\r\n    function clone(a) {\r\n        if (isString(a)) {\r\n            return \"\" + a;\r\n        }\r\n        else if (isBoolean(a)) {\r\n            return !!a;\r\n        }\r\n        else if (isDate(a)) {\r\n            return new Date(a.getTime());\r\n        }\r\n        else if (isFunction(a)) {\r\n            return a;\r\n        }\r\n        else if (isArray(a)) {\r\n            var b = [];\r\n            for (var i = 0; i < a.length; i++) {\r\n                b.push(clone(a[i]));\r\n            }\r\n            return b;\r\n        }\r\n        else if (isObject(a)) {\r\n            var c = {};\r\n            for (var j in a) {\r\n                c[j] = clone(a[j]);\r\n            }\r\n            return c;\r\n        }\r\n        else {\r\n            return a;\r\n        }\r\n    }\r\n    jsPlumbUtil.clone = clone;\r\n    function merge(a, b, collations, overwrites) {\r\n        // first change the collations array - if present - into a lookup table, because its faster.\r\n        var cMap = {}, ar, i, oMap = {};\r\n        collations = collations || [];\r\n        overwrites = overwrites || [];\r\n        for (i = 0; i < collations.length; i++) {\r\n            cMap[collations[i]] = true;\r\n        }\r\n        for (i = 0; i < overwrites.length; i++) {\r\n            oMap[overwrites[i]] = true;\r\n        }\r\n        var c = clone(a);\r\n        for (i in b) {\r\n            if (c[i] == null || oMap[i]) {\r\n                c[i] = b[i];\r\n            }\r\n            else if (isString(b[i]) || isBoolean(b[i])) {\r\n                if (!cMap[i]) {\r\n                    c[i] = b[i]; // if we dont want to collate, just copy it in.\r\n                }\r\n                else {\r\n                    ar = [];\r\n                    // if c's object is also an array we can keep its values.\r\n                    ar.push.apply(ar, isArray(c[i]) ? c[i] : [c[i]]);\r\n                    ar.push.apply(ar, isBoolean(b[i]) ? b[i] : [b[i]]);\r\n                    c[i] = ar;\r\n                }\r\n            }\r\n            else {\r\n                if (isArray(b[i])) {\r\n                    ar = [];\r\n                    // if c's object is also an array we can keep its values.\r\n                    if (isArray(c[i])) {\r\n                        ar.push.apply(ar, c[i]);\r\n                    }\r\n                    ar.push.apply(ar, b[i]);\r\n                    c[i] = ar;\r\n                }\r\n                else if (isObject(b[i])) {\r\n                    // overwrite c's value with an object if it is not already one.\r\n                    if (!isObject(c[i])) {\r\n                        c[i] = {};\r\n                    }\r\n                    for (var j in b[i]) {\r\n                        c[i][j] = b[i][j];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return c;\r\n    }\r\n    jsPlumbUtil.merge = merge;\r\n    function replace(inObj, path, value) {\r\n        if (inObj == null) {\r\n            return;\r\n        }\r\n        var q = inObj, t = q;\r\n        path.replace(/([^\\.])+/g, function (term, lc, pos, str) {\r\n            var array = term.match(/([^\\[0-9]+){1}(\\[)([0-9+])/), last = pos + term.length >= str.length, _getArray = function () {\r\n                return t[array[1]] || (function () {\r\n                    t[array[1]] = [];\r\n                    return t[array[1]];\r\n                })();\r\n            };\r\n            if (last) {\r\n                // set term = value on current t, creating term as array if necessary.\r\n                if (array) {\r\n                    _getArray()[array[3]] = value;\r\n                }\r\n                else {\r\n                    t[term] = value;\r\n                }\r\n            }\r\n            else {\r\n                // set to current t[term], creating t[term] if necessary.\r\n                if (array) {\r\n                    var a_1 = _getArray();\r\n                    t = a_1[array[3]] || (function () {\r\n                        a_1[array[3]] = {};\r\n                        return a_1[array[3]];\r\n                    })();\r\n                }\r\n                else {\r\n                    t = t[term] || (function () {\r\n                        t[term] = {};\r\n                        return t[term];\r\n                    })();\r\n                }\r\n            }\r\n            return \"\";\r\n        });\r\n        return inObj;\r\n    }\r\n    jsPlumbUtil.replace = replace;\r\n    //\r\n    // chain a list of functions, supplied by [ object, method name, args ], and return on the first\r\n    // one that returns the failValue. if none return the failValue, return the successValue.\r\n    //\r\n    function functionChain(successValue, failValue, fns) {\r\n        for (var i = 0; i < fns.length; i++) {\r\n            var o = fns[i][0][fns[i][1]].apply(fns[i][0], fns[i][2]);\r\n            if (o === failValue) {\r\n                return o;\r\n            }\r\n        }\r\n        return successValue;\r\n    }\r\n    jsPlumbUtil.functionChain = functionChain;\r\n    /**\r\n     *\r\n     * Take the given model and expand out any parameters. 'functionPrefix' is optional, and if present, helps jsplumb figure out what to do if a value is a Function.\r\n     * if you do not provide it (and doNotExpandFunctions is null, or false), jsplumb will run the given values through any functions it finds, and use the function's\r\n     * output as the value in the result. if you do provide the prefix, only functions that are named and have this prefix\r\n     * will be executed; other functions will be passed as values to the output.\r\n     *\r\n     * @param model\r\n     * @param values\r\n     * @param functionPrefix\r\n     * @param doNotExpandFunctions\r\n     * @returns {any}\r\n     */\r\n    function populate(model, values, functionPrefix, doNotExpandFunctions) {\r\n        // for a string, see if it has parameter matches, and if so, try to make the substitutions.\r\n        var getValue = function (fromString) {\r\n            var matches = fromString.match(/(\\${.*?})/g);\r\n            if (matches != null) {\r\n                for (var i = 0; i < matches.length; i++) {\r\n                    var val = values[matches[i].substring(2, matches[i].length - 1)] || \"\";\r\n                    if (val != null) {\r\n                        fromString = fromString.replace(matches[i], val);\r\n                    }\r\n                }\r\n            }\r\n            return fromString;\r\n        };\r\n        // process one entry.\r\n        var _one = function (d) {\r\n            if (d != null) {\r\n                if (isString(d)) {\r\n                    return getValue(d);\r\n                }\r\n                else if (isFunction(d) && !doNotExpandFunctions && (functionPrefix == null || (d.name || \"\").indexOf(functionPrefix) === 0)) {\r\n                    return d(values);\r\n                }\r\n                else if (isArray(d)) {\r\n                    var r = [];\r\n                    for (var i = 0; i < d.length; i++) {\r\n                        r.push(_one(d[i]));\r\n                    }\r\n                    return r;\r\n                }\r\n                else if (isObject(d)) {\r\n                    var s = {};\r\n                    for (var j in d) {\r\n                        s[j] = _one(d[j]);\r\n                    }\r\n                    return s;\r\n                }\r\n                else {\r\n                    return d;\r\n                }\r\n            }\r\n        };\r\n        return _one(model);\r\n    }\r\n    jsPlumbUtil.populate = populate;\r\n    /**\r\n     * Find the index of a given object in an array.\r\n     * @param a The array to search\r\n     * @param f The function to run on each element. Return true if the element matches.\r\n     * @returns {number} -1 if not found, otherwise the index in the array.\r\n     */\r\n    function findWithFunction(a, f) {\r\n        if (a) {\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (f(a[i])) {\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n    jsPlumbUtil.findWithFunction = findWithFunction;\r\n    /**\r\n     * Remove some element from an array by matching each element in the array against some predicate function. Note that this\r\n     * is an in-place removal; the array is altered.\r\n     * @param a The array to search\r\n     * @param f The function to run on each element. Return true if the element matches.\r\n     * @returns {boolean} true if removed, false otherwise.\r\n     */\r\n    function removeWithFunction(a, f) {\r\n        var idx = findWithFunction(a, f);\r\n        if (idx > -1) {\r\n            a.splice(idx, 1);\r\n        }\r\n        return idx !== -1;\r\n    }\r\n    jsPlumbUtil.removeWithFunction = removeWithFunction;\r\n    /**\r\n     * Remove some element from an array by simple lookup in the array for the given element. Note that this\r\n     * is an in-place removal; the array is altered.\r\n     * @param l The array to search\r\n     * @param v The value to remove.\r\n     * @returns {boolean} true if removed, false otherwise.\r\n     */\r\n    function remove(l, v) {\r\n        var idx = l.indexOf(v);\r\n        if (idx > -1) {\r\n            l.splice(idx, 1);\r\n        }\r\n        return idx !== -1;\r\n    }\r\n    jsPlumbUtil.remove = remove;\r\n    /**\r\n     * Add some element to the given array, unless it is determined that it is already in the array.\r\n     * @param list The array to add the element to.\r\n     * @param item The item to add.\r\n     * @param hashFunction A function to use to determine if the given item already exists in the array.\r\n     */\r\n    function addWithFunction(list, item, hashFunction) {\r\n        if (findWithFunction(list, hashFunction) === -1) {\r\n            list.push(item);\r\n        }\r\n    }\r\n    jsPlumbUtil.addWithFunction = addWithFunction;\r\n    /**\r\n     * Add some element to a list that is contained in a map of lists.\r\n     * @param map The map of [ key -> list ] entries\r\n     * @param key The name of the list to insert into\r\n     * @param value The value to insert\r\n     * @param insertAtStart Whether or not to insert at the start; defaults to false.\r\n     */\r\n    function addToList(map, key, value, insertAtStart) {\r\n        var l = map[key];\r\n        if (l == null) {\r\n            l = [];\r\n            map[key] = l;\r\n        }\r\n        l[insertAtStart ? \"unshift\" : \"push\"](value);\r\n        return l;\r\n    }\r\n    jsPlumbUtil.addToList = addToList;\r\n    /**\r\n     * Add an item to a list, unless it is already in the list. The test for pre-existence is a simple list lookup.\r\n     * If you want to do something more complex, perhaps #addWithFunction might help.\r\n     * @param list List to add the item to\r\n     * @param item Item to add\r\n     * @param insertAtHead Whether or not to insert at the start; defaults to false.\r\n     */\r\n    function suggest(list, item, insertAtHead) {\r\n        if (list.indexOf(item) === -1) {\r\n            if (insertAtHead) {\r\n                list.unshift(item);\r\n            }\r\n            else {\r\n                list.push(item);\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    jsPlumbUtil.suggest = suggest;\r\n    /**\r\n     * Extends the given obj (which can be an array) with the given constructor function, prototype functions, and class members, any of which may be null.\r\n     * @param child\r\n     * @param parent\r\n     * @param _protoFn\r\n     */\r\n    function extend(child, parent, _protoFn) {\r\n        var i;\r\n        parent = isArray(parent) ? parent : [parent];\r\n        var _copyProtoChain = function (focus) {\r\n            var proto = focus.__proto__;\r\n            while (proto != null) {\r\n                if (proto.prototype != null) {\r\n                    for (var j in proto.prototype) {\r\n                        if (proto.prototype.hasOwnProperty(j) && !child.prototype.hasOwnProperty(j)) {\r\n                            child.prototype[j] = proto.prototype[j];\r\n                        }\r\n                    }\r\n                    proto = proto.prototype.__proto__;\r\n                }\r\n                else {\r\n                    proto = null;\r\n                }\r\n            }\r\n        };\r\n        for (i = 0; i < parent.length; i++) {\r\n            for (var j in parent[i].prototype) {\r\n                if (parent[i].prototype.hasOwnProperty(j) && !child.prototype.hasOwnProperty(j)) {\r\n                    child.prototype[j] = parent[i].prototype[j];\r\n                }\r\n            }\r\n            _copyProtoChain(parent[i]);\r\n        }\r\n        var _makeFn = function (name, protoFn) {\r\n            return function () {\r\n                for (i = 0; i < parent.length; i++) {\r\n                    if (parent[i].prototype[name]) {\r\n                        parent[i].prototype[name].apply(this, arguments);\r\n                    }\r\n                }\r\n                return protoFn.apply(this, arguments);\r\n            };\r\n        };\r\n        var _oneSet = function (fns) {\r\n            for (var k in fns) {\r\n                child.prototype[k] = _makeFn(k, fns[k]);\r\n            }\r\n        };\r\n        if (arguments.length > 2) {\r\n            for (i = 2; i < arguments.length; i++) {\r\n                _oneSet(arguments[i]);\r\n            }\r\n        }\r\n        return child;\r\n    }\r\n    jsPlumbUtil.extend = extend;\r\n    /**\r\n     * Generate a UUID.\r\n     */\r\n    function uuid() {\r\n        return ('xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        }));\r\n    }\r\n    jsPlumbUtil.uuid = uuid;\r\n    /**\r\n     * Trim a string.\r\n     * @param s String to trim\r\n     * @returns the String with leading and trailing whitespace removed.\r\n     */\r\n    function fastTrim(s) {\r\n        if (s == null) {\r\n            return null;\r\n        }\r\n        var str = s.replace(/^\\s\\s*/, ''), ws = /\\s/, i = str.length;\r\n        while (ws.test(str.charAt(--i))) {\r\n        }\r\n        return str.slice(0, i + 1);\r\n    }\r\n    jsPlumbUtil.fastTrim = fastTrim;\r\n    function each(obj, fn) {\r\n        obj = obj.length == null || typeof obj === \"string\" ? [obj] : obj;\r\n        for (var i = 0; i < obj.length; i++) {\r\n            fn(obj[i]);\r\n        }\r\n    }\r\n    jsPlumbUtil.each = each;\r\n    function map(obj, fn) {\r\n        var o = [];\r\n        for (var i = 0; i < obj.length; i++) {\r\n            o.push(fn(obj[i]));\r\n        }\r\n        return o;\r\n    }\r\n    jsPlumbUtil.map = map;\r\n    function mergeWithParents(type, map, parentAttribute) {\r\n        parentAttribute = parentAttribute || \"parent\";\r\n        var _def = function (id) {\r\n            return id ? map[id] : null;\r\n        };\r\n        var _parent = function (def) {\r\n            return def ? _def(def[parentAttribute]) : null;\r\n        };\r\n        var _one = function (parent, def) {\r\n            if (parent == null) {\r\n                return def;\r\n            }\r\n            else {\r\n                var overrides = [\"anchor\", \"anchors\", \"cssClass\", \"connector\", \"paintStyle\", \"hoverPaintStyle\", \"endpoint\", \"endpoints\"];\r\n                if (def.mergeStrategy === \"override\") {\r\n                    Array.prototype.push.apply(overrides, [\"events\", \"overlays\"]);\r\n                }\r\n                var d_1 = merge(parent, def, [], overrides);\r\n                return _one(_parent(parent), d_1);\r\n            }\r\n        };\r\n        var _getDef = function (t) {\r\n            if (t == null) {\r\n                return {};\r\n            }\r\n            if (typeof t === \"string\") {\r\n                return _def(t);\r\n            }\r\n            else if (t.length) {\r\n                var done = false, i = 0, _dd = void 0;\r\n                while (!done && i < t.length) {\r\n                    _dd = _getDef(t[i]);\r\n                    if (_dd) {\r\n                        done = true;\r\n                    }\r\n                    else {\r\n                        i++;\r\n                    }\r\n                }\r\n                return _dd;\r\n            }\r\n        };\r\n        var d = _getDef(type);\r\n        if (d) {\r\n            return _one(_parent(d), d);\r\n        }\r\n        else {\r\n            return {};\r\n        }\r\n    }\r\n    jsPlumbUtil.mergeWithParents = mergeWithParents;\r\n    jsPlumbUtil.logEnabled = true;\r\n    function log() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        if (jsPlumbUtil.logEnabled && typeof console !== \"undefined\") {\r\n            try {\r\n                var msg = arguments[arguments.length - 1];\r\n                console.log(msg);\r\n            }\r\n            catch (e) {\r\n            }\r\n        }\r\n    }\r\n    jsPlumbUtil.log = log;\r\n    /**\r\n     * Wraps one function with another, creating a placeholder for the\r\n     * wrapped function if it was null. this is used to wrap the various\r\n     * drag/drop event functions - to allow jsPlumb to be notified of\r\n     * important lifecycle events without imposing itself on the user's\r\n     * drag/drop functionality.\r\n     * @method jsPlumbUtil.wrap\r\n     * @param {Function} wrappedFunction original function to wrap; may be null.\r\n     * @param {Function} newFunction function to wrap the original with.\r\n     * @param {Object} [returnOnThisValue] Optional. Indicates that the wrappedFunction should\r\n     * not be executed if the newFunction returns a value matching 'returnOnThisValue'.\r\n     * note that this is a simple comparison and only works for primitives right now.\r\n     */\r\n    function wrap(wrappedFunction, newFunction, returnOnThisValue) {\r\n        return function () {\r\n            var r = null;\r\n            try {\r\n                if (newFunction != null) {\r\n                    r = newFunction.apply(this, arguments);\r\n                }\r\n            }\r\n            catch (e) {\r\n                log(\"jsPlumb function failed : \" + e);\r\n            }\r\n            if ((wrappedFunction != null) && (returnOnThisValue == null || (r !== returnOnThisValue))) {\r\n                try {\r\n                    r = wrappedFunction.apply(this, arguments);\r\n                }\r\n                catch (e) {\r\n                    log(\"wrapped function failed : \" + e);\r\n                }\r\n            }\r\n            return r;\r\n        };\r\n    }\r\n    jsPlumbUtil.wrap = wrap;\r\n    var EventGenerator = /** @class */ (function () {\r\n        function EventGenerator() {\r\n            var _this = this;\r\n            this._listeners = {};\r\n            this.eventsSuspended = false;\r\n            this.tick = false;\r\n            // this is a list of events that should re-throw any errors that occur during their dispatch.\r\n            this.eventsToDieOn = { \"ready\": true };\r\n            this.queue = [];\r\n            this.bind = function (event, listener, insertAtStart) {\r\n                var _one = function (evt) {\r\n                    addToList(_this._listeners, evt, listener, insertAtStart);\r\n                    listener.__jsPlumb = listener.__jsPlumb || {};\r\n                    listener.__jsPlumb[uuid()] = evt;\r\n                };\r\n                if (typeof event === \"string\") {\r\n                    _one(event);\r\n                }\r\n                else if (event.length != null) {\r\n                    for (var i = 0; i < event.length; i++) {\r\n                        _one(event[i]);\r\n                    }\r\n                }\r\n                return _this;\r\n            };\r\n            this.fire = function (event, value, originalEvent) {\r\n                if (!this.tick) {\r\n                    this.tick = true;\r\n                    if (!this.eventsSuspended && this._listeners[event]) {\r\n                        var l = this._listeners[event].length, i = 0, _gone = false, ret = null;\r\n                        if (!this.shouldFireEvent || this.shouldFireEvent(event, value, originalEvent)) {\r\n                            while (!_gone && i < l && ret !== false) {\r\n                                // doing it this way rather than catching and then possibly re-throwing means that an error propagated by this\r\n                                // method will have the whole call stack available in the debugger.\r\n                                if (this.eventsToDieOn[event]) {\r\n                                    this._listeners[event][i].apply(this, [value, originalEvent]);\r\n                                }\r\n                                else {\r\n                                    try {\r\n                                        ret = this._listeners[event][i].apply(this, [value, originalEvent]);\r\n                                    }\r\n                                    catch (e) {\r\n                                        log(\"jsPlumb: fire failed for event \" + event + \" : \" + e);\r\n                                    }\r\n                                }\r\n                                i++;\r\n                                if (this._listeners == null || this._listeners[event] == null) {\r\n                                    _gone = true;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    this.tick = false;\r\n                    this._drain();\r\n                }\r\n                else {\r\n                    this.queue.unshift(arguments);\r\n                }\r\n                return this;\r\n            };\r\n            this._drain = function () {\r\n                var n = _this.queue.pop();\r\n                if (n) {\r\n                    _this.fire.apply(_this, n);\r\n                }\r\n            };\r\n            this.unbind = function (eventOrListener, listener) {\r\n                if (arguments.length === 0) {\r\n                    this._listeners = {};\r\n                }\r\n                else if (arguments.length === 1) {\r\n                    if (typeof eventOrListener === \"string\") {\r\n                        delete this._listeners[eventOrListener];\r\n                    }\r\n                    else if (eventOrListener.__jsPlumb) {\r\n                        var evt = void 0;\r\n                        for (var i in eventOrListener.__jsPlumb) {\r\n                            evt = eventOrListener.__jsPlumb[i];\r\n                            remove(this._listeners[evt] || [], eventOrListener);\r\n                        }\r\n                    }\r\n                }\r\n                else if (arguments.length === 2) {\r\n                    remove(this._listeners[eventOrListener] || [], listener);\r\n                }\r\n                return this;\r\n            };\r\n            this.getListener = function (forEvent) {\r\n                return _this._listeners[forEvent];\r\n            };\r\n            this.setSuspendEvents = function (val) {\r\n                _this.eventsSuspended = val;\r\n            };\r\n            this.isSuspendEvents = function () {\r\n                return _this.eventsSuspended;\r\n            };\r\n            this.silently = function (fn) {\r\n                _this.setSuspendEvents(true);\r\n                try {\r\n                    fn();\r\n                }\r\n                catch (e) {\r\n                    log(\"Cannot execute silent function \" + e);\r\n                }\r\n                _this.setSuspendEvents(false);\r\n            };\r\n            this.cleanupListeners = function () {\r\n                for (var i in _this._listeners) {\r\n                    _this._listeners[i] = null;\r\n                }\r\n            };\r\n        }\r\n        return EventGenerator;\r\n    }());\r\n    jsPlumbUtil.EventGenerator = EventGenerator;\r\n\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n/*\r\n * This file contains utility functions that run in browsers only.\r\n *\r\n * Copyright (c) 2010 - 2018 jsPlumb (hello@jsplumbtoolkit.com)\r\n *\r\n * https://jsplumbtoolkit.com\r\n * https://github.com/jsplumb/jsplumb\r\n *\r\n * Dual licensed under the MIT and GPL2 licenses.\r\n */\r\n;(function() {\r\n\r\n    \"use strict\";\r\n\r\n    var root = this;\r\n\r\n    root.jsPlumbUtil.matchesSelector = function(el, selector, ctx) {\r\n        ctx = ctx || el.parentNode;\r\n        var possibles = ctx.querySelectorAll(selector);\r\n        for (var i = 0; i < possibles.length; i++) {\r\n            if (possibles[i] === el) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n\r\n    root.jsPlumbUtil.consume = function(e, doNotPreventDefault) {\r\n        if (e.stopPropagation) {\r\n            e.stopPropagation();\r\n        }\r\n        else {\r\n            e.returnValue = false;\r\n        }\r\n\r\n        if (!doNotPreventDefault && e.preventDefault){\r\n            e.preventDefault();\r\n        }\r\n    };\r\n\r\n    /*\r\n     * Function: sizeElement\r\n     * Helper to size and position an element. You would typically use\r\n     * this when writing your own Connector or Endpoint implementation.\r\n     *\r\n     * Parameters:\r\n     *  x - [int] x position for the element origin\r\n     *  y - [int] y position for the element origin\r\n     *  w - [int] width of the element\r\n     *  h - [int] height of the element\r\n     *\r\n     */\r\n    root.jsPlumbUtil.sizeElement = function(el, x, y, w, h) {\r\n        if (el) {\r\n            el.style.height = h + \"px\";\r\n            el.height = h;\r\n            el.style.width = w + \"px\";\r\n            el.width = w;\r\n            el.style.left = x + \"px\";\r\n            el.style.top = y + \"px\";\r\n        }\r\n    };\r\n\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n\r\n;(function() {\r\n\r\n    var DEFAULT_OPTIONS = {\r\n        deriveAnchor:function(edge, index, ep, conn) {\r\n            return {\r\n                top:[\"TopRight\", \"TopLeft\"],\r\n                bottom:[\"BottomRight\", \"BottomLeft\"]\r\n            }[edge][index];\r\n        }\r\n    };\r\n\r\n    var root = this;\r\n\r\n    var ListManager = function(jsPlumbInstance) {\r\n\r\n        this.count = 0;\r\n        this.instance = jsPlumbInstance;\r\n        this.lists = {};\r\n\r\n        this.instance.addList = function(el, options) {\r\n            return this.listManager.addList(el, options);\r\n        };\r\n\r\n        this.instance.removeList = function(el) {\r\n            this.listManager.removeList(el);\r\n        };\r\n\r\n        this.instance.bind(\"manageElement\", function(p) {\r\n\r\n            //look for [jtk-scrollable-list] elements and attach scroll listeners if necessary\r\n            var scrollableLists = this.instance.getSelector(p.el, \"[jtk-scrollable-list]\");\r\n            for (var i = 0; i < scrollableLists.length; i++) {\r\n                this.addList(scrollableLists[i]);\r\n            }\r\n\r\n        }.bind(this));\r\n\r\n        this.instance.bind(\"unmanageElement\", function(p) {\r\n            this.removeList(p.el);\r\n        });\r\n\r\n\r\n        this.instance.bind(\"connection\", function(c, evt) {\r\n            if (evt == null) {\r\n                // not added by mouse. look for an ancestor of the source and/or target element that is a scrollable list, and run\r\n                // its scroll method.\r\n                this._maybeUpdateParentList(c.source);\r\n                this._maybeUpdateParentList(c.target);\r\n            }\r\n        }.bind(this));\r\n    };\r\n\r\n    root.jsPlumbListManager = ListManager;\r\n\r\n    ListManager.prototype = {\r\n\r\n        addList : function(el, options) {\r\n            var dp = this.instance.extend({}, DEFAULT_OPTIONS);\r\n            options = this.instance.extend(dp,  options || {});\r\n            var id = [this.instance.getInstanceIndex(), this.count++].join(\"_\");\r\n            this.lists[id] = new List(this.instance, el, options, id);\r\n        },\r\n\r\n        removeList:function(el) {\r\n            var list = this.lists[el._jsPlumbList];\r\n            if (list) {\r\n                list.destroy();\r\n                delete this.lists[el._jsPlumbList];\r\n            }\r\n        },\r\n\r\n        _maybeUpdateParentList:function (el) {\r\n            var parent = el.parentNode, container = this.instance.getContainer();\r\n            while(parent != null && parent !== container) {\r\n                if (parent._jsPlumbList != null && this.lists[parent._jsPlumbList] != null) {\r\n                    parent._jsPlumbScrollHandler();\r\n                    return\r\n                }\r\n                parent = parent.parentNode;\r\n            }\r\n        }\r\n\r\n\r\n    };\r\n\r\n    var List = function(instance, el, options, id) {\r\n\r\n        el[\"_jsPlumbList\"] = id;\r\n\r\n        //\r\n        // Derive an anchor to use for the current situation. In contrast to the way we derive an endpoint, here we use `anchor` from the options, if present, as\r\n        // our first choice, and then `deriveAnchor` as our next choice. There is a default `deriveAnchor` implementation that uses TopRight/TopLeft for top and\r\n        // BottomRight/BottomLeft for bottom.\r\n        //\r\n        // edge - \"top\" or \"bottom\"\r\n        // index - 0 when endpoint is connection source, 1 when endpoint is connection target\r\n        // ep - the endpoint that is being proxied\r\n        // conn - the connection that is being proxied\r\n        //\r\n        function deriveAnchor(edge, index, ep, conn) {\r\n            return options.anchor ? options.anchor : options.deriveAnchor(edge, index, ep, conn);\r\n        }\r\n\r\n        //\r\n        // Derive an endpoint to use for the current situation. We'll use a `deriveEndpoint` function passed in to the options as our first choice,\r\n        // followed by `endpoint` (an endpoint spec) from the options, and failing either of those we just use the `type` of the endpoint that is being proxied.\r\n        //\r\n        // edge - \"top\" or \"bottom\"\r\n        // index - 0 when endpoint is connection source, 1 when endpoint is connection target\r\n        // endpoint - the endpoint that is being proxied\r\n        // connection - the connection that is being proxied\r\n        //\r\n        function deriveEndpoint(edge, index, ep, conn) {\r\n            return options.deriveEndpoint ? options.deriveEndpoint(edge, index, ep, conn) : options.endpoint ? options.endpoint : ep.type;\r\n        }\r\n\r\n        //\r\n        // look for a parent of the given scrollable list that is draggable, and then update the child offsets for it. this should not\r\n        // be necessary in the delegated drag stuff from the upcoming 3.0.0 release.\r\n        //\r\n        function _maybeUpdateDraggable(el) {\r\n            var parent = el.parentNode, container = instance.getContainer();\r\n            while(parent != null && parent !== container) {\r\n                if (instance.hasClass(parent, \"jtk-managed\")) {\r\n                    instance.recalculateOffsets(parent);\r\n                    return\r\n                }\r\n                parent = parent.parentNode;\r\n            }\r\n        }\r\n\r\n        var scrollHandler = function(e) {\r\n\r\n            var children = instance.getSelector(el, \".jtk-managed\");\r\n            var elId = instance.getId(el);\r\n\r\n            for (var i = 0; i < children.length; i++) {\r\n\r\n                if (children[i].offsetTop < el.scrollTop) {\r\n                    if (!children[i]._jsPlumbProxies) {\r\n                        children[i]._jsPlumbProxies = children[i]._jsPlumbProxies || [];\r\n                        instance.select({source: children[i]}).each(function (c) {\r\n\r\n\r\n                            instance.proxyConnection(c, 0, el, elId, function () {\r\n                                return deriveEndpoint(\"top\", 0, c.endpoints[0], c);\r\n                            }, function () {\r\n                                return deriveAnchor(\"top\", 0, c.endpoints[0], c);\r\n                            });\r\n                            children[i]._jsPlumbProxies.push([c, 0]);\r\n                        });\r\n\r\n                        instance.select({target: children[i]}).each(function (c) {\r\n                            instance.proxyConnection(c, 1, el, elId, function () {\r\n                                return deriveEndpoint(\"top\", 1, c.endpoints[1], c);\r\n                            }, function () {\r\n                                return deriveAnchor(\"top\", 1, c.endpoints[1], c);\r\n                            });\r\n                            children[i]._jsPlumbProxies.push([c, 1]);\r\n                        });\r\n                    }\r\n                }\r\n                //\r\n                else if (children[i].offsetTop > el.scrollTop + el.offsetHeight) {\r\n                    if (!children[i]._jsPlumbProxies) {\r\n                        children[i]._jsPlumbProxies = children[i]._jsPlumbProxies || [];\r\n\r\n                        instance.select({source: children[i]}).each(function (c) {\r\n                            instance.proxyConnection(c, 0, el, elId, function () {\r\n                                return deriveEndpoint(\"bottom\", 0, c.endpoints[0], c);\r\n                            }, function () {\r\n                                return deriveAnchor(\"bottom\", 0, c.endpoints[0], c);\r\n                            });\r\n                            children[i]._jsPlumbProxies.push([c, 0]);\r\n                        });\r\n\r\n                        instance.select({target: children[i]}).each(function (c) {\r\n                            instance.proxyConnection(c, 1, el, elId, function () {\r\n                                return deriveEndpoint(\"bottom\", 1, c.endpoints[1], c);\r\n                            }, function () {\r\n                                return deriveAnchor(\"bottom\", 1, c.endpoints[1], c);\r\n                            });\r\n                            children[i]._jsPlumbProxies.push([c, 1]);\r\n                        });\r\n                    }\r\n                } else if (children[i]._jsPlumbProxies) {\r\n                    for (var j = 0; j < children[i]._jsPlumbProxies.length; j++) {\r\n                        instance.unproxyConnection(children[i]._jsPlumbProxies[j][0], children[i]._jsPlumbProxies[j][1], elId);\r\n                    }\r\n\r\n                    delete children[i]._jsPlumbProxies;\r\n                }\r\n\r\n                instance.revalidate(children[i]);\r\n            }\r\n\r\n            _maybeUpdateDraggable(el);\r\n        };\r\n\r\n        instance.setAttribute(el, \"jtk-scrollable-list\", \"true\");\r\n        el._jsPlumbScrollHandler = scrollHandler;\r\n        instance.on(el, \"scroll\", scrollHandler);\r\n        scrollHandler(); // run it once; there may be connections already.\r\n\r\n        this.destroy = function() {\r\n            instance.off(el, \"scroll\", scrollHandler);\r\n            delete el._jsPlumbScrollHandler;\r\n\r\n            var children = instance.getSelector(el, \".jtk-managed\");\r\n            var elId = instance.getId(el);\r\n\r\n            for (var i = 0; i < children.length; i++) {\r\n                if (children[i]._jsPlumbProxies) {\r\n                    for (var j = 0; j < children[i]._jsPlumbProxies.length; j++) {\r\n                        instance.unproxyConnection(children[i]._jsPlumbProxies[j][0], children[i]._jsPlumbProxies[j][1], elId);\r\n                    }\r\n\r\n                    delete children[i]._jsPlumbProxies;\r\n                }\r\n            }\r\n        };\r\n    };\r\n\r\n\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n/*\r\n * This file contains the core code.\r\n *\r\n * Copyright (c) 2010 - 2018 jsPlumb (hello@jsplumbtoolkit.com)\r\n *\r\n * https://jsplumbtoolkit.com\r\n * https://github.com/jsplumb/jsplumb\r\n *\r\n * Dual licensed under the MIT and GPL2 licenses.\r\n */\r\n;(function () {\r\n\r\n    \"use strict\";\r\n\r\n    var root = this;\r\n\r\n    var _ju = root.jsPlumbUtil,\r\n\r\n        /**\r\n         * creates a timestamp, using milliseconds since 1970, but as a string.\r\n         */\r\n        _timestamp = function () {\r\n            return \"\" + (new Date()).getTime();\r\n        },\r\n\r\n        // helper method to update the hover style whenever it, or paintStyle, changes.\r\n        // we use paintStyle as the foundation and merge hoverPaintStyle over the\r\n        // top.\r\n        _updateHoverStyle = function (component) {\r\n            if (component._jsPlumb.paintStyle && component._jsPlumb.hoverPaintStyle) {\r\n                var mergedHoverStyle = {};\r\n                jsPlumb.extend(mergedHoverStyle, component._jsPlumb.paintStyle);\r\n                jsPlumb.extend(mergedHoverStyle, component._jsPlumb.hoverPaintStyle);\r\n                delete component._jsPlumb.hoverPaintStyle;\r\n                // we want the fill of paintStyle to override a gradient, if possible.\r\n                if (mergedHoverStyle.gradient && component._jsPlumb.paintStyle.fill) {\r\n                    delete mergedHoverStyle.gradient;\r\n                }\r\n                component._jsPlumb.hoverPaintStyle = mergedHoverStyle;\r\n            }\r\n        },\r\n        events = [\"tap\", \"dbltap\", \"click\", \"dblclick\", \"mouseover\", \"mouseout\", \"mousemove\", \"mousedown\", \"mouseup\", \"contextmenu\" ],\r\n        eventFilters = { \"mouseout\": \"mouseleave\", \"mouseexit\": \"mouseleave\" },\r\n        _updateAttachedElements = function (component, state, timestamp, sourceElement) {\r\n            var affectedElements = component.getAttachedElements();\r\n            if (affectedElements) {\r\n                for (var i = 0, j = affectedElements.length; i < j; i++) {\r\n                    if (!sourceElement || sourceElement !== affectedElements[i]) {\r\n                        affectedElements[i].setHover(state, true, timestamp);\t\t\t// tell the attached elements not to inform their own attached elements.\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        _splitType = function (t) {\r\n            return t == null ? null : t.split(\" \");\r\n        },\r\n        _mapType = function(map, obj, typeId) {\r\n            for (var i in obj) {\r\n                map[i] = typeId;\r\n            }\r\n        },\r\n        _each = function(fn, obj) {\r\n            obj = _ju.isArray(obj) || (obj.length != null && !_ju.isString(obj)) ? obj : [ obj ];\r\n            for (var i = 0; i < obj.length; i++) {\r\n                try {\r\n                    fn.apply(obj[i], [ obj[i] ]);\r\n                }\r\n                catch (e) {\r\n                    _ju.log(\".each iteration failed : \" + e);\r\n                }\r\n            }\r\n        },\r\n        _applyTypes = function (component, params, doNotRepaint) {\r\n            if (component.getDefaultType) {\r\n                var td = component.getTypeDescriptor(), map = {};\r\n                var defType = component.getDefaultType();\r\n                var o = _ju.merge({}, defType);\r\n                _mapType(map, defType, \"__default\");\r\n                for (var i = 0, j = component._jsPlumb.types.length; i < j; i++) {\r\n                    var tid = component._jsPlumb.types[i];\r\n                    if (tid !== \"__default\") {\r\n                        var _t = component._jsPlumb.instance.getType(tid, td);\r\n                        if (_t != null) {\r\n\r\n                            var overrides = [\"anchor\", \"anchors\", \"connector\", \"paintStyle\", \"hoverPaintStyle\", \"endpoint\", \"endpoints\", \"connectorOverlays\", \"connectorStyle\", \"connectorHoverStyle\", \"endpointStyle\", \"endpointHoverStyle\"];\r\n                            var collations = [ ];\r\n\r\n                            if (_t.mergeStrategy === \"override\") {\r\n                                Array.prototype.push.apply(overrides, [\"events\", \"overlays\", \"cssClass\"]);\r\n                            } else {\r\n                                collations.push(\"cssClass\");\r\n                            }\r\n\r\n                            o = _ju.merge(o, _t, collations, overrides);\r\n                            _mapType(map, _t, tid);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (params) {\r\n                    o = _ju.populate(o, params, \"_\");\r\n                }\r\n\r\n                component.applyType(o, doNotRepaint, map);\r\n                if (!doNotRepaint) {\r\n                    component.repaint();\r\n                }\r\n            }\r\n        },\r\n\r\n// ------------------------------ BEGIN jsPlumbUIComponent --------------------------------------------\r\n\r\n        jsPlumbUIComponent = root.jsPlumbUIComponent = function (params) {\r\n\r\n            _ju.EventGenerator.apply(this, arguments);\r\n\r\n            var self = this,\r\n                a = arguments,\r\n                idPrefix = self.idPrefix,\r\n                id = idPrefix + (new Date()).getTime();\r\n\r\n            this._jsPlumb = {\r\n                instance: params._jsPlumb,\r\n                parameters: params.parameters || {},\r\n                paintStyle: null,\r\n                hoverPaintStyle: null,\r\n                paintStyleInUse: null,\r\n                hover: false,\r\n                beforeDetach: params.beforeDetach,\r\n                beforeDrop: params.beforeDrop,\r\n                overlayPlacements: [],\r\n                hoverClass: params.hoverClass || params._jsPlumb.Defaults.HoverClass,\r\n                types: [],\r\n                typeCache:{}\r\n            };\r\n\r\n            this.cacheTypeItem = function(key, item, typeId) {\r\n                this._jsPlumb.typeCache[typeId] = this._jsPlumb.typeCache[typeId] || {};\r\n                this._jsPlumb.typeCache[typeId][key] = item;\r\n            };\r\n            this.getCachedTypeItem = function(key, typeId) {\r\n                return this._jsPlumb.typeCache[typeId] ? this._jsPlumb.typeCache[typeId][key] : null;\r\n            };\r\n\r\n            this.getId = function () {\r\n                return id;\r\n            };\r\n\r\n// ----------------------------- default type --------------------------------------------\r\n\r\n\r\n            var o = params.overlays || [], oo = {};\r\n            if (this.defaultOverlayKeys) {\r\n                for (var i = 0; i < this.defaultOverlayKeys.length; i++) {\r\n                    Array.prototype.push.apply(o, this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[i]] || []);\r\n                }\r\n\r\n                for (i = 0; i < o.length; i++) {\r\n                    // if a string, convert to object representation so that we can store the typeid on it.\r\n                    // also assign an id.\r\n                    var fo = jsPlumb.convertToFullOverlaySpec(o[i]);\r\n                    oo[fo[1].id] = fo;\r\n                }\r\n            }\r\n\r\n            var _defaultType = {\r\n                overlays:oo,\r\n                parameters: params.parameters || {},\r\n                scope: params.scope || this._jsPlumb.instance.getDefaultScope()\r\n            };\r\n            this.getDefaultType = function() {\r\n                return _defaultType;\r\n            };\r\n            this.appendToDefaultType = function(obj) {\r\n                for (var i in obj) {\r\n                    _defaultType[i] = obj[i];\r\n                }\r\n            };\r\n\r\n// ----------------------------- end default type --------------------------------------------\r\n\r\n            // all components can generate events\r\n\r\n            if (params.events) {\r\n                for (var evtName in params.events) {\r\n                    self.bind(evtName, params.events[evtName]);\r\n                }\r\n            }\r\n\r\n            // all components get this clone function.\r\n            // TODO issue 116 showed a problem with this - it seems 'a' that is in\r\n            // the clone function's scope is shared by all invocations of it, the classic\r\n            // JS closure problem.  for now, jsPlumb does a version of this inline where\r\n            // it used to call clone.  but it would be nice to find some time to look\r\n            // further at this.\r\n            this.clone = function () {\r\n                var o = Object.create(this.constructor.prototype);\r\n                this.constructor.apply(o, a);\r\n                return o;\r\n            }.bind(this);\r\n\r\n            // user can supply a beforeDetach callback, which will be executed before a detach\r\n            // is performed; returning false prevents the detach.\r\n            this.isDetachAllowed = function (connection) {\r\n                var r = true;\r\n                if (this._jsPlumb.beforeDetach) {\r\n                    try {\r\n                        r = this._jsPlumb.beforeDetach(connection);\r\n                    }\r\n                    catch (e) {\r\n                        _ju.log(\"jsPlumb: beforeDetach callback failed\", e);\r\n                    }\r\n                }\r\n                return r;\r\n            };\r\n\r\n            // user can supply a beforeDrop callback, which will be executed before a dropped\r\n            // connection is confirmed. user can return false to reject connection.\r\n            this.isDropAllowed = function (sourceId, targetId, scope, connection, dropEndpoint, source, target) {\r\n                var r = this._jsPlumb.instance.checkCondition(\"beforeDrop\", {\r\n                    sourceId: sourceId,\r\n                    targetId: targetId,\r\n                    scope: scope,\r\n                    connection: connection,\r\n                    dropEndpoint: dropEndpoint,\r\n                    source: source, target: target\r\n                });\r\n                if (this._jsPlumb.beforeDrop) {\r\n                    try {\r\n                        r = this._jsPlumb.beforeDrop({\r\n                            sourceId: sourceId,\r\n                            targetId: targetId,\r\n                            scope: scope,\r\n                            connection: connection,\r\n                            dropEndpoint: dropEndpoint,\r\n                            source: source, target: target\r\n                        });\r\n                    }\r\n                    catch (e) {\r\n                        _ju.log(\"jsPlumb: beforeDrop callback failed\", e);\r\n                    }\r\n                }\r\n                return r;\r\n            };\r\n\r\n            var domListeners = [];\r\n\r\n            // sets the component associated with listener events. for instance, an overlay delegates\r\n            // its events back to a connector. but if the connector is swapped on the underlying connection,\r\n            // then this component must be changed. This is called by setConnector in the Connection class.\r\n            this.setListenerComponent = function (c) {\r\n                for (var i = 0; i < domListeners.length; i++) {\r\n                    domListeners[i][3] = c;\r\n                }\r\n            };\r\n\r\n\r\n        };\r\n\r\n    var _removeTypeCssHelper = function (component, typeIndex) {\r\n        var typeId = component._jsPlumb.types[typeIndex],\r\n            type = component._jsPlumb.instance.getType(typeId, component.getTypeDescriptor());\r\n\r\n        if (type != null && type.cssClass && component.canvas) {\r\n            component._jsPlumb.instance.removeClass(component.canvas, type.cssClass);\r\n        }\r\n    };\r\n\r\n    _ju.extend(root.jsPlumbUIComponent, _ju.EventGenerator, {\r\n\r\n        getParameter: function (name) {\r\n            return this._jsPlumb.parameters[name];\r\n        },\r\n\r\n        setParameter: function (name, value) {\r\n            this._jsPlumb.parameters[name] = value;\r\n        },\r\n\r\n        getParameters: function () {\r\n            return this._jsPlumb.parameters;\r\n        },\r\n\r\n        setParameters: function (p) {\r\n            this._jsPlumb.parameters = p;\r\n        },\r\n\r\n        getClass:function() {\r\n            return jsPlumb.getClass(this.canvas);\r\n        },\r\n\r\n        hasClass:function(clazz) {\r\n            return jsPlumb.hasClass(this.canvas, clazz);\r\n        },\r\n\r\n        addClass: function (clazz) {\r\n            jsPlumb.addClass(this.canvas, clazz);\r\n        },\r\n\r\n        removeClass: function (clazz) {\r\n            jsPlumb.removeClass(this.canvas, clazz);\r\n        },\r\n\r\n        updateClasses: function (classesToAdd, classesToRemove) {\r\n            jsPlumb.updateClasses(this.canvas, classesToAdd, classesToRemove);\r\n        },\r\n\r\n        setType: function (typeId, params, doNotRepaint) {\r\n            this.clearTypes();\r\n            this._jsPlumb.types = _splitType(typeId) || [];\r\n            _applyTypes(this, params, doNotRepaint);\r\n        },\r\n\r\n        getType: function () {\r\n            return this._jsPlumb.types;\r\n        },\r\n\r\n        reapplyTypes: function (params, doNotRepaint) {\r\n            _applyTypes(this, params, doNotRepaint);\r\n        },\r\n\r\n        hasType: function (typeId) {\r\n            return this._jsPlumb.types.indexOf(typeId) !== -1;\r\n        },\r\n\r\n        addType: function (typeId, params, doNotRepaint) {\r\n            var t = _splitType(typeId), _cont = false;\r\n            if (t != null) {\r\n                for (var i = 0, j = t.length; i < j; i++) {\r\n                    if (!this.hasType(t[i])) {\r\n                        this._jsPlumb.types.push(t[i]);\r\n                        _cont = true;\r\n                    }\r\n                }\r\n                if (_cont) {\r\n                    _applyTypes(this, params, doNotRepaint);\r\n                }\r\n            }\r\n        },\r\n\r\n        removeType: function (typeId, params, doNotRepaint) {\r\n            var t = _splitType(typeId), _cont = false, _one = function (tt) {\r\n                var idx = this._jsPlumb.types.indexOf(tt);\r\n                if (idx !== -1) {\r\n                    // remove css class if necessary\r\n                    _removeTypeCssHelper(this, idx);\r\n                    this._jsPlumb.types.splice(idx, 1);\r\n                    return true;\r\n                }\r\n                return false;\r\n            }.bind(this);\r\n\r\n            if (t != null) {\r\n                for (var i = 0, j = t.length; i < j; i++) {\r\n                    _cont = _one(t[i]) || _cont;\r\n                }\r\n                if (_cont) {\r\n                    _applyTypes(this, params, doNotRepaint);\r\n                }\r\n            }\r\n        },\r\n        clearTypes: function (params, doNotRepaint) {\r\n            var i = this._jsPlumb.types.length;\r\n            for (var j = 0; j < i; j++) {\r\n                _removeTypeCssHelper(this, 0);\r\n                this._jsPlumb.types.splice(0, 1);\r\n            }\r\n            _applyTypes(this, params, doNotRepaint);\r\n        },\r\n\r\n        toggleType: function (typeId, params, doNotRepaint) {\r\n            var t = _splitType(typeId);\r\n            if (t != null) {\r\n                for (var i = 0, j = t.length; i < j; i++) {\r\n                    var idx = this._jsPlumb.types.indexOf(t[i]);\r\n                    if (idx !== -1) {\r\n                        _removeTypeCssHelper(this, idx);\r\n                        this._jsPlumb.types.splice(idx, 1);\r\n                    }\r\n                    else {\r\n                        this._jsPlumb.types.push(t[i]);\r\n                    }\r\n                }\r\n\r\n                _applyTypes(this, params, doNotRepaint);\r\n            }\r\n        },\r\n        applyType: function (t, doNotRepaint) {\r\n            this.setPaintStyle(t.paintStyle, doNotRepaint);\r\n            this.setHoverPaintStyle(t.hoverPaintStyle, doNotRepaint);\r\n            if (t.parameters) {\r\n                for (var i in t.parameters) {\r\n                    this.setParameter(i, t.parameters[i]);\r\n                }\r\n            }\r\n            this._jsPlumb.paintStyleInUse = this.getPaintStyle();\r\n        },\r\n        setPaintStyle: function (style, doNotRepaint) {\r\n            // this._jsPlumb.paintStyle = jsPlumb.extend({}, style);\r\n            // TODO figure out if we want components to clone paintStyle so as not to share it.\r\n            this._jsPlumb.paintStyle = style;\r\n            this._jsPlumb.paintStyleInUse = this._jsPlumb.paintStyle;\r\n            _updateHoverStyle(this);\r\n            if (!doNotRepaint) {\r\n                this.repaint();\r\n            }\r\n        },\r\n        getPaintStyle: function () {\r\n            return this._jsPlumb.paintStyle;\r\n        },\r\n        setHoverPaintStyle: function (style, doNotRepaint) {\r\n            //this._jsPlumb.hoverPaintStyle = jsPlumb.extend({}, style);\r\n            // TODO figure out if we want components to clone paintStyle so as not to share it.\r\n            this._jsPlumb.hoverPaintStyle = style;\r\n            _updateHoverStyle(this);\r\n            if (!doNotRepaint) {\r\n                this.repaint();\r\n            }\r\n        },\r\n        getHoverPaintStyle: function () {\r\n            return this._jsPlumb.hoverPaintStyle;\r\n        },\r\n        destroy: function (force) {\r\n            if (force || this.typeId == null) {\r\n                this.cleanupListeners(); // this is on EventGenerator\r\n                this.clone = null;\r\n                this._jsPlumb = null;\r\n            }\r\n        },\r\n\r\n        isHover: function () {\r\n            return this._jsPlumb.hover;\r\n        },\r\n\r\n        setHover: function (hover, ignoreAttachedElements, timestamp) {\r\n            // while dragging, we ignore these events.  this keeps the UI from flashing and\r\n            // swishing and whatevering.\r\n            if (this._jsPlumb && !this._jsPlumb.instance.currentlyDragging && !this._jsPlumb.instance.isHoverSuspended()) {\r\n\r\n                this._jsPlumb.hover = hover;\r\n                var method = hover ? \"addClass\" : \"removeClass\";\r\n\r\n                if (this.canvas != null) {\r\n                    if (this._jsPlumb.instance.hoverClass != null) {\r\n                        this._jsPlumb.instance[method](this.canvas, this._jsPlumb.instance.hoverClass);\r\n                    }\r\n                    if (this._jsPlumb.hoverClass != null) {\r\n                        this._jsPlumb.instance[method](this.canvas, this._jsPlumb.hoverClass);\r\n                    }\r\n                }\r\n                if (this._jsPlumb.hoverPaintStyle != null) {\r\n                    this._jsPlumb.paintStyleInUse = hover ? this._jsPlumb.hoverPaintStyle : this._jsPlumb.paintStyle;\r\n                    if (!this._jsPlumb.instance.isSuspendDrawing()) {\r\n                        timestamp = timestamp || _timestamp();\r\n                        this.repaint({timestamp: timestamp, recalc: false});\r\n                    }\r\n                }\r\n                // get the list of other affected elements, if supported by this component.\r\n                // for a connection, its the endpoints.  for an endpoint, its the connections! surprise.\r\n                if (this.getAttachedElements && !ignoreAttachedElements) {\r\n                    _updateAttachedElements(this, hover, _timestamp(), this);\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n// ------------------------------ END jsPlumbUIComponent --------------------------------------------\r\n\r\n    var _jsPlumbInstanceIndex = 0,\r\n        getInstanceIndex = function () {\r\n            var i = _jsPlumbInstanceIndex + 1;\r\n            _jsPlumbInstanceIndex++;\r\n            return i;\r\n        };\r\n\r\n    var jsPlumbInstance = root.jsPlumbInstance = function (_defaults) {\r\n\r\n        this.version = \"2.12.6\";\r\n\r\n        this.Defaults = {\r\n            Anchor: \"Bottom\",\r\n            Anchors: [ null, null ],\r\n            ConnectionsDetachable: true,\r\n            ConnectionOverlays: [ ],\r\n            Connector: \"Bezier\",\r\n            Container: null,\r\n            DoNotThrowErrors: false,\r\n            DragOptions: { },\r\n            DropOptions: { },\r\n            Endpoint: \"Dot\",\r\n            EndpointOverlays: [ ],\r\n            Endpoints: [ null, null ],\r\n            EndpointStyle: { fill: \"#456\" },\r\n            EndpointStyles: [ null, null ],\r\n            EndpointHoverStyle: null,\r\n            EndpointHoverStyles: [ null, null ],\r\n            HoverPaintStyle: null,\r\n            LabelStyle: { color: \"black\" },\r\n            LogEnabled: false,\r\n            Overlays: [ ],\r\n            MaxConnections: 1,\r\n            PaintStyle: { \"stroke-width\": 4, stroke: \"#456\" },\r\n            ReattachConnections: false,\r\n            RenderMode: \"svg\",\r\n            Scope: \"jsPlumb_DefaultScope\"\r\n        };\r\n\r\n        if (_defaults) {\r\n            jsPlumb.extend(this.Defaults, _defaults);\r\n        }\r\n\r\n        this.logEnabled = this.Defaults.LogEnabled;\r\n        this._connectionTypes = {};\r\n        this._endpointTypes = {};\r\n\r\n        _ju.EventGenerator.apply(this);\r\n\r\n        var _currentInstance = this,\r\n            _instanceIndex = getInstanceIndex(),\r\n            _bb = _currentInstance.bind,\r\n            _initialDefaults = {},\r\n            _zoom = 1,\r\n            _info = function (el) {\r\n                if (el == null) {\r\n                    return null;\r\n                }\r\n                else if (el.nodeType === 3 || el.nodeType === 8) {\r\n                    return { el:el, text:true };\r\n                }\r\n                else {\r\n                    var _el = _currentInstance.getElement(el);\r\n                    return { el: _el, id: (_ju.isString(el) && _el == null) ? el : _getId(_el) };\r\n                }\r\n            };\r\n\r\n        this.getInstanceIndex = function () {\r\n            return _instanceIndex;\r\n        };\r\n\r\n        // CONVERTED\r\n        this.setZoom = function (z, repaintEverything) {\r\n            _zoom = z;\r\n            _currentInstance.fire(\"zoom\", _zoom);\r\n            if (repaintEverything) {\r\n                _currentInstance.repaintEverything();\r\n            }\r\n            return true;\r\n        };\r\n        // CONVERTED\r\n        this.getZoom = function () {\r\n            return _zoom;\r\n        };\r\n\r\n        for (var i in this.Defaults) {\r\n            _initialDefaults[i] = this.Defaults[i];\r\n        }\r\n\r\n        var _container, _containerDelegations = [];\r\n        this.unbindContainer = function() {\r\n            if (_container != null && _containerDelegations.length > 0) {\r\n                for (var i = 0; i < _containerDelegations.length; i++) {\r\n                    _currentInstance.off(_container, _containerDelegations[i][0], _containerDelegations[i][1]);\r\n                }\r\n            }\r\n        };\r\n        this.setContainer = function (c) {\r\n\r\n            this.unbindContainer();\r\n\r\n            // get container as dom element.\r\n            c = this.getElement(c);\r\n            // move existing connections and endpoints, if any.\r\n            this.select().each(function (conn) {\r\n                conn.moveParent(c);\r\n            });\r\n            this.selectEndpoints().each(function (ep) {\r\n                ep.moveParent(c);\r\n            });\r\n\r\n            // set container.\r\n            var previousContainer = _container;\r\n            _container = c;\r\n            _containerDelegations.length = 0;\r\n            var eventAliases = {\r\n                \"endpointclick\":\"endpointClick\",\r\n                \"endpointdblclick\":\"endpointDblClick\"\r\n            };\r\n\r\n            var _oneDelegateHandler = function (id, e, componentType) {\r\n                var t = e.srcElement || e.target,\r\n                    jp = (t && t.parentNode ? t.parentNode._jsPlumb : null) || (t ? t._jsPlumb : null) || (t && t.parentNode && t.parentNode.parentNode ? t.parentNode.parentNode._jsPlumb : null);\r\n                if (jp) {\r\n                    jp.fire(id, jp, e);\r\n                    var alias = componentType ? eventAliases[componentType + id] || id : id;\r\n                    // jsplumb also fires every event coming from components/overlays. That's what the test for `jp.component` is for.\r\n                    _currentInstance.fire(alias, jp.component || jp, e);\r\n                }\r\n            };\r\n\r\n            var _addOneDelegate = function(eventId, selector, fn) {\r\n                _containerDelegations.push([eventId, fn]);\r\n                _currentInstance.on(_container, eventId, selector, fn);\r\n            };\r\n\r\n            // delegate one event on the container to jsplumb elements. it might be possible to\r\n            // abstract this out: each of endpoint, connection and overlay could register themselves with\r\n            // jsplumb as \"component types\" or whatever, and provide a suitable selector. this would be\r\n            // done by the renderer (although admittedly from 2.0 onwards we're not supporting vml anymore)\r\n            var _oneDelegate = function (id) {\r\n                // connections.\r\n                _addOneDelegate(id, \".jtk-connector\", function (e) {\r\n                    _oneDelegateHandler(id, e);\r\n                });\r\n                // endpoints. note they can have an enclosing div, or not.\r\n                _addOneDelegate(id, \".jtk-endpoint\", function (e) {\r\n                    _oneDelegateHandler(id, e, \"endpoint\");\r\n                });\r\n                // overlays\r\n                _addOneDelegate(id, \".jtk-overlay\", function (e) {\r\n                    _oneDelegateHandler(id, e);\r\n                });\r\n            };\r\n\r\n            for (var i = 0; i < events.length; i++) {\r\n                _oneDelegate(events[i]);\r\n            }\r\n\r\n            // managed elements\r\n            for (var elId in managedElements) {\r\n                var el = managedElements[elId].el;\r\n                if (el.parentNode === previousContainer) {\r\n                    previousContainer.removeChild(el);\r\n                    _container.appendChild(el);\r\n                }\r\n            }\r\n\r\n        };\r\n        this.getContainer = function () {\r\n            return _container;\r\n        };\r\n\r\n        this.bind = function (event, fn) {\r\n            if (\"ready\" === event && initialized) {\r\n                fn();\r\n            }\r\n            else {\r\n                _bb.apply(_currentInstance, [event, fn]);\r\n            }\r\n        };\r\n\r\n        _currentInstance.importDefaults = function (d) {\r\n            for (var i in d) {\r\n                _currentInstance.Defaults[i] = d[i];\r\n            }\r\n            if (d.Container) {\r\n                _currentInstance.setContainer(d.Container);\r\n            }\r\n\r\n            return _currentInstance;\r\n        };\r\n\r\n        _currentInstance.restoreDefaults = function () {\r\n            _currentInstance.Defaults = jsPlumb.extend({}, _initialDefaults);\r\n            return _currentInstance;\r\n        };\r\n\r\n        var log = null,\r\n            initialized = false,\r\n            // TODO remove from window scope\r\n            connections = [],\r\n            // map of element id -> endpoint lists. an element can have an arbitrary\r\n            // number of endpoints on it, and not all of them have to be connected\r\n            // to anything.\r\n            endpointsByElement = {},\r\n            endpointsByUUID = {},\r\n            managedElements = {},\r\n            offsets = {},\r\n            offsetTimestamps = {},\r\n            draggableStates = {},\r\n            connectionBeingDragged = false,\r\n            sizes = [],\r\n            _suspendDrawing = false,\r\n            _suspendedAt = null,\r\n            DEFAULT_SCOPE = this.Defaults.Scope,\r\n            _curIdStamp = 1,\r\n            _idstamp = function () {\r\n                return \"\" + _curIdStamp++;\r\n            },\r\n\r\n            //\r\n            // appends an element to some other element, which is calculated as follows:\r\n            //\r\n            // 1. if Container exists, use that element.\r\n            // 2. if the 'parent' parameter exists, use that.\r\n            // 3. otherwise just use the root element.\r\n            //\r\n            //\r\n            _appendElement = function (el, parent) {\r\n                if (_container) {\r\n                    _container.appendChild(el);\r\n                }\r\n                else if (!parent) {\r\n                    this.appendToRoot(el);\r\n                }\r\n                else {\r\n                    this.getElement(parent).appendChild(el);\r\n                }\r\n            }.bind(this),\r\n\r\n            //\r\n            // Draws an endpoint and its connections. this is the main entry point into drawing connections as well\r\n            // as endpoints, since jsPlumb is endpoint-centric under the hood.\r\n            //\r\n            // @param element element to draw (of type library specific element object)\r\n            // @param ui UI object from current library's event system. optional.\r\n            // @param timestamp timestamp for this paint cycle. used to speed things up a little by cutting down the amount of offset calculations we do.\r\n            // @param clearEdits defaults to false; indicates that mouse edits for connectors should be cleared\r\n            ///\r\n            _draw = function (element, ui, timestamp, clearEdits) {\r\n\r\n                if (!_suspendDrawing) {\r\n                    var id = _getId(element),\r\n                        repaintEls,\r\n                        dm = _currentInstance.getDragManager();\r\n\r\n                    if (dm) {\r\n                        repaintEls = dm.getElementsForDraggable(id);\r\n                    }\r\n\r\n                    if (timestamp == null) {\r\n                        timestamp = _timestamp();\r\n                    }\r\n\r\n                    // update the offset of everything _before_ we try to draw anything.\r\n                    var o = _updateOffset({ elId: id, offset: ui, recalc: false, timestamp: timestamp });\r\n\r\n                    if (repaintEls && o && o.o) {\r\n                        for (var i in repaintEls) {\r\n                            _updateOffset({\r\n                                elId: repaintEls[i].id,\r\n                                offset: {\r\n                                    left: o.o.left + repaintEls[i].offset.left,\r\n                                    top: o.o.top + repaintEls[i].offset.top\r\n                                },\r\n                                recalc: false,\r\n                                timestamp: timestamp\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                    _currentInstance.anchorManager.redraw(id, ui, timestamp, null, clearEdits);\r\n\r\n                    if (repaintEls) {\r\n                        for (var j in repaintEls) {\r\n                            _currentInstance.anchorManager.redraw(repaintEls[j].id, ui, timestamp, repaintEls[j].offset, clearEdits, true);\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n\r\n            //\r\n            // gets an Endpoint by uuid.\r\n            //\r\n            _getEndpoint = function (uuid) {\r\n                return endpointsByUUID[uuid];\r\n            },\r\n\r\n            /**\r\n             * inits a draggable if it's not already initialised.\r\n             * TODO: somehow abstract this to the adapter, because the concept of \"draggable\" has no\r\n             * place on the server.\r\n             */\r\n\r\n\r\n            _scopeMatch = function (e1, e2) {\r\n                var s1 = e1.scope.split(/\\s/), s2 = e2.scope.split(/\\s/);\r\n                for (var i = 0; i < s1.length; i++) {\r\n                    for (var j = 0; j < s2.length; j++) {\r\n                        if (s2[j] === s1[i]) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return false;\r\n            },\r\n\r\n            _mergeOverrides = function (def, values) {\r\n                var m = jsPlumb.extend({}, def);\r\n                for (var i in values) {\r\n                    if (values[i]) {\r\n                        m[i] = values[i];\r\n                    }\r\n                }\r\n                return m;\r\n            },\r\n\r\n            /*\r\n             * prepares a final params object that can be passed to _newConnection, taking into account defaults, events, etc.\r\n             */\r\n            _prepareConnectionParams = function (params, referenceParams) {\r\n                var _p = jsPlumb.extend({ }, params);\r\n                if (referenceParams) {\r\n                    jsPlumb.extend(_p, referenceParams);\r\n                }\r\n\r\n                // hotwire endpoints passed as source or target to sourceEndpoint/targetEndpoint, respectively.\r\n                if (_p.source) {\r\n                    if (_p.source.endpoint) {\r\n                        _p.sourceEndpoint = _p.source;\r\n                    }\r\n                    else {\r\n                        _p.source = _currentInstance.getElement(_p.source);\r\n                    }\r\n                }\r\n                if (_p.target) {\r\n                    if (_p.target.endpoint) {\r\n                        _p.targetEndpoint = _p.target;\r\n                    }\r\n                    else {\r\n                        _p.target = _currentInstance.getElement(_p.target);\r\n                    }\r\n                }\r\n\r\n                // test for endpoint uuids to connect\r\n                if (params.uuids) {\r\n                    _p.sourceEndpoint = _getEndpoint(params.uuids[0]);\r\n                    _p.targetEndpoint = _getEndpoint(params.uuids[1]);\r\n                }\r\n\r\n                // now ensure that if we do have Endpoints already, they're not full.\r\n                // source:\r\n                if (_p.sourceEndpoint && _p.sourceEndpoint.isFull()) {\r\n                    _ju.log(_currentInstance, \"could not add connection; source endpoint is full\");\r\n                    return;\r\n                }\r\n\r\n                // target:\r\n                if (_p.targetEndpoint && _p.targetEndpoint.isFull()) {\r\n                    _ju.log(_currentInstance, \"could not add connection; target endpoint is full\");\r\n                    return;\r\n                }\r\n\r\n                // if source endpoint mandates connection type and nothing specified in our params, use it.\r\n                if (!_p.type && _p.sourceEndpoint) {\r\n                    _p.type = _p.sourceEndpoint.connectionType;\r\n                }\r\n\r\n                // copy in any connectorOverlays that were specified on the source endpoint.\r\n                // it doesnt copy target endpoint overlays.  i'm not sure if we want it to or not.\r\n                if (_p.sourceEndpoint && _p.sourceEndpoint.connectorOverlays) {\r\n                    _p.overlays = _p.overlays || [];\r\n                    for (var i = 0, j = _p.sourceEndpoint.connectorOverlays.length; i < j; i++) {\r\n                        _p.overlays.push(_p.sourceEndpoint.connectorOverlays[i]);\r\n                    }\r\n                }\r\n\r\n                // scope\r\n                if (_p.sourceEndpoint && _p.sourceEndpoint.scope) {\r\n                    _p.scope = _p.sourceEndpoint.scope;\r\n                }\r\n\r\n                // pointer events\r\n                if (!_p[\"pointer-events\"] && _p.sourceEndpoint && _p.sourceEndpoint.connectorPointerEvents) {\r\n                    _p[\"pointer-events\"] = _p.sourceEndpoint.connectorPointerEvents;\r\n                }\r\n\r\n\r\n                var _addEndpoint = function (el, def, idx) {\r\n                    var params = _mergeOverrides(def, {\r\n                        anchor: _p.anchors ? _p.anchors[idx] : _p.anchor,\r\n                        endpoint: _p.endpoints ? _p.endpoints[idx] : _p.endpoint,\r\n                        paintStyle: _p.endpointStyles ? _p.endpointStyles[idx] : _p.endpointStyle,\r\n                        hoverPaintStyle: _p.endpointHoverStyles ? _p.endpointHoverStyles[idx] : _p.endpointHoverStyle\r\n                    });\r\n                    return _currentInstance.addEndpoint(el, params);\r\n                };\r\n\r\n                // check for makeSource/makeTarget specs.\r\n\r\n                var _oneElementDef = function (type, idx, defs, matchType) {\r\n                    if (_p[type] && !_p[type].endpoint && !_p[type + \"Endpoint\"] && !_p.newConnection) {\r\n                        var tid = _getId(_p[type]), tep = defs[tid];\r\n\r\n                        tep = tep ? tep[matchType] : null;\r\n\r\n                        if (tep) {\r\n                            // if not enabled, return.\r\n                            if (!tep.enabled) {\r\n                                return false;\r\n                            }\r\n\r\n                            var epDef = jsPlumb.extend({}, tep.def);\r\n                            delete epDef.label;\r\n\r\n                            var newEndpoint = tep.endpoint != null && tep.endpoint._jsPlumb ? tep.endpoint : _addEndpoint(_p[type], epDef, idx);\r\n                            if (newEndpoint.isFull()) {\r\n                                return false;\r\n                            }\r\n                            _p[type + \"Endpoint\"] = newEndpoint;\r\n                            if (!_p.scope && epDef.scope) {\r\n                                _p.scope = epDef.scope;\r\n                            } // provide scope if not already provided and endpoint def has one.\r\n                            if (tep.uniqueEndpoint) {\r\n                                if (!tep.endpoint) {\r\n                                    tep.endpoint = newEndpoint;\r\n                                    newEndpoint.setDeleteOnEmpty(false);\r\n                                }\r\n                                else {\r\n                                    newEndpoint.finalEndpoint = tep.endpoint;\r\n                                }\r\n                            } else {\r\n                                newEndpoint.setDeleteOnEmpty(true);\r\n                            }\r\n\r\n                            //\r\n                            // copy in connector overlays if present on the source definition.\r\n                            //\r\n                            if (idx === 0 && tep.def.connectorOverlays) {\r\n                                _p.overlays = _p.overlays || [];\r\n                                Array.prototype.push.apply(_p.overlays, tep.def.connectorOverlays);\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n\r\n                if (_oneElementDef(\"source\", 0, this.sourceEndpointDefinitions, _p.type || \"default\") === false) {\r\n                    return;\r\n                }\r\n                if (_oneElementDef(\"target\", 1, this.targetEndpointDefinitions, _p.type || \"default\") === false) {\r\n                    return;\r\n                }\r\n\r\n                // last, ensure scopes match\r\n                if (_p.sourceEndpoint && _p.targetEndpoint) {\r\n                    if (!_scopeMatch(_p.sourceEndpoint, _p.targetEndpoint)) {\r\n                        _p = null;\r\n                    }\r\n                }\r\n\r\n                return _p;\r\n            }.bind(_currentInstance),\r\n\r\n            _newConnection = function (params) {\r\n                var connectionFunc = _currentInstance.Defaults.ConnectionType || _currentInstance.getDefaultConnectionType();\r\n\r\n                params._jsPlumb = _currentInstance;\r\n                params.newConnection = _newConnection;\r\n                params.newEndpoint = _newEndpoint;\r\n                params.endpointsByUUID = endpointsByUUID;\r\n                params.endpointsByElement = endpointsByElement;\r\n                params.finaliseConnection = _finaliseConnection;\r\n                params.id = \"con_\" + _idstamp();\r\n                var con = new connectionFunc(params);\r\n\r\n                // if the connection is draggable, then maybe we need to tell the target endpoint to init the\r\n                // dragging code. it won't run again if it already configured to be draggable.\r\n                if (con.isDetachable()) {\r\n                    con.endpoints[0].initDraggable(\"_jsPlumbSource\");\r\n                    con.endpoints[1].initDraggable(\"_jsPlumbTarget\");\r\n                }\r\n\r\n                return con;\r\n            },\r\n\r\n            //\r\n            // adds the connection to the backing model, fires an event if necessary and then redraws\r\n            //\r\n            _finaliseConnection = _currentInstance.finaliseConnection = function (jpc, params, originalEvent, doInformAnchorManager) {\r\n                params = params || {};\r\n                // add to list of connections (by scope).\r\n                if (!jpc.suspendedEndpoint) {\r\n                    connections.push(jpc);\r\n                }\r\n\r\n                jpc.pending = null;\r\n\r\n                // turn off isTemporarySource on the source endpoint (only viable on first draw)\r\n                jpc.endpoints[0].isTemporarySource = false;\r\n\r\n                // always inform the anchor manager\r\n                // except that if jpc has a suspended endpoint it's not true to say the\r\n                // connection is new; it has just (possibly) moved. the question is whether\r\n                // to make that call here or in the anchor manager.  i think perhaps here.\r\n                if (doInformAnchorManager !== false) {\r\n                    _currentInstance.anchorManager.newConnection(jpc);\r\n                }\r\n\r\n                // force a paint\r\n                _draw(jpc.source);\r\n\r\n                // fire an event\r\n                if (!params.doNotFireConnectionEvent && params.fireEvent !== false) {\r\n\r\n                    var eventArgs = {\r\n                        connection: jpc,\r\n                        source: jpc.source, target: jpc.target,\r\n                        sourceId: jpc.sourceId, targetId: jpc.targetId,\r\n                        sourceEndpoint: jpc.endpoints[0], targetEndpoint: jpc.endpoints[1]\r\n                    };\r\n\r\n                    _currentInstance.fire(\"connection\", eventArgs, originalEvent);\r\n                }\r\n            },\r\n\r\n            /*\r\n             factory method to prepare a new endpoint.  this should always be used instead of creating Endpoints\r\n             manually, since this method attaches event listeners and an id.\r\n             */\r\n            _newEndpoint = function (params, id) {\r\n                var endpointFunc = _currentInstance.Defaults.EndpointType || jsPlumb.Endpoint;\r\n                var _p = jsPlumb.extend({}, params);\r\n                //delete _p.label; // not supported by endpoint.\r\n                _p._jsPlumb = _currentInstance;\r\n                _p.newConnection = _newConnection;\r\n                _p.newEndpoint = _newEndpoint;\r\n                _p.endpointsByUUID = endpointsByUUID;\r\n                _p.endpointsByElement = endpointsByElement;\r\n                _p.fireDetachEvent = fireDetachEvent;\r\n                _p.elementId = id || _getId(_p.source);\r\n                var ep = new endpointFunc(_p);\r\n                ep.id = \"ep_\" + _idstamp();\r\n                _manage(_p.elementId, _p.source);\r\n\r\n                if (!jsPlumb.headless) {\r\n                    _currentInstance.getDragManager().endpointAdded(_p.source, id);\r\n                }\r\n\r\n                return ep;\r\n            },\r\n\r\n            /*\r\n             * performs the given function operation on all the connections found\r\n             * for the given element id; this means we find all the endpoints for\r\n             * the given element, and then for each endpoint find the connectors\r\n             * connected to it. then we pass each connection in to the given\r\n             * function.\r\n             */\r\n            _operation = function (elId, func, endpointFunc) {\r\n                var endpoints = endpointsByElement[elId];\r\n                if (endpoints && endpoints.length) {\r\n                    for (var i = 0, ii = endpoints.length; i < ii; i++) {\r\n                        for (var j = 0, jj = endpoints[i].connections.length; j < jj; j++) {\r\n                            var retVal = func(endpoints[i].connections[j]);\r\n                            // if the function passed in returns true, we exit.\r\n                            // most functions return false.\r\n                            if (retVal) {\r\n                                return;\r\n                            }\r\n                        }\r\n                        if (endpointFunc) {\r\n                            endpointFunc(endpoints[i]);\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n\r\n            _setDraggable = function (element, draggable) {\r\n                return jsPlumb.each(element, function (el) {\r\n                    if (_currentInstance.isDragSupported(el)) {\r\n                        draggableStates[_currentInstance.getAttribute(el, \"id\")] = draggable;\r\n                        _currentInstance.setElementDraggable(el, draggable);\r\n                    }\r\n                });\r\n            },\r\n            /*\r\n             * private method to do the business of hiding/showing.\r\n             *\r\n             * @param el\r\n             *            either Id of the element in question or a library specific\r\n             *            object for the element.\r\n             * @param state\r\n             *            String specifying a value for the css 'display' property\r\n             *            ('block' or 'none').\r\n             */\r\n            _setVisible = function (el, state, alsoChangeEndpoints) {\r\n                state = state === \"block\";\r\n                var endpointFunc = null;\r\n                if (alsoChangeEndpoints) {\r\n                    endpointFunc = function (ep) {\r\n                        ep.setVisible(state, true, true);\r\n                    };\r\n                }\r\n                var info = _info(el);\r\n                _operation(info.id, function (jpc) {\r\n                    if (state && alsoChangeEndpoints) {\r\n                        // this test is necessary because this functionality is new, and i wanted to maintain backwards compatibility.\r\n                        // this block will only set a connection to be visible if the other endpoint in the connection is also visible.\r\n                        var oidx = jpc.sourceId === info.id ? 1 : 0;\r\n                        if (jpc.endpoints[oidx].isVisible()) {\r\n                            jpc.setVisible(true);\r\n                        }\r\n                    }\r\n                    else { // the default behaviour for show, and what always happens for hide, is to just set the visibility without getting clever.\r\n                        jpc.setVisible(state);\r\n                    }\r\n                }, endpointFunc);\r\n            },\r\n            /**\r\n             * private method to do the business of toggling hiding/showing.\r\n             */\r\n            _toggleVisible = function (elId, changeEndpoints) {\r\n                var endpointFunc = null;\r\n                if (changeEndpoints) {\r\n                    endpointFunc = function (ep) {\r\n                        var state = ep.isVisible();\r\n                        ep.setVisible(!state);\r\n                    };\r\n                }\r\n                _operation(elId, function (jpc) {\r\n                    var state = jpc.isVisible();\r\n                    jpc.setVisible(!state);\r\n                }, endpointFunc);\r\n            },\r\n\r\n            // TODO comparison performance\r\n            _getCachedData = function (elId) {\r\n                var o = offsets[elId];\r\n                if (!o) {\r\n                    return _updateOffset({elId: elId});\r\n                }\r\n                else {\r\n                    return {o: o, s: sizes[elId]};\r\n                }\r\n            },\r\n\r\n            /**\r\n             * gets an id for the given element, creating and setting one if\r\n             * necessary.  the id is of the form\r\n             *\r\n             *    jsPlumb_<instance index>_<index in instance>\r\n             *\r\n             * where \"index in instance\" is a monotonically increasing integer that starts at 0,\r\n             * for each instance.  this method is used not only to assign ids to elements that do not\r\n             * have them but also to connections and endpoints.\r\n             */\r\n            _getId = function (element, uuid, doNotCreateIfNotFound) {\r\n                if (_ju.isString(element)) {\r\n                    return element;\r\n                }\r\n                if (element == null) {\r\n                    return null;\r\n                }\r\n                var id = _currentInstance.getAttribute(element, \"id\");\r\n                if (!id || id === \"undefined\") {\r\n                    // check if fixed uuid parameter is given\r\n                    if (arguments.length === 2 && arguments[1] !== undefined) {\r\n                        id = uuid;\r\n                    }\r\n                    else if (arguments.length === 1 || (arguments.length === 3 && !arguments[2])) {\r\n                        id = \"jsPlumb_\" + _instanceIndex + \"_\" + _idstamp();\r\n                    }\r\n\r\n                    if (!doNotCreateIfNotFound) {\r\n                        _currentInstance.setAttribute(element, \"id\", id);\r\n                    }\r\n                }\r\n                return id;\r\n            };\r\n\r\n        this.setConnectionBeingDragged = function (v) {\r\n            connectionBeingDragged = v;\r\n        };\r\n        this.isConnectionBeingDragged = function () {\r\n            return connectionBeingDragged;\r\n        };\r\n\r\n        /**\r\n         * Returns a map of all the elements this jsPlumbInstance is currently managing.\r\n         * @returns {Object} Map of [id-> {el, endpoint[], connection, position}] information.\r\n         */\r\n        this.getManagedElements = function() {\r\n            return managedElements;\r\n        };\r\n\r\n        this.connectorClass = \"jtk-connector\";\r\n        this.connectorOutlineClass = \"jtk-connector-outline\";\r\n        this.connectedClass = \"jtk-connected\";\r\n        this.hoverClass = \"jtk-hover\";\r\n        this.endpointClass = \"jtk-endpoint\";\r\n        this.endpointConnectedClass = \"jtk-endpoint-connected\";\r\n        this.endpointFullClass = \"jtk-endpoint-full\";\r\n        this.endpointDropAllowedClass = \"jtk-endpoint-drop-allowed\";\r\n        this.endpointDropForbiddenClass = \"jtk-endpoint-drop-forbidden\";\r\n        this.overlayClass = \"jtk-overlay\";\r\n        this.draggingClass = \"jtk-dragging\";// CONVERTED\r\n        this.elementDraggingClass = \"jtk-element-dragging\";// CONVERTED\r\n        this.sourceElementDraggingClass = \"jtk-source-element-dragging\"; // CONVERTED\r\n        this.targetElementDraggingClass = \"jtk-target-element-dragging\";// CONVERTED\r\n        this.endpointAnchorClassPrefix = \"jtk-endpoint-anchor\";\r\n        this.hoverSourceClass = \"jtk-source-hover\";\r\n        this.hoverTargetClass = \"jtk-target-hover\";\r\n        this.dragSelectClass = \"jtk-drag-select\";\r\n\r\n        this.Anchors = {};\r\n        this.Connectors = {  \"svg\": {} };\r\n        this.Endpoints = { \"svg\": {} };\r\n        this.Overlays = { \"svg\": {} } ;\r\n        this.ConnectorRenderers = {};\r\n        this.SVG = \"svg\";\r\n\r\n// --------------------------- jsPlumbInstance public API ---------------------------------------------------------\r\n\r\n\r\n        this.addEndpoint = function (el, params, referenceParams) {\r\n            referenceParams = referenceParams || {};\r\n            var p = jsPlumb.extend({}, referenceParams);\r\n            jsPlumb.extend(p, params);\r\n            p.endpoint = p.endpoint || _currentInstance.Defaults.Endpoint;\r\n            p.paintStyle = p.paintStyle || _currentInstance.Defaults.EndpointStyle;\r\n\r\n            var results = [],\r\n                inputs = (_ju.isArray(el) || (el.length != null && !_ju.isString(el))) ? el : [ el ];\r\n\r\n            for (var i = 0, j = inputs.length; i < j; i++) {\r\n                p.source = _currentInstance.getElement(inputs[i]);\r\n                _ensureContainer(p.source);\r\n\r\n                var id = _getId(p.source), e = _newEndpoint(p, id);\r\n\r\n                // ensure element is managed.\r\n                var myOffset = _manage(id, p.source).info.o;\r\n                _ju.addToList(endpointsByElement, id, e);\r\n\r\n                if (!_suspendDrawing) {\r\n                    e.paint({\r\n                        anchorLoc: e.anchor.compute({ xy: [ myOffset.left, myOffset.top ], wh: sizes[id], element: e, timestamp: _suspendedAt }),\r\n                        timestamp: _suspendedAt\r\n                    });\r\n                }\r\n\r\n                results.push(e);\r\n            }\r\n\r\n            return results.length === 1 ? results[0] : results;\r\n        };\r\n\r\n        this.addEndpoints = function (el, endpoints, referenceParams) {\r\n            var results = [];\r\n            for (var i = 0, j = endpoints.length; i < j; i++) {\r\n                var e = _currentInstance.addEndpoint(el, endpoints[i], referenceParams);\r\n                if (_ju.isArray(e)) {\r\n                    Array.prototype.push.apply(results, e);\r\n                }\r\n                else {\r\n                    results.push(e);\r\n                }\r\n            }\r\n            return results;\r\n        };\r\n\r\n        this.animate = function (el, properties, options) {\r\n            if (!this.animationSupported) {\r\n                return false;\r\n            }\r\n\r\n            options = options || {};\r\n            var del = _currentInstance.getElement(el),\r\n                id = _getId(del),\r\n                stepFunction = jsPlumb.animEvents.step,\r\n                completeFunction = jsPlumb.animEvents.complete;\r\n\r\n            options[stepFunction] = _ju.wrap(options[stepFunction], function () {\r\n                _currentInstance.revalidate(id);\r\n            });\r\n\r\n            // onComplete repaints, just to make sure everything looks good at the end of the animation.\r\n            options[completeFunction] = _ju.wrap(options[completeFunction], function () {\r\n                _currentInstance.revalidate(id);\r\n            });\r\n\r\n            _currentInstance.doAnimate(del, properties, options);\r\n        };\r\n\r\n        /**\r\n         * checks for a listener for the given condition, executing it if found, passing in the given value.\r\n         * condition listeners would have been attached using \"bind\" (which is, you could argue, now overloaded, since\r\n         * firing click events etc is a bit different to what this does).  i thought about adding a \"bindCondition\"\r\n         * or something, but decided against it, for the sake of simplicity. jsPlumb will never fire one of these\r\n         * condition events anyway.\r\n         */\r\n        this.checkCondition = function (conditionName, args) {\r\n            var l = _currentInstance.getListener(conditionName),\r\n                r = true;\r\n\r\n            if (l && l.length > 0) {\r\n                var values = Array.prototype.slice.call(arguments, 1);\r\n                try {\r\n                    for (var i = 0, j = l.length; i < j; i++) {\r\n                        r = r && l[i].apply(l[i], values);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    _ju.log(_currentInstance, \"cannot check condition [\" + conditionName + \"]\" + e);\r\n                }\r\n            }\r\n            return r;\r\n        };\r\n\r\n        this.connect = function (params, referenceParams) {\r\n            // prepare a final set of parameters to create connection with\r\n            var _p = _prepareConnectionParams(params, referenceParams), jpc;\r\n            // TODO probably a nicer return value if the connection was not made.  _prepareConnectionParams\r\n            // will return null (and log something) if either endpoint was full.  what would be nicer is to\r\n            // create a dedicated 'error' object.\r\n            if (_p) {\r\n                if (_p.source == null && _p.sourceEndpoint == null) {\r\n                    _ju.log(\"Cannot establish connection - source does not exist\");\r\n                    return;\r\n                }\r\n                if (_p.target == null && _p.targetEndpoint == null) {\r\n                    _ju.log(\"Cannot establish connection - target does not exist\");\r\n                    return;\r\n                }\r\n                _ensureContainer(_p.source);\r\n                // create the connection.  it is not yet registered\r\n                jpc = _newConnection(_p);\r\n                // now add it the model, fire an event, and redraw\r\n                _finaliseConnection(jpc, _p);\r\n            }\r\n            return jpc;\r\n        };\r\n\r\n        var stTypes = [\r\n            { el: \"source\", elId: \"sourceId\", epDefs: \"sourceEndpointDefinitions\" },\r\n            { el: \"target\", elId: \"targetId\", epDefs: \"targetEndpointDefinitions\" }\r\n        ];\r\n\r\n        var _set = function (c, el, idx, doNotRepaint) {\r\n            var ep, _st = stTypes[idx], cId = c[_st.elId], cEl = c[_st.el], sid, sep,\r\n                oldEndpoint = c.endpoints[idx];\r\n\r\n            var evtParams = {\r\n                index: idx,\r\n                originalSourceId: idx === 0 ? cId : c.sourceId,\r\n                newSourceId: c.sourceId,\r\n                originalTargetId: idx === 1 ? cId : c.targetId,\r\n                newTargetId: c.targetId,\r\n                connection: c\r\n            };\r\n\r\n            if (el.constructor === jsPlumb.Endpoint) {\r\n                ep = el;\r\n                ep.addConnection(c);\r\n                el = ep.element;\r\n            }\r\n            else {\r\n                sid = _getId(el);\r\n                sep = this[_st.epDefs][sid];\r\n\r\n                if (sid === c[_st.elId]) {\r\n                    ep = null; // dont change source/target if the element is already the one given.\r\n                }\r\n                else if (sep) {\r\n                    for (var t in sep) {\r\n                        if (!sep[t].enabled) {\r\n                            return;\r\n                        }\r\n                        ep = sep[t].endpoint != null && sep[t].endpoint._jsPlumb ? sep[t].endpoint : this.addEndpoint(el, sep[t].def);\r\n                        if (sep[t].uniqueEndpoint) {\r\n                            sep[t].endpoint = ep;\r\n                        }\r\n                        ep.addConnection(c);\r\n                    }\r\n                }\r\n                else {\r\n                    ep = c.makeEndpoint(idx === 0, el, sid);\r\n                }\r\n            }\r\n\r\n            if (ep != null) {\r\n                oldEndpoint.detachFromConnection(c);\r\n                c.endpoints[idx] = ep;\r\n                c[_st.el] = ep.element;\r\n                c[_st.elId] = ep.elementId;\r\n                evtParams[idx === 0 ? \"newSourceId\" : \"newTargetId\"] = ep.elementId;\r\n\r\n                fireMoveEvent(evtParams);\r\n\r\n                if (!doNotRepaint) {\r\n                    c.repaint();\r\n                }\r\n            }\r\n\r\n            evtParams.element = el;\r\n            return evtParams;\r\n\r\n        }.bind(this);\r\n\r\n        this.setSource = function (connection, el, doNotRepaint) {\r\n            var p = _set(connection, el, 0, doNotRepaint);\r\n            this.anchorManager.sourceChanged(p.originalSourceId, p.newSourceId, connection, p.el);\r\n        };\r\n        this.setTarget = function (connection, el, doNotRepaint) {\r\n            var p = _set(connection, el, 1, doNotRepaint);\r\n            this.anchorManager.updateOtherEndpoint(p.originalSourceId, p.originalTargetId, p.newTargetId, connection);\r\n        };\r\n\r\n        this.deleteEndpoint = function (object, dontUpdateHover, deleteAttachedObjects) {\r\n            var endpoint = (typeof object === \"string\") ? endpointsByUUID[object] : object;\r\n            if (endpoint) {\r\n                _currentInstance.deleteObject({ endpoint: endpoint, dontUpdateHover: dontUpdateHover, deleteAttachedObjects:deleteAttachedObjects });\r\n            }\r\n            return _currentInstance;\r\n        };\r\n\r\n        this.deleteEveryEndpoint = function () {\r\n            var _is = _currentInstance.setSuspendDrawing(true);\r\n            for (var id in endpointsByElement) {\r\n                var endpoints = endpointsByElement[id];\r\n                if (endpoints && endpoints.length) {\r\n                    for (var i = 0, j = endpoints.length; i < j; i++) {\r\n                        _currentInstance.deleteEndpoint(endpoints[i], true);\r\n                    }\r\n                }\r\n            }\r\n            endpointsByElement = {};\r\n            managedElements = {};\r\n            endpointsByUUID = {};\r\n            offsets = {};\r\n            offsetTimestamps = {};\r\n            _currentInstance.anchorManager.reset();\r\n            var dm = _currentInstance.getDragManager();\r\n            if (dm) {\r\n                dm.reset();\r\n            }\r\n            if (!_is) {\r\n                _currentInstance.setSuspendDrawing(false);\r\n            }\r\n            return _currentInstance;\r\n        };\r\n\r\n        var fireDetachEvent = function (jpc, doFireEvent, originalEvent) {\r\n            // may have been given a connection, or in special cases, an object\r\n            var connType = _currentInstance.Defaults.ConnectionType || _currentInstance.getDefaultConnectionType(),\r\n                argIsConnection = jpc.constructor === connType,\r\n                params = argIsConnection ? {\r\n                    connection: jpc,\r\n                    source: jpc.source, target: jpc.target,\r\n                    sourceId: jpc.sourceId, targetId: jpc.targetId,\r\n                    sourceEndpoint: jpc.endpoints[0], targetEndpoint: jpc.endpoints[1]\r\n                } : jpc;\r\n\r\n            if (doFireEvent) {\r\n                _currentInstance.fire(\"connectionDetached\", params, originalEvent);\r\n            }\r\n\r\n            // always fire this. used by internal jsplumb stuff.\r\n            _currentInstance.fire(\"internal.connectionDetached\", params, originalEvent);\r\n\r\n            _currentInstance.anchorManager.connectionDetached(params);\r\n        };\r\n\r\n        var fireMoveEvent = _currentInstance.fireMoveEvent = function (params, evt) {\r\n            _currentInstance.fire(\"connectionMoved\", params, evt);\r\n        };\r\n\r\n        this.unregisterEndpoint = function (endpoint) {\r\n            if (endpoint._jsPlumb.uuid) {\r\n                endpointsByUUID[endpoint._jsPlumb.uuid] = null;\r\n            }\r\n            _currentInstance.anchorManager.deleteEndpoint(endpoint);\r\n            // TODO at least replace this with a removeWithFunction call.\r\n            for (var e in endpointsByElement) {\r\n                var endpoints = endpointsByElement[e];\r\n                if (endpoints) {\r\n                    var newEndpoints = [];\r\n                    for (var i = 0, j = endpoints.length; i < j; i++) {\r\n                        if (endpoints[i] !== endpoint) {\r\n                            newEndpoints.push(endpoints[i]);\r\n                        }\r\n                    }\r\n\r\n                    endpointsByElement[e] = newEndpoints;\r\n                }\r\n                if (endpointsByElement[e].length < 1) {\r\n                    delete endpointsByElement[e];\r\n                }\r\n            }\r\n        };\r\n\r\n        var IS_DETACH_ALLOWED = \"isDetachAllowed\";\r\n        var BEFORE_DETACH = \"beforeDetach\";\r\n        var CHECK_CONDITION = \"checkCondition\";\r\n\r\n        /**\r\n         * Deletes a Connection.\r\n         * @method deleteConnection\r\n         * @param connection Connection to delete\r\n         * @param {Object} [params] Optional delete parameters\r\n         * @param {Boolean} [params.doNotFireEvent=false] If true, a connection detached event will not be fired. Otherwise one will.\r\n         * @param {Boolean} [params.force=false] If true, the connection will be deleted even if a beforeDetach interceptor tries to stop the deletion.\r\n         * @returns {Boolean} True if the connection was deleted, false otherwise.\r\n         */\r\n        this.deleteConnection = function(connection, params) {\r\n\r\n            if (connection != null) {\r\n                params = params || {};\r\n\r\n                if (params.force || _ju.functionChain(true, false, [\r\n                    [ connection.endpoints[0], IS_DETACH_ALLOWED, [ connection ] ],\r\n                    [ connection.endpoints[1], IS_DETACH_ALLOWED, [ connection ] ],\r\n                    [ connection, IS_DETACH_ALLOWED, [ connection ] ],\r\n                    [ _currentInstance, CHECK_CONDITION, [ BEFORE_DETACH, connection ] ]\r\n                ])) {\r\n\r\n                    connection.setHover(false);\r\n                    fireDetachEvent(connection, !connection.pending && params.fireEvent !== false, params.originalEvent);\r\n\r\n                    connection.endpoints[0].detachFromConnection(connection);\r\n                    connection.endpoints[1].detachFromConnection(connection);\r\n                    _ju.removeWithFunction(connections, function (_c) {\r\n                        return connection.id === _c.id;\r\n                    });\r\n\r\n                    connection.cleanup();\r\n                    connection.destroy();\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        };\r\n\r\n        /**\r\n         * Remove all Connections from all elements, but leaves Endpoints in place ((unless a connection is set to auto delete its Endpoints).\r\n         * @method deleteEveryConnection\r\n         * @param {Object} [params] optional params object for the call\r\n         * @param {Boolean} [params.fireEvent=true] Whether or not to fire detach events\r\n         * @param {Boolean} [params.forceDetach=false] If true, this call will ignore any `beforeDetach` interceptors.\r\n         * @returns {Number} The number of connections that were deleted.\r\n         */\r\n        this.deleteEveryConnection = function (params) {\r\n            params = params || {};\r\n            var count = connections.length, deletedCount = 0;\r\n            _currentInstance.batch(function () {\r\n                for (var i = 0; i < count; i++) {\r\n                    deletedCount += _currentInstance.deleteConnection(connections[0], params) ? 1 : 0;\r\n                }\r\n            });\r\n            return deletedCount;\r\n        };\r\n\r\n        /**\r\n         * Removes all an element's Connections.\r\n         * @method deleteConnectionsForElement\r\n         * @param {Object} el Either the id of the element, or a selector for the element.\r\n         * @param {Object} [params] Optional parameters.\r\n         * @param {Boolean} [params.fireEvent=true] Whether or not to fire the detach event.\r\n         * @param {Boolean} [params.forceDetach=false] If true, this call will ignore any `beforeDetach` interceptors.\r\n         * @return {jsPlumbInstance} The current jsPlumb instance.\r\n         */\r\n        this.deleteConnectionsForElement = function (el, params) {\r\n            params = params || {};\r\n            el = _currentInstance.getElement(el);\r\n            var id = _getId(el), endpoints = endpointsByElement[id];\r\n            if (endpoints && endpoints.length) {\r\n                for (var i = 0, j = endpoints.length; i < j; i++) {\r\n                    endpoints[i].deleteEveryConnection(params);\r\n                }\r\n            }\r\n            return _currentInstance;\r\n        };\r\n\r\n        /// not public.  but of course its exposed. how to change this.\r\n        this.deleteObject = function (params) {\r\n            var result = {\r\n                    endpoints: {},\r\n                    connections: {},\r\n                    endpointCount: 0,\r\n                    connectionCount: 0\r\n                },\r\n                deleteAttachedObjects = params.deleteAttachedObjects !== false;\r\n\r\n            var unravelConnection = function (connection) {\r\n                if (connection != null && result.connections[connection.id] == null) {\r\n                    if (!params.dontUpdateHover && connection._jsPlumb != null) {\r\n                        connection.setHover(false);\r\n                    }\r\n                    result.connections[connection.id] = connection;\r\n                    result.connectionCount++;\r\n                }\r\n            };\r\n            var unravelEndpoint = function (endpoint) {\r\n                if (endpoint != null && result.endpoints[endpoint.id] == null) {\r\n                    if (!params.dontUpdateHover && endpoint._jsPlumb != null) {\r\n                        endpoint.setHover(false);\r\n                    }\r\n                    result.endpoints[endpoint.id] = endpoint;\r\n                    result.endpointCount++;\r\n\r\n                    if (deleteAttachedObjects) {\r\n                        for (var i = 0; i < endpoint.connections.length; i++) {\r\n                            var c = endpoint.connections[i];\r\n                            unravelConnection(c);\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n            if (params.connection) {\r\n                unravelConnection(params.connection);\r\n            }\r\n            else {\r\n                unravelEndpoint(params.endpoint);\r\n            }\r\n\r\n            // loop through connections\r\n            for (var i in result.connections) {\r\n                var c = result.connections[i];\r\n                if (c._jsPlumb) {\r\n                    _ju.removeWithFunction(connections, function (_c) {\r\n                        return c.id === _c.id;\r\n                    });\r\n\r\n                    fireDetachEvent(c, params.fireEvent === false ? false : !c.pending, params.originalEvent);\r\n                    var doNotCleanup = params.deleteAttachedObjects == null ? null : !params.deleteAttachedObjects;\r\n\r\n                    c.endpoints[0].detachFromConnection(c, null, doNotCleanup);\r\n                    c.endpoints[1].detachFromConnection(c, null, doNotCleanup);\r\n\r\n                    c.cleanup(true);\r\n                    c.destroy(true);\r\n                }\r\n            }\r\n\r\n            // loop through endpoints\r\n            for (var j in result.endpoints) {\r\n                var e = result.endpoints[j];\r\n                if (e._jsPlumb) {\r\n                    _currentInstance.unregisterEndpoint(e);\r\n                    // FIRE some endpoint deleted event?\r\n                    e.cleanup(true);\r\n                    e.destroy(true);\r\n                }\r\n            }\r\n\r\n            return result;\r\n        };\r\n\r\n\r\n        // helpers for select/selectEndpoints\r\n        var _setOperation = function (list, func, args, selector) {\r\n                for (var i = 0, j = list.length; i < j; i++) {\r\n                    list[i][func].apply(list[i], args);\r\n                }\r\n                return selector(list);\r\n            },\r\n            _getOperation = function (list, func, args) {\r\n                var out = [];\r\n                for (var i = 0, j = list.length; i < j; i++) {\r\n                    out.push([ list[i][func].apply(list[i], args), list[i] ]);\r\n                }\r\n                return out;\r\n            },\r\n            setter = function (list, func, selector) {\r\n                return function () {\r\n                    return _setOperation(list, func, arguments, selector);\r\n                };\r\n            },\r\n            getter = function (list, func) {\r\n                return function () {\r\n                    return _getOperation(list, func, arguments);\r\n                };\r\n            },\r\n            prepareList = function (input, doNotGetIds) {\r\n                var r = [];\r\n                if (input) {\r\n                    if (typeof input === 'string') {\r\n                        if (input === \"*\") {\r\n                            return input;\r\n                        }\r\n                        r.push(input);\r\n                    }\r\n                    else {\r\n                        if (doNotGetIds) {\r\n                            r = input;\r\n                        }\r\n                        else {\r\n                            if (input.length) {\r\n                                for (var i = 0, j = input.length; i < j; i++) {\r\n                                    r.push(_info(input[i]).id);\r\n                                }\r\n                            }\r\n                            else {\r\n                                r.push(_info(input).id);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return r;\r\n            },\r\n            filterList = function (list, value, missingIsFalse) {\r\n                if (list === \"*\") {\r\n                    return true;\r\n                }\r\n                return list.length > 0 ? list.indexOf(value) !== -1 : !missingIsFalse;\r\n            };\r\n\r\n        // get some connections, specifying source/target/scope\r\n        this.getConnections = function (options, flat) {\r\n            if (!options) {\r\n                options = {};\r\n            } else if (options.constructor === String) {\r\n                options = { \"scope\": options };\r\n            }\r\n            var scope = options.scope || _currentInstance.getDefaultScope(),\r\n                scopes = prepareList(scope, true),\r\n                sources = prepareList(options.source),\r\n                targets = prepareList(options.target),\r\n                results = (!flat && scopes.length > 1) ? {} : [],\r\n                _addOne = function (scope, obj) {\r\n                    if (!flat && scopes.length > 1) {\r\n                        var ss = results[scope];\r\n                        if (ss == null) {\r\n                            ss = results[scope] = [];\r\n                        }\r\n                        ss.push(obj);\r\n                    } else {\r\n                        results.push(obj);\r\n                    }\r\n                };\r\n\r\n            for (var j = 0, jj = connections.length; j < jj; j++) {\r\n                var c = connections[j],\r\n                    sourceId = c.proxies && c.proxies[0] ? c.proxies[0].originalEp.elementId : c.sourceId,\r\n                    targetId = c.proxies && c.proxies[1] ? c.proxies[1].originalEp.elementId : c.targetId;\r\n\r\n                if (filterList(scopes, c.scope) && filterList(sources, sourceId) && filterList(targets, targetId)) {\r\n                    _addOne(c.scope, c);\r\n                }\r\n            }\r\n\r\n            return results;\r\n        };\r\n\r\n        var _curryEach = function (list, executor) {\r\n                return function (f) {\r\n                    for (var i = 0, ii = list.length; i < ii; i++) {\r\n                        f(list[i]);\r\n                    }\r\n                    return executor(list);\r\n                };\r\n            },\r\n            _curryGet = function (list) {\r\n                return function (idx) {\r\n                    return list[idx];\r\n                };\r\n            };\r\n\r\n        var _makeCommonSelectHandler = function (list, executor) {\r\n            var out = {\r\n                    length: list.length,\r\n                    each: _curryEach(list, executor),\r\n                    get: _curryGet(list)\r\n                },\r\n                setters = [\"setHover\", \"removeAllOverlays\", \"setLabel\", \"addClass\", \"addOverlay\", \"removeOverlay\",\r\n                    \"removeOverlays\", \"showOverlay\", \"hideOverlay\", \"showOverlays\", \"hideOverlays\", \"setPaintStyle\",\r\n                    \"setHoverPaintStyle\", \"setSuspendEvents\", \"setParameter\", \"setParameters\", \"setVisible\",\r\n                    \"repaint\", \"addType\", \"toggleType\", \"removeType\", \"removeClass\", \"setType\", \"bind\", \"unbind\" ],\r\n\r\n                getters = [\"getLabel\", \"getOverlay\", \"isHover\", \"getParameter\", \"getParameters\", \"getPaintStyle\",\r\n                    \"getHoverPaintStyle\", \"isVisible\", \"hasType\", \"getType\", \"isSuspendEvents\" ],\r\n                i, ii;\r\n\r\n            for (i = 0, ii = setters.length; i < ii; i++) {\r\n                out[setters[i]] = setter(list, setters[i], executor);\r\n            }\r\n\r\n            for (i = 0, ii = getters.length; i < ii; i++) {\r\n                out[getters[i]] = getter(list, getters[i]);\r\n            }\r\n\r\n            return out;\r\n        };\r\n\r\n        var _makeConnectionSelectHandler = function (list) {\r\n            var common = _makeCommonSelectHandler(list, _makeConnectionSelectHandler);\r\n            return jsPlumb.extend(common, {\r\n                // setters\r\n                setDetachable: setter(list, \"setDetachable\", _makeConnectionSelectHandler),\r\n                setReattach: setter(list, \"setReattach\", _makeConnectionSelectHandler),\r\n                setConnector: setter(list, \"setConnector\", _makeConnectionSelectHandler),\r\n                delete: function () {\r\n                    for (var i = 0, ii = list.length; i < ii; i++) {\r\n                        _currentInstance.deleteConnection(list[i]);\r\n                    }\r\n                },\r\n                // getters\r\n                isDetachable: getter(list, \"isDetachable\"),\r\n                isReattach: getter(list, \"isReattach\")\r\n            });\r\n        };\r\n\r\n        var _makeEndpointSelectHandler = function (list) {\r\n            var common = _makeCommonSelectHandler(list, _makeEndpointSelectHandler);\r\n            return jsPlumb.extend(common, {\r\n                setEnabled: setter(list, \"setEnabled\", _makeEndpointSelectHandler),\r\n                setAnchor: setter(list, \"setAnchor\", _makeEndpointSelectHandler),\r\n                isEnabled: getter(list, \"isEnabled\"),\r\n                deleteEveryConnection: function () {\r\n                    for (var i = 0, ii = list.length; i < ii; i++) {\r\n                        list[i].deleteEveryConnection();\r\n                    }\r\n                },\r\n                \"delete\": function () {\r\n                    for (var i = 0, ii = list.length; i < ii; i++) {\r\n                        _currentInstance.deleteEndpoint(list[i]);\r\n                    }\r\n                }\r\n            });\r\n        };\r\n\r\n        this.select = function (params) {\r\n            params = params || {};\r\n            params.scope = params.scope || \"*\";\r\n            return _makeConnectionSelectHandler(params.connections || _currentInstance.getConnections(params, true));\r\n        };\r\n\r\n        this.selectEndpoints = function (params) {\r\n            params = params || {};\r\n            params.scope = params.scope || \"*\";\r\n            var noElementFilters = !params.element && !params.source && !params.target,\r\n                elements = noElementFilters ? \"*\" : prepareList(params.element),\r\n                sources = noElementFilters ? \"*\" : prepareList(params.source),\r\n                targets = noElementFilters ? \"*\" : prepareList(params.target),\r\n                scopes = prepareList(params.scope, true);\r\n\r\n            var ep = [];\r\n\r\n            for (var el in endpointsByElement) {\r\n                var either = filterList(elements, el, true),\r\n                    source = filterList(sources, el, true),\r\n                    sourceMatchExact = sources !== \"*\",\r\n                    target = filterList(targets, el, true),\r\n                    targetMatchExact = targets !== \"*\";\r\n\r\n                // if they requested 'either' then just match scope. otherwise if they requested 'source' (not as a wildcard) then we have to match only endpoints that have isSource set to to true, and the same thing with isTarget.\r\n                if (either || source || target) {\r\n                    inner:\r\n                        for (var i = 0, ii = endpointsByElement[el].length; i < ii; i++) {\r\n                            var _ep = endpointsByElement[el][i];\r\n                            if (filterList(scopes, _ep.scope, true)) {\r\n\r\n                                var noMatchSource = (sourceMatchExact && sources.length > 0 && !_ep.isSource),\r\n                                    noMatchTarget = (targetMatchExact && targets.length > 0 && !_ep.isTarget);\r\n\r\n                                if (noMatchSource || noMatchTarget) {\r\n                                    continue inner;\r\n                                }\r\n\r\n                                ep.push(_ep);\r\n                            }\r\n                        }\r\n                }\r\n            }\r\n\r\n            return _makeEndpointSelectHandler(ep);\r\n        };\r\n\r\n        // get all connections managed by the instance of jsplumb.\r\n        this.getAllConnections = function () {\r\n            return connections;\r\n        };\r\n        this.getDefaultScope = function () {\r\n            return DEFAULT_SCOPE;\r\n        };\r\n        // get an endpoint by uuid.\r\n        this.getEndpoint = _getEndpoint;\r\n        /**\r\n         * Gets the list of Endpoints for a given element.\r\n         * @method getEndpoints\r\n         * @param {String|Element|Selector} el The element to get endpoints for.\r\n         * @return {Endpoint[]} An array of Endpoints for the specified element.\r\n         */\r\n        this.getEndpoints = function (el) {\r\n            return endpointsByElement[_info(el).id] || [];\r\n        };\r\n        // gets the default endpoint type. used when subclassing. see wiki.\r\n        this.getDefaultEndpointType = function () {\r\n            return jsPlumb.Endpoint;\r\n        };\r\n        // gets the default connection type. used when subclassing.  see wiki.\r\n        this.getDefaultConnectionType = function () {\r\n            return jsPlumb.Connection;\r\n        };\r\n        /*\r\n         * Gets an element's id, creating one if necessary. really only exposed\r\n         * for the lib-specific functionality to access; would be better to pass\r\n         * the current instance into the lib-specific code (even though this is\r\n         * a static call. i just don't want to expose it to the public API).\r\n         */\r\n        this.getId = _getId;\r\n        this.draw = _draw;\r\n        this.info = _info;\r\n\r\n        this.appendElement = _appendElement;\r\n\r\n        var _hoverSuspended = false;\r\n        this.isHoverSuspended = function () {\r\n            return _hoverSuspended;\r\n        };\r\n        this.setHoverSuspended = function (s) {\r\n            _hoverSuspended = s;\r\n        };\r\n\r\n        // set an element's connections to be hidden\r\n        this.hide = function (el, changeEndpoints) {\r\n            _setVisible(el, \"none\", changeEndpoints);\r\n            return _currentInstance;\r\n        };\r\n\r\n        // exposed for other objects to use to get a unique id.\r\n        this.idstamp = _idstamp;\r\n\r\n        // ensure that, if the current container exists, it is a DOM element and not a selector.\r\n        // if it does not exist and `candidate` is supplied, the offset parent of that element will be set as the Container.\r\n        // this is used to do a better default behaviour for the case that the user has not set a container:\r\n        // addEndpoint, makeSource, makeTarget and connect all call this method with the offsetParent of the\r\n        // element in question (for connect it is the source element). So if no container is set, it is inferred\r\n        // to be the offsetParent of the first element the user tries to connect.\r\n        var _ensureContainer = function (candidate) {\r\n            if (!_container && candidate) {\r\n                var can = _currentInstance.getElement(candidate);\r\n                if (can.offsetParent) {\r\n                    _currentInstance.setContainer(can.offsetParent);\r\n                }\r\n            }\r\n        };\r\n\r\n        var _getContainerFromDefaults = function () {\r\n            if (_currentInstance.Defaults.Container) {\r\n                _currentInstance.setContainer(_currentInstance.Defaults.Container);\r\n            }\r\n        };\r\n\r\n        // check if a given element is managed or not. if not, add to our map. if drawing is not suspended then\r\n        // we'll also stash its dimensions; otherwise we'll do this in a lazy way through updateOffset.\r\n        var _manage = _currentInstance.manage = function (id, element, _transient) {\r\n            if (!managedElements[id]) {\r\n                managedElements[id] = {\r\n                    el: element,\r\n                    endpoints: [],\r\n                    connections: []\r\n                };\r\n\r\n                managedElements[id].info = _updateOffset({ elId: id, timestamp: _suspendedAt });\r\n                _currentInstance.addClass(element, \"jtk-managed\");\r\n\r\n                if (!_transient) {\r\n                    _currentInstance.fire(\"manageElement\", { id:id, info:managedElements[id].info, el:element });\r\n                }\r\n            }\r\n\r\n            return managedElements[id];\r\n        };\r\n\r\n        var _unmanage = _currentInstance.unmanage = function(id) {\r\n            if (managedElements[id]) {\r\n                var el = managedElements[id].el;\r\n                _currentInstance.removeClass(el, \"jtk-managed\");\r\n                delete managedElements[id];\r\n                _currentInstance.fire(\"unmanageElement\", {id:id, el:el});\r\n            }\r\n        };\r\n\r\n        /**\r\n         * updates the offset and size for a given element, and stores the\r\n         * values. if 'offset' is not null we use that (it would have been\r\n         * passed in from a drag call) because it's faster; but if it is null,\r\n         * or if 'recalc' is true in order to force a recalculation, we get the current values.\r\n         * @method updateOffset\r\n         */\r\n        var _updateOffset = function (params) {\r\n\r\n            var timestamp = params.timestamp, recalc = params.recalc, offset = params.offset, elId = params.elId, s;\r\n            if (_suspendDrawing && !timestamp) {\r\n                timestamp = _suspendedAt;\r\n            }\r\n            if (!recalc) {\r\n                if (timestamp && timestamp === offsetTimestamps[elId]) {\r\n                    return {o: params.offset || offsets[elId], s: sizes[elId]};\r\n                }\r\n            }\r\n            if (recalc || (!offset && offsets[elId] == null)) { // if forced repaint or no offset available, we recalculate.\r\n\r\n                // get the current size and offset, and store them\r\n                s = managedElements[elId] ? managedElements[elId].el : null;\r\n                if (s != null) {\r\n                    sizes[elId] = _currentInstance.getSize(s);\r\n                    offsets[elId] = _currentInstance.getOffset(s);\r\n                    offsetTimestamps[elId] = timestamp;\r\n                }\r\n            } else {\r\n                offsets[elId] = offset || offsets[elId];\r\n                if (sizes[elId] == null) {\r\n                    s = managedElements[elId].el;\r\n                    if (s != null) {\r\n                        sizes[elId] = _currentInstance.getSize(s);\r\n                    }\r\n                }\r\n                offsetTimestamps[elId] = timestamp;\r\n            }\r\n\r\n            if (offsets[elId] && !offsets[elId].right) {\r\n                offsets[elId].right = offsets[elId].left + sizes[elId][0];\r\n                offsets[elId].bottom = offsets[elId].top + sizes[elId][1];\r\n                offsets[elId].width = sizes[elId][0];\r\n                offsets[elId].height = sizes[elId][1];\r\n                offsets[elId].centerx = offsets[elId].left + (offsets[elId].width / 2);\r\n                offsets[elId].centery = offsets[elId].top + (offsets[elId].height / 2);\r\n            }\r\n\r\n            return {o: offsets[elId], s: sizes[elId]};\r\n        };\r\n\r\n        this.updateOffset = _updateOffset;\r\n\r\n        /**\r\n         * callback from the current library to tell us to prepare ourselves (attach\r\n         * mouse listeners etc; can't do that until the library has provided a bind method)\r\n         */\r\n        this.init = function () {\r\n            if (!initialized) {\r\n                _getContainerFromDefaults();\r\n                _currentInstance.anchorManager = new root.jsPlumb.AnchorManager({jsPlumbInstance: _currentInstance});\r\n                initialized = true;\r\n                _currentInstance.fire(\"ready\", _currentInstance);\r\n            }\r\n        }.bind(this);\r\n\r\n        this.log = log;\r\n        this.jsPlumbUIComponent = jsPlumbUIComponent;\r\n\r\n        /*\r\n         * Creates an anchor with the given params.\r\n         *\r\n         *\r\n         * Returns: The newly created Anchor.\r\n         * Throws: an error if a named anchor was not found.\r\n         */\r\n        this.makeAnchor = function () {\r\n            var pp, _a = function (t, p) {\r\n                if (root.jsPlumb.Anchors[t]) {\r\n                    return new root.jsPlumb.Anchors[t](p);\r\n                }\r\n                if (!_currentInstance.Defaults.DoNotThrowErrors) {\r\n                    throw { msg: \"jsPlumb: unknown anchor type '\" + t + \"'\" };\r\n                }\r\n            };\r\n            if (arguments.length === 0) {\r\n                return null;\r\n            }\r\n            var specimen = arguments[0], elementId = arguments[1], jsPlumbInstance = arguments[2], newAnchor = null;\r\n            // if it appears to be an anchor already...\r\n            if (specimen.compute && specimen.getOrientation) {\r\n                return specimen;\r\n            }  //TODO hazy here about whether it should be added or is already added somehow.\r\n            // is it the name of an anchor type?\r\n            else if (typeof specimen === \"string\") {\r\n                newAnchor = _a(arguments[0], {elementId: elementId, jsPlumbInstance: _currentInstance});\r\n            }\r\n            // is it an array? it will be one of:\r\n            // an array of [spec, params] - this defines a single anchor, which may be dynamic, but has parameters.\r\n            // an array of arrays - this defines some dynamic anchors\r\n            // an array of numbers - this defines a single anchor.\r\n            else if (_ju.isArray(specimen)) {\r\n                if (_ju.isArray(specimen[0]) || _ju.isString(specimen[0])) {\r\n                    // if [spec, params] format\r\n                    if (specimen.length === 2 && _ju.isObject(specimen[1])) {\r\n                        // if first arg is a string, its a named anchor with params\r\n                        if (_ju.isString(specimen[0])) {\r\n                            pp = root.jsPlumb.extend({elementId: elementId, jsPlumbInstance: _currentInstance}, specimen[1]);\r\n                            newAnchor = _a(specimen[0], pp);\r\n                        }\r\n                        // otherwise first arg is array, second is params. we treat as a dynamic anchor, which is fine\r\n                        // even if the first arg has only one entry. you could argue all anchors should be implicitly dynamic in fact.\r\n                        else {\r\n                            pp = root.jsPlumb.extend({elementId: elementId, jsPlumbInstance: _currentInstance, anchors: specimen[0]}, specimen[1]);\r\n                            newAnchor = new root.jsPlumb.DynamicAnchor(pp);\r\n                        }\r\n                    }\r\n                    else {\r\n                        newAnchor = new jsPlumb.DynamicAnchor({anchors: specimen, selector: null, elementId: elementId, jsPlumbInstance: _currentInstance});\r\n                    }\r\n\r\n                }\r\n                else {\r\n                    var anchorParams = {\r\n                        x: specimen[0], y: specimen[1],\r\n                        orientation: (specimen.length >= 4) ? [ specimen[2], specimen[3] ] : [0, 0],\r\n                        offsets: (specimen.length >= 6) ? [ specimen[4], specimen[5] ] : [ 0, 0 ],\r\n                        elementId: elementId,\r\n                        jsPlumbInstance: _currentInstance,\r\n                        cssClass: specimen.length === 7 ? specimen[6] : null\r\n                    };\r\n                    newAnchor = new root.jsPlumb.Anchor(anchorParams);\r\n                    newAnchor.clone = function () {\r\n                        return new root.jsPlumb.Anchor(anchorParams);\r\n                    };\r\n                }\r\n            }\r\n\r\n            if (!newAnchor.id) {\r\n                newAnchor.id = \"anchor_\" + _idstamp();\r\n            }\r\n            return newAnchor;\r\n        };\r\n\r\n        /**\r\n         * makes a list of anchors from the given list of types or coords, eg\r\n         * [\"TopCenter\", \"RightMiddle\", \"BottomCenter\", [0, 1, -1, -1] ]\r\n         */\r\n        this.makeAnchors = function (types, elementId, jsPlumbInstance) {\r\n            var r = [];\r\n            for (var i = 0, ii = types.length; i < ii; i++) {\r\n                if (typeof types[i] === \"string\") {\r\n                    r.push(root.jsPlumb.Anchors[types[i]]({elementId: elementId, jsPlumbInstance: jsPlumbInstance}));\r\n                }\r\n                else if (_ju.isArray(types[i])) {\r\n                    r.push(_currentInstance.makeAnchor(types[i], elementId, jsPlumbInstance));\r\n                }\r\n            }\r\n            return r;\r\n        };\r\n\r\n        /**\r\n         * Makes a dynamic anchor from the given list of anchors (which may be in shorthand notation as strings or dimension arrays, or Anchor\r\n         * objects themselves) and the given, optional, anchorSelector function (jsPlumb uses a default if this is not provided; most people will\r\n         * not need to provide this - i think).\r\n         */\r\n        this.makeDynamicAnchor = function (anchors, anchorSelector) {\r\n            return new root.jsPlumb.DynamicAnchor({anchors: anchors, selector: anchorSelector, elementId: null, jsPlumbInstance: _currentInstance});\r\n        };\r\n\r\n// --------------------- makeSource/makeTarget ----------------------------------------------\r\n\r\n        this.targetEndpointDefinitions = {};\r\n        this.sourceEndpointDefinitions = {};\r\n\r\n        var selectorFilter = function (evt, _el, selector, _instance, negate) {\r\n            var t = evt.target || evt.srcElement, ok = false,\r\n                sel = _instance.getSelector(_el, selector);\r\n            for (var j = 0; j < sel.length; j++) {\r\n                if (sel[j] === t) {\r\n                    ok = true;\r\n                    break;\r\n                }\r\n            }\r\n            return negate ? !ok : ok;\r\n        };\r\n\r\n        var _makeElementDropHandler = function (elInfo, p, dropOptions, isSource, isTarget) {\r\n            var proxyComponent = new jsPlumbUIComponent(p);\r\n            var _drop = p._jsPlumb.EndpointDropHandler({\r\n                jsPlumb: _currentInstance,\r\n                enabled: function () {\r\n                    return elInfo.def.enabled;\r\n                },\r\n                isFull: function () {\r\n                    var targetCount = _currentInstance.select({target: elInfo.id}).length;\r\n                    return elInfo.def.maxConnections > 0 && targetCount >= elInfo.def.maxConnections;\r\n                },\r\n                element: elInfo.el,\r\n                elementId: elInfo.id,\r\n                isSource: isSource,\r\n                isTarget: isTarget,\r\n                addClass: function (clazz) {\r\n                    _currentInstance.addClass(elInfo.el, clazz);\r\n                },\r\n                removeClass: function (clazz) {\r\n                    _currentInstance.removeClass(elInfo.el, clazz);\r\n                },\r\n                onDrop: function (jpc) {\r\n                    var source = jpc.endpoints[0];\r\n                    source.anchor.unlock();\r\n                },\r\n                isDropAllowed: function () {\r\n                    return proxyComponent.isDropAllowed.apply(proxyComponent, arguments);\r\n                },\r\n                isRedrop:function(jpc) {\r\n                    return (jpc.suspendedElement != null && jpc.suspendedEndpoint != null && jpc.suspendedEndpoint.element === elInfo.el);\r\n                },\r\n                getEndpoint: function (jpc) {\r\n\r\n                    // make a new Endpoint for the target, or get it from the cache if uniqueEndpoint\r\n                    // is set. if its a redrop the new endpoint will be immediately cleaned up.\r\n\r\n                    var newEndpoint = elInfo.def.endpoint;\r\n\r\n                    // if no cached endpoint, or there was one but it has been cleaned up\r\n                    // (ie. detached), create a new one\r\n                    if (newEndpoint == null || newEndpoint._jsPlumb == null) {\r\n                        var eps = _currentInstance.deriveEndpointAndAnchorSpec(jpc.getType().join(\" \"), true);\r\n                        var pp = eps.endpoints ? root.jsPlumb.extend(p, {\r\n                            endpoint:elInfo.def.def.endpoint || eps.endpoints[1]\r\n                        }) :p;\r\n                        if (eps.anchors) {\r\n                            pp = root.jsPlumb.extend(pp, {\r\n                                anchor:elInfo.def.def.anchor || eps.anchors[1]\r\n                            });\r\n                        }\r\n                        newEndpoint = _currentInstance.addEndpoint(elInfo.el, pp);\r\n                        newEndpoint._mtNew = true;\r\n                    }\r\n\r\n                    if (p.uniqueEndpoint) {\r\n                        elInfo.def.endpoint = newEndpoint;\r\n                    }\r\n\r\n                    newEndpoint.setDeleteOnEmpty(true);\r\n\r\n                    // if connection is detachable, init the new endpoint to be draggable, to support that happening.\r\n                    if (jpc.isDetachable()) {\r\n                        newEndpoint.initDraggable();\r\n                    }\r\n\r\n                    // if the anchor has a 'positionFinder' set, then delegate to that function to find\r\n                    // out where to locate the anchor.\r\n                    if (newEndpoint.anchor.positionFinder != null) {\r\n                        var dropPosition = _currentInstance.getUIPosition(arguments, _currentInstance.getZoom()),\r\n                            elPosition = _currentInstance.getOffset(elInfo.el),\r\n                            elSize = _currentInstance.getSize(elInfo.el),\r\n                            ap = dropPosition == null ? [0,0] : newEndpoint.anchor.positionFinder(dropPosition, elPosition, elSize, newEndpoint.anchor.constructorParams);\r\n\r\n                        newEndpoint.anchor.x = ap[0];\r\n                        newEndpoint.anchor.y = ap[1];\r\n                        // now figure an orientation for it..kind of hard to know what to do actually. probably the best thing i can do is to\r\n                        // support specifying an orientation in the anchor's spec. if one is not supplied then i will make the orientation\r\n                        // be what will cause the most natural link to the source: it will be pointing at the source, but it needs to be\r\n                        // specified in one axis only, and so how to make that choice? i think i will use whichever axis is the one in which\r\n                        // the target is furthest away from the source.\r\n                    }\r\n\r\n                    return newEndpoint;\r\n                },\r\n                maybeCleanup: function (ep) {\r\n                    if (ep._mtNew && ep.connections.length === 0) {\r\n                        _currentInstance.deleteObject({endpoint: ep});\r\n                    }\r\n                    else {\r\n                        delete ep._mtNew;\r\n                    }\r\n                }\r\n            });\r\n\r\n            // wrap drop events as needed and initialise droppable\r\n            var dropEvent = root.jsPlumb.dragEvents.drop;\r\n            dropOptions.scope = dropOptions.scope || (p.scope || _currentInstance.Defaults.Scope);\r\n            dropOptions[dropEvent] = _ju.wrap(dropOptions[dropEvent], _drop, true);\r\n            dropOptions.rank = p.rank || 0;\r\n\r\n            // if target, return true from the over event. this will cause katavorio to stop setting drops to hover\r\n            // if multipleDrop is set to false.\r\n            if (isTarget) {\r\n                dropOptions[root.jsPlumb.dragEvents.over] = function () { return true; };\r\n            }\r\n\r\n            // vanilla jsplumb only\r\n            if (p.allowLoopback === false) {\r\n                dropOptions.canDrop = function (_drag) {\r\n                    var de = _drag.getDragElement()._jsPlumbRelatedElement;\r\n                    return de !== elInfo.el;\r\n                };\r\n            }\r\n            _currentInstance.initDroppable(elInfo.el, dropOptions, \"internal\");\r\n\r\n            return _drop;\r\n\r\n        };\r\n\r\n        // see API docs\r\n        this.makeTarget = function (el, params, referenceParams) {\r\n\r\n            // put jsplumb ref into params without altering the params passed in\r\n            var p = root.jsPlumb.extend({_jsPlumb: this}, referenceParams);\r\n            root.jsPlumb.extend(p, params);\r\n\r\n            var maxConnections = p.maxConnections || -1,\r\n\r\n                _doOne = function (el) {\r\n\r\n                    // get the element's id and store the endpoint definition for it.  jsPlumb.connect calls will look for one of these,\r\n                    // and use the endpoint definition if found.\r\n                    // decode the info for this element (id and element)\r\n                    var elInfo = _info(el),\r\n                        elid = elInfo.id,\r\n                        dropOptions = root.jsPlumb.extend({}, p.dropOptions || {}),\r\n                        type = p.connectionType || \"default\";\r\n\r\n                    this.targetEndpointDefinitions[elid] = this.targetEndpointDefinitions[elid] || {};\r\n\r\n                    _ensureContainer(elid);\r\n\r\n                    // if this is a group and the user has not mandated a rank, set to -1 so that Nodes takes\r\n                    // precedence.\r\n                    if (elInfo.el._isJsPlumbGroup && dropOptions.rank == null) {\r\n                        dropOptions.rank = -1;\r\n                    }\r\n\r\n                    // store the definition\r\n                    var _def = {\r\n                        def: root.jsPlumb.extend({}, p),\r\n                        uniqueEndpoint: p.uniqueEndpoint,\r\n                        maxConnections: maxConnections,\r\n                        enabled: true\r\n                    };\r\n\r\n                    if (p.createEndpoint) {\r\n                        _def.uniqueEndpoint = true;\r\n                        _def.endpoint = _currentInstance.addEndpoint(el, _def.def);\r\n                        _def.endpoint.setDeleteOnEmpty(false);\r\n                    }\r\n\r\n                    elInfo.def = _def;\r\n                    this.targetEndpointDefinitions[elid][type] = _def;\r\n                    _makeElementDropHandler(elInfo, p, dropOptions, p.isSource === true, true);\r\n                    // stash the definition on the drop\r\n                    elInfo.el._katavorioDrop[elInfo.el._katavorioDrop.length - 1].targetDef = _def;\r\n\r\n                }.bind(this);\r\n\r\n            // make an array if only given one element\r\n            var inputs = el.length && el.constructor !== String ? el : [ el ];\r\n\r\n            // register each one in the list.\r\n            for (var i = 0, ii = inputs.length; i < ii; i++) {\r\n                _doOne(inputs[i]);\r\n            }\r\n\r\n            return this;\r\n        };\r\n\r\n        // see api docs\r\n        this.unmakeTarget = function (el, doNotClearArrays) {\r\n            var info = _info(el);\r\n            _currentInstance.destroyDroppable(info.el, \"internal\");\r\n            if (!doNotClearArrays) {\r\n                delete this.targetEndpointDefinitions[info.id];\r\n            }\r\n\r\n            return this;\r\n        };\r\n\r\n        // see api docs\r\n        this.makeSource = function (el, params, referenceParams) {\r\n            var p = root.jsPlumb.extend({_jsPlumb: this}, referenceParams);\r\n            root.jsPlumb.extend(p, params);\r\n            var type = p.connectionType || \"default\";\r\n            var aae = _currentInstance.deriveEndpointAndAnchorSpec(type);\r\n            p.endpoint = p.endpoint || aae.endpoints[0];\r\n            p.anchor = p.anchor || aae.anchors[0];\r\n            var maxConnections = p.maxConnections || -1,\r\n                onMaxConnections = p.onMaxConnections,\r\n                _doOne = function (elInfo) {\r\n                    // get the element's id and store the endpoint definition for it.  jsPlumb.connect calls will look for one of these,\r\n                    // and use the endpoint definition if found.\r\n                    var elid = elInfo.id,\r\n                        _del = this.getElement(elInfo.el);\r\n\r\n                    this.sourceEndpointDefinitions[elid] = this.sourceEndpointDefinitions[elid] || {};\r\n                    _ensureContainer(elid);\r\n\r\n                    var _def = {\r\n                        def:root.jsPlumb.extend({}, p),\r\n                        uniqueEndpoint: p.uniqueEndpoint,\r\n                        maxConnections: maxConnections,\r\n                        enabled: true\r\n                    };\r\n\r\n                    if (p.createEndpoint) {\r\n                        _def.uniqueEndpoint = true;\r\n                        _def.endpoint = _currentInstance.addEndpoint(el, _def.def);\r\n                        _def.endpoint.setDeleteOnEmpty(false);\r\n                    }\r\n\r\n                    this.sourceEndpointDefinitions[elid][type] = _def;\r\n                    elInfo.def = _def;\r\n\r\n                    var stopEvent = root.jsPlumb.dragEvents.stop,\r\n                        dragEvent = root.jsPlumb.dragEvents.drag,\r\n                        dragOptions = root.jsPlumb.extend({ }, p.dragOptions || {}),\r\n                        existingDrag = dragOptions.drag,\r\n                        existingStop = dragOptions.stop,\r\n                        ep = null,\r\n                        endpointAddedButNoDragYet = false;\r\n\r\n                    // set scope if its not set in dragOptions but was passed in in params\r\n                    dragOptions.scope = dragOptions.scope || p.scope;\r\n\r\n                    dragOptions[dragEvent] = _ju.wrap(dragOptions[dragEvent], function () {\r\n                        if (existingDrag) {\r\n                            existingDrag.apply(this, arguments);\r\n                        }\r\n                        endpointAddedButNoDragYet = false;\r\n                    });\r\n\r\n                    dragOptions[stopEvent] = _ju.wrap(dragOptions[stopEvent], function () {\r\n\r\n                        if (existingStop) {\r\n                            existingStop.apply(this, arguments);\r\n                        }\r\n                        this.currentlyDragging = false;\r\n                        if (ep._jsPlumb != null) { // if not cleaned up...\r\n\r\n                            // reset the anchor to the anchor that was initially provided. the one we were using to drag\r\n                            // the connection was just a placeholder that was located at the place the user pressed the\r\n                            // mouse button to initiate the drag.\r\n                            var anchorDef = p.anchor || this.Defaults.Anchor,\r\n                                oldAnchor = ep.anchor,\r\n                                oldConnection = ep.connections[0];\r\n\r\n                            var    newAnchor = this.makeAnchor(anchorDef, elid, this),\r\n                                _el = ep.element;\r\n\r\n                            // if the anchor has a 'positionFinder' set, then delegate to that function to find\r\n                            // out where to locate the anchor. issue 117.\r\n                            if (newAnchor.positionFinder != null) {\r\n                                var elPosition = _currentInstance.getOffset(_el),\r\n                                    elSize = this.getSize(_el),\r\n                                    dropPosition = { left: elPosition.left + (oldAnchor.x * elSize[0]), top: elPosition.top + (oldAnchor.y * elSize[1]) },\r\n                                    ap = newAnchor.positionFinder(dropPosition, elPosition, elSize, newAnchor.constructorParams);\r\n\r\n                                newAnchor.x = ap[0];\r\n                                newAnchor.y = ap[1];\r\n                            }\r\n\r\n                            ep.setAnchor(newAnchor, true);\r\n                            ep.repaint();\r\n                            this.repaint(ep.elementId);\r\n                            if (oldConnection != null) {\r\n                                this.repaint(oldConnection.targetId);\r\n                            }\r\n                        }\r\n                    }.bind(this));\r\n\r\n                    // when the user presses the mouse, add an Endpoint, if we are enabled.\r\n                    var mouseDownListener = function (e) {\r\n                        // on right mouse button, abort.\r\n                        if (e.which === 3 || e.button === 2) {\r\n                            return;\r\n                        }\r\n\r\n                        // TODO store def on element.\r\n                        var def = this.sourceEndpointDefinitions[elid][type];\r\n\r\n                        // if disabled, return.\r\n                        if (!def.enabled) {\r\n                            return;\r\n                        }\r\n\r\n                        elid = this.getId(this.getElement(elInfo.el)); // elid might have changed since this method was called to configure the element.\r\n\r\n                        // if a filter was given, run it, and return if it says no.\r\n                        if (p.filter) {\r\n                            var r = _ju.isString(p.filter) ? selectorFilter(e, elInfo.el, p.filter, this, p.filterExclude) : p.filter(e, elInfo.el);\r\n                            if (r === false) {\r\n                                return;\r\n                            }\r\n                        }\r\n\r\n                        // if maxConnections reached\r\n                        var sourceCount = this.select({source: elid}).length;\r\n                        if (def.maxConnections >= 0 && (sourceCount >= def.maxConnections)) {\r\n                            if (onMaxConnections) {\r\n                                onMaxConnections({\r\n                                    element: elInfo.el,\r\n                                    maxConnections: maxConnections\r\n                                }, e);\r\n                            }\r\n                            return false;\r\n                        }\r\n\r\n                        // find the position on the element at which the mouse was pressed; this is where the endpoint\r\n                        // will be located.\r\n                        var elxy = root.jsPlumb.getPositionOnElement(e, _del, _zoom);\r\n\r\n                        // we need to override the anchor in here, and force 'isSource', but we don't want to mess with\r\n                        // the params passed in, because after a connection is established we're going to reset the endpoint\r\n                        // to have the anchor we were given.\r\n                        var tempEndpointParams = {};\r\n                        root.jsPlumb.extend(tempEndpointParams, def.def);\r\n                        tempEndpointParams.isTemporarySource = true;\r\n                        tempEndpointParams.anchor = [ elxy[0], elxy[1] , 0, 0];\r\n                        tempEndpointParams.dragOptions = dragOptions;\r\n\r\n                        if (def.def.scope) {\r\n                            tempEndpointParams.scope = def.def.scope;\r\n                        }\r\n\r\n                        ep = this.addEndpoint(elid, tempEndpointParams);\r\n                        endpointAddedButNoDragYet = true;\r\n                        ep.setDeleteOnEmpty(true);\r\n\r\n                        // if unique endpoint and it's already been created, push it onto the endpoint we create. at the end\r\n                        // of a successful connection we'll switch to that endpoint.\r\n                        // TODO this is the same code as the programmatic endpoints create on line 1050 ish\r\n                        if (def.uniqueEndpoint) {\r\n                            if (!def.endpoint) {\r\n                                def.endpoint = ep;\r\n                                ep.setDeleteOnEmpty(false);\r\n                            }\r\n                            else {\r\n                                ep.finalEndpoint = def.endpoint;\r\n                            }\r\n                        }\r\n\r\n                        var _delTempEndpoint = function () {\r\n                            // this mouseup event is fired only if no dragging occurred, by jquery and yui, but for mootools\r\n                            // it is fired even if dragging has occurred, in which case we would blow away a perfectly\r\n                            // legitimate endpoint, were it not for this check.  the flag is set after adding an\r\n                            // endpoint and cleared in a drag listener we set in the dragOptions above.\r\n                            _currentInstance.off(ep.canvas, \"mouseup\", _delTempEndpoint);\r\n                            _currentInstance.off(elInfo.el, \"mouseup\", _delTempEndpoint);\r\n                            if (endpointAddedButNoDragYet) {\r\n                                endpointAddedButNoDragYet = false;\r\n                                _currentInstance.deleteEndpoint(ep);\r\n                            }\r\n                        };\r\n\r\n                        _currentInstance.on(ep.canvas, \"mouseup\", _delTempEndpoint);\r\n                        _currentInstance.on(elInfo.el, \"mouseup\", _delTempEndpoint);\r\n\r\n                        // optionally check for attributes to extract from the source element\r\n                        var payload = {};\r\n                        if (def.def.extract) {\r\n                            for (var att in def.def.extract) {\r\n                                var v = (e.srcElement || e.target).getAttribute(att);\r\n                                if (v) {\r\n                                    payload[def.def.extract[att]] = v;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        // and then trigger its mousedown event, which will kick off a drag, which will start dragging\r\n                        // a new connection from this endpoint.\r\n                        _currentInstance.trigger(ep.canvas, \"mousedown\", e, payload);\r\n\r\n                        _ju.consume(e);\r\n\r\n                    }.bind(this);\r\n\r\n                    this.on(elInfo.el, \"mousedown\", mouseDownListener);\r\n                    _def.trigger = mouseDownListener;\r\n\r\n                    // if a filter was provided, set it as a dragFilter on the element,\r\n                    // to prevent the element drag function from kicking in when we want to\r\n                    // drag a new connection\r\n                    if (p.filter && (_ju.isString(p.filter) || _ju.isFunction(p.filter))) {\r\n                        _currentInstance.setDragFilter(elInfo.el, p.filter);\r\n                    }\r\n\r\n                    var dropOptions = root.jsPlumb.extend({}, p.dropOptions || {});\r\n\r\n                    _makeElementDropHandler(elInfo, p, dropOptions, true, p.isTarget === true);\r\n\r\n                }.bind(this);\r\n\r\n            var inputs = el.length && el.constructor !== String ? el : [ el ];\r\n            for (var i = 0, ii = inputs.length; i < ii; i++) {\r\n                _doOne(_info(inputs[i]));\r\n            }\r\n\r\n            return this;\r\n        };\r\n\r\n        // see api docs\r\n        this.unmakeSource = function (el, connectionType, doNotClearArrays) {\r\n            var info = _info(el);\r\n            _currentInstance.destroyDroppable(info.el, \"internal\");\r\n            var eldefs = this.sourceEndpointDefinitions[info.id];\r\n            if (eldefs) {\r\n                for (var def in eldefs) {\r\n                    if (connectionType == null || connectionType === def) {\r\n                        var mouseDownListener = eldefs[def].trigger;\r\n                        if (mouseDownListener) {\r\n                            _currentInstance.off(info.el, \"mousedown\", mouseDownListener);\r\n                        }\r\n                        if (!doNotClearArrays) {\r\n                            delete this.sourceEndpointDefinitions[info.id][def];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return this;\r\n        };\r\n\r\n        // see api docs\r\n        this.unmakeEverySource = function () {\r\n            for (var i in this.sourceEndpointDefinitions) {\r\n                _currentInstance.unmakeSource(i, null, true);\r\n            }\r\n\r\n            this.sourceEndpointDefinitions = {};\r\n            return this;\r\n        };\r\n\r\n        var _getScope = function (el, types, connectionType) {\r\n            types = _ju.isArray(types) ? types : [ types ];\r\n            var id = _getId(el);\r\n            connectionType = connectionType || \"default\";\r\n            for (var i = 0; i < types.length; i++) {\r\n                var eldefs = this[types[i]][id];\r\n                if (eldefs && eldefs[connectionType]) {\r\n                    return eldefs[connectionType].def.scope || this.Defaults.Scope;\r\n                }\r\n            }\r\n        }.bind(this);\r\n\r\n        var _setScope = function (el, scope, types, connectionType) {\r\n            types = _ju.isArray(types) ? types : [ types ];\r\n            var id = _getId(el);\r\n            connectionType = connectionType || \"default\";\r\n            for (var i = 0; i < types.length; i++) {\r\n                var eldefs = this[types[i]][id];\r\n                if (eldefs && eldefs[connectionType]) {\r\n                    eldefs[connectionType].def.scope = scope;\r\n                }\r\n            }\r\n\r\n        }.bind(this);\r\n\r\n        this.getScope = function (el, scope) {\r\n            return _getScope(el, [ \"sourceEndpointDefinitions\", \"targetEndpointDefinitions\" ]);\r\n        };\r\n        this.getSourceScope = function (el) {\r\n            return _getScope(el, \"sourceEndpointDefinitions\");\r\n        };\r\n        this.getTargetScope = function (el) {\r\n            return _getScope(el, \"targetEndpointDefinitions\");\r\n        };\r\n        this.setScope = function (el, scope, connectionType) {\r\n            this.setSourceScope(el, scope, connectionType);\r\n            this.setTargetScope(el, scope, connectionType);\r\n        };\r\n        this.setSourceScope = function (el, scope, connectionType) {\r\n            _setScope(el, scope, \"sourceEndpointDefinitions\", connectionType);\r\n            // we get the source scope during the mousedown event, but we also want to set this.\r\n            this.setDragScope(el, scope);\r\n        };\r\n        this.setTargetScope = function (el, scope, connectionType) {\r\n            _setScope(el, scope, \"targetEndpointDefinitions\", connectionType);\r\n            this.setDropScope(el, scope);\r\n        };\r\n\r\n        // see api docs\r\n        this.unmakeEveryTarget = function () {\r\n            for (var i in this.targetEndpointDefinitions) {\r\n                _currentInstance.unmakeTarget(i, true);\r\n            }\r\n\r\n            this.targetEndpointDefinitions = {};\r\n            return this;\r\n        };\r\n\r\n        // does the work of setting a source enabled or disabled.\r\n        var _setEnabled = function (type, el, state, toggle, connectionType) {\r\n            var a = type === \"source\" ? this.sourceEndpointDefinitions : this.targetEndpointDefinitions,\r\n                originalState, info, newState;\r\n\r\n            connectionType = connectionType || \"default\";\r\n\r\n            // a selector or an array\r\n            if (el.length && !_ju.isString(el)) {\r\n                originalState = [];\r\n                for (var i = 0, ii = el.length; i < ii; i++) {\r\n                    info = _info(el[i]);\r\n                    if (a[info.id] && a[info.id][connectionType]) {\r\n                        originalState[i] = a[info.id][connectionType].enabled;\r\n                        newState = toggle ? !originalState[i] : state;\r\n                        a[info.id][connectionType].enabled = newState;\r\n                        _currentInstance[newState ? \"removeClass\" : \"addClass\"](info.el, \"jtk-\" + type + \"-disabled\");\r\n                    }\r\n                }\r\n            }\r\n            // otherwise a DOM element or a String ID.\r\n            else {\r\n                info = _info(el);\r\n                var id = info.id;\r\n                if (a[id] && a[id][connectionType]) {\r\n                    originalState = a[id][connectionType].enabled;\r\n                    newState = toggle ? !originalState : state;\r\n                    a[id][connectionType].enabled = newState;\r\n                    _currentInstance[newState ? \"removeClass\" : \"addClass\"](info.el, \"jtk-\" + type + \"-disabled\");\r\n                }\r\n            }\r\n            return originalState;\r\n        }.bind(this);\r\n\r\n        var _first = function (el, fn) {\r\n            if (_ju.isString(el) || !el.length) {\r\n                return fn.apply(this, [ el ]);\r\n            }\r\n            else if (el.length) {\r\n                return fn.apply(this, [ el[0] ]);\r\n            }\r\n\r\n        }.bind(this);\r\n\r\n        this.toggleSourceEnabled = function (el, connectionType) {\r\n            _setEnabled(\"source\", el, null, true, connectionType);\r\n            return this.isSourceEnabled(el, connectionType);\r\n        };\r\n\r\n        this.setSourceEnabled = function (el, state, connectionType) {\r\n            return _setEnabled(\"source\", el, state, null, connectionType);\r\n        };\r\n        this.isSource = function (el, connectionType) {\r\n            connectionType = connectionType || \"default\";\r\n            return _first(el, function (_el) {\r\n                var eldefs = this.sourceEndpointDefinitions[_info(_el).id];\r\n                return eldefs != null && eldefs[connectionType] != null;\r\n            }.bind(this));\r\n        };\r\n        this.isSourceEnabled = function (el, connectionType) {\r\n            connectionType = connectionType || \"default\";\r\n            return _first(el, function (_el) {\r\n                var sep = this.sourceEndpointDefinitions[_info(_el).id];\r\n                return sep && sep[connectionType] && sep[connectionType].enabled === true;\r\n            }.bind(this));\r\n        };\r\n\r\n        this.toggleTargetEnabled = function (el, connectionType) {\r\n            _setEnabled(\"target\", el, null, true, connectionType);\r\n            return this.isTargetEnabled(el, connectionType);\r\n        };\r\n\r\n        this.isTarget = function (el, connectionType) {\r\n            connectionType = connectionType || \"default\";\r\n            return _first(el, function (_el) {\r\n                var eldefs = this.targetEndpointDefinitions[_info(_el).id];\r\n                return eldefs != null && eldefs[connectionType] != null;\r\n            }.bind(this));\r\n        };\r\n        this.isTargetEnabled = function (el, connectionType) {\r\n            connectionType = connectionType || \"default\";\r\n            return _first(el, function (_el) {\r\n                var tep = this.targetEndpointDefinitions[_info(_el).id];\r\n                return tep && tep[connectionType] && tep[connectionType].enabled === true;\r\n            }.bind(this));\r\n        };\r\n        this.setTargetEnabled = function (el, state, connectionType) {\r\n            return _setEnabled(\"target\", el, state, null, connectionType);\r\n        };\r\n\r\n// --------------------- end makeSource/makeTarget ----------------------------------------------\r\n\r\n        this.ready = function (fn) {\r\n            _currentInstance.bind(\"ready\", fn);\r\n        };\r\n\r\n        var _elEach = function(el, fn) {\r\n            // support both lists...\r\n            if (typeof el === 'object' && el.length) {\r\n                for (var i = 0, ii = el.length; i < ii; i++) {\r\n                    fn(el[i]);\r\n                }\r\n            }\r\n            else {// ...and single strings or elements.\r\n                fn(el);\r\n            }\r\n\r\n            return _currentInstance;\r\n        };\r\n\r\n        // repaint some element's endpoints and connections\r\n        this.repaint = function (el, ui, timestamp) {\r\n            return _elEach(el, function(_el) {\r\n                _draw(_el, ui, timestamp);\r\n            });\r\n        };\r\n\r\n        this.revalidate = function (el, timestamp, isIdAlready) {\r\n            return _elEach(el, function(_el) {\r\n                var elId = isIdAlready ? _el : _currentInstance.getId(_el);\r\n                _currentInstance.updateOffset({ elId: elId, recalc: true, timestamp:timestamp });\r\n                var dm = _currentInstance.getDragManager();\r\n                if (dm) {\r\n                    dm.updateOffsets(elId);\r\n                }\r\n                _currentInstance.repaint(_el);\r\n            });\r\n        };\r\n\r\n        // repaint every endpoint and connection.\r\n        this.repaintEverything = function () {\r\n            // TODO this timestamp causes continuous anchors to not repaint properly.\r\n            // fix this. do not just take out the timestamp. it runs a lot faster with\r\n            // the timestamp included.\r\n            var timestamp = _timestamp(), elId;\r\n\r\n            for (elId in endpointsByElement) {\r\n                _currentInstance.updateOffset({ elId: elId, recalc: true, timestamp: timestamp });\r\n            }\r\n\r\n            for (elId in endpointsByElement) {\r\n                _draw(elId, null, timestamp);\r\n            }\r\n\r\n            return this;\r\n        };\r\n\r\n        this.removeAllEndpoints = function (el, recurse, affectedElements) {\r\n            affectedElements = affectedElements || [];\r\n            var _one = function (_el) {\r\n                var info = _info(_el),\r\n                    ebe = endpointsByElement[info.id],\r\n                    i, ii;\r\n\r\n                if (ebe) {\r\n                    affectedElements.push(info);\r\n                    for (i = 0, ii = ebe.length; i < ii; i++) {\r\n                        _currentInstance.deleteEndpoint(ebe[i], false);\r\n                    }\r\n                }\r\n                delete endpointsByElement[info.id];\r\n\r\n                if (recurse) {\r\n                    if (info.el && info.el.nodeType !== 3 && info.el.nodeType !== 8) {\r\n                        for (i = 0, ii = info.el.childNodes.length; i < ii; i++) {\r\n                            _one(info.el.childNodes[i]);\r\n                        }\r\n                    }\r\n                }\r\n\r\n            };\r\n            _one(el);\r\n            return this;\r\n        };\r\n\r\n        var _doRemove = function(info, affectedElements) {\r\n            _currentInstance.removeAllEndpoints(info.id, true, affectedElements);\r\n            var dm = _currentInstance.getDragManager();\r\n            var _one = function(_info) {\r\n\r\n                if (dm) {\r\n                    dm.elementRemoved(_info.id);\r\n                }\r\n                _currentInstance.anchorManager.clearFor(_info.id);\r\n                _currentInstance.anchorManager.removeFloatingConnection(_info.id);\r\n\r\n                if (_currentInstance.isSource(_info.el)) {\r\n                    _currentInstance.unmakeSource(_info.el);\r\n                }\r\n                if (_currentInstance.isTarget(_info.el)) {\r\n                    _currentInstance.unmakeTarget(_info.el);\r\n                }\r\n                _currentInstance.destroyDraggable(_info.el);\r\n                _currentInstance.destroyDroppable(_info.el);\r\n\r\n\r\n                delete _currentInstance.floatingConnections[_info.id];\r\n                delete managedElements[_info.id];\r\n                delete offsets[_info.id];\r\n                if (_info.el) {\r\n                    _currentInstance.removeElement(_info.el);\r\n                    _info.el._jsPlumb = null;\r\n                }\r\n            };\r\n\r\n            // remove all affected child elements\r\n            for (var ae = 1; ae < affectedElements.length; ae++) {\r\n                _one(affectedElements[ae]);\r\n            }\r\n            // and always remove the requested one from the dom.\r\n            _one(info);\r\n        };\r\n\r\n        /**\r\n         * Remove the given element, including cleaning up all endpoints registered for it.\r\n         * This is exposed in the public API but also used internally by jsPlumb when removing the\r\n         * element associated with a connection drag.\r\n         */\r\n        this.remove = function (el, doNotRepaint) {\r\n            var info = _info(el), affectedElements = [];\r\n            if (info.text && info.el.parentNode) {\r\n                info.el.parentNode.removeChild(info.el);\r\n            }\r\n            else if (info.id) {\r\n                _currentInstance.batch(function () {\r\n                    _doRemove(info, affectedElements);\r\n                }, doNotRepaint === true);\r\n            }\r\n            return _currentInstance;\r\n        };\r\n\r\n        this.empty = function (el, doNotRepaint) {\r\n            var affectedElements = [];\r\n            var _one = function(el, dontRemoveFocus) {\r\n                var info = _info(el);\r\n                if (info.text) {\r\n                    info.el.parentNode.removeChild(info.el);\r\n                }\r\n                else if (info.el) {\r\n                    while(info.el.childNodes.length > 0) {\r\n                        _one(info.el.childNodes[0]);\r\n                    }\r\n                    if (!dontRemoveFocus) {\r\n                        _doRemove(info, affectedElements);\r\n                    }\r\n                }\r\n            };\r\n\r\n            _currentInstance.batch(function() {\r\n                _one(el, true);\r\n            }, doNotRepaint === false);\r\n\r\n            return _currentInstance;\r\n        };\r\n\r\n        this.reset = function (doNotUnbindInstanceEventListeners) {\r\n            _currentInstance.silently(function() {\r\n                _hoverSuspended = false;\r\n                _currentInstance.removeAllGroups();\r\n                _currentInstance.removeGroupManager();\r\n                _currentInstance.deleteEveryEndpoint();\r\n                if (!doNotUnbindInstanceEventListeners) {\r\n                    _currentInstance.unbind();\r\n                }\r\n                this.targetEndpointDefinitions = {};\r\n                this.sourceEndpointDefinitions = {};\r\n                connections.length = 0;\r\n                if (this.doReset) {\r\n                    this.doReset();\r\n                }\r\n            }.bind(this));\r\n        };\r\n\r\n        var _clearObject = function (obj) {\r\n            if (obj.canvas && obj.canvas.parentNode) {\r\n                obj.canvas.parentNode.removeChild(obj.canvas);\r\n            }\r\n            obj.cleanup();\r\n            obj.destroy();\r\n        };\r\n\r\n        this.clear = function () {\r\n            _currentInstance.select().each(_clearObject);\r\n            _currentInstance.selectEndpoints().each(_clearObject);\r\n\r\n            endpointsByElement = {};\r\n            endpointsByUUID = {};\r\n        };\r\n\r\n        this.setDefaultScope = function (scope) {\r\n            DEFAULT_SCOPE = scope;\r\n            return _currentInstance;\r\n        };\r\n\r\n        this.deriveEndpointAndAnchorSpec = function(type, dontPrependDefault) {\r\n            var bits = ((dontPrependDefault ? \"\" : \"default \") + type).split(/[\\s]/), eps = null, ep = null, a = null, as = null;\r\n            for (var i = 0; i < bits.length; i++) {\r\n                var _t = _currentInstance.getType(bits[i], \"connection\");\r\n                if (_t) {\r\n                    if (_t.endpoints) {\r\n                        eps = _t.endpoints;\r\n                    }\r\n                    if (_t.endpoint) {\r\n                        ep = _t.endpoint;\r\n                    }\r\n                    if (_t.anchors) {\r\n                        as = _t.anchors;\r\n                    }\r\n                    if (_t.anchor) {\r\n                        a = _t.anchor;\r\n                    }\r\n                }\r\n            }\r\n            return { endpoints: eps ? eps : [ ep, ep ], anchors: as ? as : [a, a ]};\r\n        };\r\n\r\n        // sets the id of some element, changing whatever we need to to keep track.\r\n        this.setId = function (el, newId, doNotSetAttribute) {\r\n            //\r\n            var id;\r\n\r\n            if (_ju.isString(el)) {\r\n                id = el;\r\n            }\r\n            else {\r\n                el = this.getElement(el);\r\n                id = this.getId(el);\r\n            }\r\n\r\n            var sConns = this.getConnections({source: id, scope: '*'}, true),\r\n                tConns = this.getConnections({target: id, scope: '*'}, true);\r\n\r\n            newId = \"\" + newId;\r\n\r\n            if (!doNotSetAttribute) {\r\n                el = this.getElement(id);\r\n                this.setAttribute(el, \"id\", newId);\r\n            }\r\n            else {\r\n                el = this.getElement(newId);\r\n            }\r\n\r\n            endpointsByElement[newId] = endpointsByElement[id] || [];\r\n            for (var i = 0, ii = endpointsByElement[newId].length; i < ii; i++) {\r\n                endpointsByElement[newId][i].setElementId(newId);\r\n                endpointsByElement[newId][i].setReferenceElement(el);\r\n            }\r\n            delete endpointsByElement[id];\r\n\r\n            this.sourceEndpointDefinitions[newId] = this.sourceEndpointDefinitions[id];\r\n            delete this.sourceEndpointDefinitions[id];\r\n            this.targetEndpointDefinitions[newId] = this.targetEndpointDefinitions[id];\r\n            delete this.targetEndpointDefinitions[id];\r\n\r\n            this.anchorManager.changeId(id, newId);\r\n            var dm = this.getDragManager();\r\n            if (dm) {\r\n                dm.changeId(id, newId);\r\n            }\r\n            managedElements[newId] = managedElements[id];\r\n            delete managedElements[id];\r\n\r\n            var _conns = function (list, epIdx, type) {\r\n                for (var i = 0, ii = list.length; i < ii; i++) {\r\n                    list[i].endpoints[epIdx].setElementId(newId);\r\n                    list[i].endpoints[epIdx].setReferenceElement(el);\r\n                    list[i][type + \"Id\"] = newId;\r\n                    list[i][type] = el;\r\n                }\r\n            };\r\n            _conns(sConns, 0, \"source\");\r\n            _conns(tConns, 1, \"target\");\r\n\r\n            this.repaint(newId);\r\n        };\r\n\r\n        this.setDebugLog = function (debugLog) {\r\n            log = debugLog;\r\n        };\r\n\r\n        this.setSuspendDrawing = function (val, repaintAfterwards) {\r\n            var curVal = _suspendDrawing;\r\n            _suspendDrawing = val;\r\n            if (val) {\r\n                _suspendedAt = new Date().getTime();\r\n            } else {\r\n                _suspendedAt = null;\r\n            }\r\n            if (repaintAfterwards) {\r\n                this.repaintEverything();\r\n            }\r\n            return curVal;\r\n        };\r\n\r\n        // returns whether or not drawing is currently suspended.\r\n        this.isSuspendDrawing = function () {\r\n            return _suspendDrawing;\r\n        };\r\n\r\n        // return timestamp for when drawing was suspended.\r\n        this.getSuspendedAt = function () {\r\n            return _suspendedAt;\r\n        };\r\n\r\n        this.batch = function (fn, doNotRepaintAfterwards) {\r\n            var _wasSuspended = this.isSuspendDrawing();\r\n            if (!_wasSuspended) {\r\n                this.setSuspendDrawing(true);\r\n            }\r\n            try {\r\n                fn();\r\n            }\r\n            catch (e) {\r\n                _ju.log(\"Function run while suspended failed\", e);\r\n            }\r\n            if (!_wasSuspended) {\r\n                this.setSuspendDrawing(false, !doNotRepaintAfterwards);\r\n            }\r\n        };\r\n\r\n        this.doWhileSuspended = this.batch;\r\n\r\n        this.getCachedData = _getCachedData;\r\n        this.timestamp = _timestamp;\r\n        this.show = function (el, changeEndpoints) {\r\n            _setVisible(el, \"block\", changeEndpoints);\r\n            return _currentInstance;\r\n        };\r\n\r\n        // TODO: update this method to return the current state.\r\n        this.toggleVisible = _toggleVisible;\r\n        this.addListener = this.bind;\r\n\r\n        var floatingConnections = [];\r\n        this.registerFloatingConnection = function(info, conn, ep) {\r\n            floatingConnections[info.id] = conn;\r\n            // only register for the target endpoint; we will not be dragging the source at any time\r\n            // before this connection is either discarded or made into a permanent connection.\r\n            _ju.addToList(endpointsByElement, info.id, ep);\r\n        };\r\n        this.getFloatingConnectionFor = function(id) {\r\n            return floatingConnections[id];\r\n        };\r\n\r\n        this.listManager = new root.jsPlumbListManager(this);\r\n    };\r\n\r\n    _ju.extend(root.jsPlumbInstance, _ju.EventGenerator, {\r\n        setAttribute: function (el, a, v) {\r\n            this.setAttribute(el, a, v);\r\n        },\r\n        getAttribute: function (el, a) {\r\n            return this.getAttribute(root.jsPlumb.getElement(el), a);\r\n        },\r\n        convertToFullOverlaySpec: function(spec) {\r\n            if (_ju.isString(spec)) {\r\n                spec = [ spec, { } ];\r\n            }\r\n            spec[1].id = spec[1].id || _ju.uuid();\r\n            return spec;\r\n        },\r\n        registerConnectionType: function (id, type) {\r\n            this._connectionTypes[id] = root.jsPlumb.extend({}, type);\r\n            if (type.overlays) {\r\n                var to = {};\r\n                for (var i = 0; i < type.overlays.length; i++) {\r\n                    // if a string, convert to object representation so that we can store the typeid on it.\r\n                    // also assign an id.\r\n                    var fo = this.convertToFullOverlaySpec(type.overlays[i]);\r\n                    to[fo[1].id] = fo;\r\n                }\r\n                this._connectionTypes[id].overlays = to;\r\n            }\r\n        },\r\n        registerConnectionTypes: function (types) {\r\n            for (var i in types) {\r\n                this.registerConnectionType(i, types[i]);\r\n            }\r\n        },\r\n        registerEndpointType: function (id, type) {\r\n            this._endpointTypes[id] = root.jsPlumb.extend({}, type);\r\n            if (type.overlays) {\r\n                var to = {};\r\n                for (var i = 0; i < type.overlays.length; i++) {\r\n                    // if a string, convert to object representation so that we can store the typeid on it.\r\n                    // also assign an id.\r\n                    var fo = this.convertToFullOverlaySpec(type.overlays[i]);\r\n                    to[fo[1].id] = fo;\r\n                }\r\n                this._endpointTypes[id].overlays = to;\r\n            }\r\n        },\r\n        registerEndpointTypes: function (types) {\r\n            for (var i in types) {\r\n                this.registerEndpointType(i, types[i]);\r\n            }\r\n        },\r\n        getType: function (id, typeDescriptor) {\r\n            return typeDescriptor === \"connection\" ? this._connectionTypes[id] : this._endpointTypes[id];\r\n        },\r\n        setIdChanged: function (oldId, newId) {\r\n            this.setId(oldId, newId, true);\r\n        },\r\n        // set parent: change the parent for some node and update all the registrations we need to.\r\n        setParent: function (el, newParent) {\r\n            var _dom = this.getElement(el),\r\n                _id = this.getId(_dom),\r\n                _pdom = this.getElement(newParent),\r\n                _pid = this.getId(_pdom),\r\n                dm = this.getDragManager();\r\n\r\n            _dom.parentNode.removeChild(_dom);\r\n            _pdom.appendChild(_dom);\r\n            if (dm) {\r\n                dm.setParent(_dom, _id, _pdom, _pid);\r\n            }\r\n        },\r\n        extend: function (o1, o2, names) {\r\n            var i;\r\n            if (names) {\r\n                for (i = 0; i < names.length; i++) {\r\n                    o1[names[i]] = o2[names[i]];\r\n                }\r\n            }\r\n            else {\r\n                for (i in o2) {\r\n                    o1[i] = o2[i];\r\n                }\r\n            }\r\n\r\n            return o1;\r\n        },\r\n        floatingConnections: {},\r\n        getFloatingAnchorIndex: function (jpc) {\r\n            return jpc.endpoints[0].isFloating() ? 0 : jpc.endpoints[1].isFloating() ? 1 : -1;\r\n        },\r\n        proxyConnection :function(connection, index, proxyEl, proxyElId, endpointGenerator, anchorGenerator) {\r\n            var proxyEp,\r\n                originalElementId = connection.endpoints[index].elementId,\r\n                originalEndpoint = connection.endpoints[index];\r\n\r\n            connection.proxies = connection.proxies || [];\r\n            if(connection.proxies[index]) {\r\n                proxyEp = connection.proxies[index].ep;\r\n            }else {\r\n                proxyEp = this.addEndpoint(proxyEl, {\r\n                    endpoint:endpointGenerator(connection, index),\r\n                    anchor:anchorGenerator(connection, index),\r\n                    parameters:{\r\n                        isProxyEndpoint:true\r\n                    }\r\n                });\r\n            }\r\n            proxyEp.setDeleteOnEmpty(true);\r\n\r\n            // for this index, stash proxy info: the new EP, the original EP.\r\n            connection.proxies[index] = { ep:proxyEp, originalEp: originalEndpoint };\r\n\r\n            // and advise the anchor manager\r\n            if (index === 0) {\r\n                // TODO why are there two differently named methods? Why is there not one method that says \"some end of this\r\n                // connection changed (you give the index), and here's the new element and element id.\"\r\n                this.anchorManager.sourceChanged(originalElementId, proxyElId, connection, proxyEl);\r\n            }\r\n            else {\r\n                this.anchorManager.updateOtherEndpoint(connection.endpoints[0].elementId, originalElementId, proxyElId, connection);\r\n                connection.target = proxyEl;\r\n                connection.targetId = proxyElId;\r\n            }\r\n\r\n            // detach the original EP from the connection.\r\n            originalEndpoint.detachFromConnection(connection, null, true);\r\n\r\n            // set the proxy as the new ep\r\n            proxyEp.connections = [ connection ];\r\n            connection.endpoints[index] = proxyEp;\r\n\r\n            originalEndpoint.setVisible(false);\r\n\r\n            connection.setVisible(true);\r\n\r\n            this.revalidate(proxyEl);\r\n        },\r\n        unproxyConnection : function(connection, index, proxyElId) {\r\n            // if connection cleaned up, no proxies, or none for this end of the connection, abort.\r\n            if (connection._jsPlumb == null || connection.proxies == null || connection.proxies[index] == null) {\r\n                return;\r\n            }\r\n\r\n            var originalElement = connection.proxies[index].originalEp.element,\r\n                originalElementId = connection.proxies[index].originalEp.elementId;\r\n\r\n            connection.endpoints[index] = connection.proxies[index].originalEp;\r\n            // and advise the anchor manager\r\n            if (index === 0) {\r\n                // TODO why are there two differently named methods? Why is there not one method that says \"some end of this\r\n                // connection changed (you give the index), and here's the new element and element id.\"\r\n                this.anchorManager.sourceChanged(proxyElId, originalElementId, connection, originalElement);\r\n            }\r\n            else {\r\n                this.anchorManager.updateOtherEndpoint(connection.endpoints[0].elementId, proxyElId, originalElementId, connection);\r\n                connection.target = originalElement;\r\n                connection.targetId = originalElementId;\r\n            }\r\n\r\n            // detach the proxy EP from the connection (which will cause it to be removed as we no longer need it)\r\n            connection.proxies[index].ep.detachFromConnection(connection, null);\r\n\r\n            connection.proxies[index].originalEp.addConnection(connection);\r\n            if(connection.isVisible()) {\r\n                connection.proxies[index].originalEp.setVisible(true);\r\n            }\r\n\r\n            // cleanup\r\n            delete connection.proxies[index];\r\n        }\r\n    });\r\n\r\n// --------------------- static instance + module registration -------------------------------------------\r\n\r\n// create static instance and assign to window if window exists.\r\n    var jsPlumb = new jsPlumbInstance();\r\n    // register on 'root' (lets us run on server or browser)\r\n    root.jsPlumb = jsPlumb;\r\n    // add 'getInstance' method to static instance\r\n    jsPlumb.getInstance = function (_defaults, overrideFns) {\r\n        var j = new jsPlumbInstance(_defaults);\r\n        if (overrideFns) {\r\n            for (var ovf in overrideFns) {\r\n                j[ovf] = overrideFns[ovf];\r\n            }\r\n        }\r\n        j.init();\r\n        return j;\r\n    };\r\n    jsPlumb.each = function (spec, fn) {\r\n        if (spec == null) {\r\n            return;\r\n        }\r\n        if (typeof spec === \"string\") {\r\n            fn(jsPlumb.getElement(spec));\r\n        }\r\n        else if (spec.length != null) {\r\n            for (var i = 0; i < spec.length; i++) {\r\n                fn(jsPlumb.getElement(spec[i]));\r\n            }\r\n        }\r\n        else {\r\n            fn(spec);\r\n        } // assume it's an element.\r\n    };\r\n\r\n    // CommonJS\r\n    if (typeof exports !== 'undefined') {\r\n        exports.jsPlumb = jsPlumb;\r\n    }\r\n\r\n// --------------------- end static instance + AMD registration -------------------------------------------\r\n\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n\r\n/*\r\n * 2010 - 2018 jsPlumb (hello@jsplumbtoolkit.com)\r\n *\r\n * https://jsplumbtoolkit.com\r\n * https://github.com/jsplumb/jsplumb\r\n *\r\n * Dual licensed under the MIT and GPL2 licenses.\r\n */\r\n;(function() {\r\n\r\n    \"use strict\";\r\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil;\r\n\r\n    // ------------------------------ BEGIN OverlayCapablejsPlumbUIComponent --------------------------------------------\r\n\r\n    var _internalLabelOverlayId = \"__label\",\r\n        // this is a shortcut helper method to let people add a label as\r\n        // overlay.\r\n        _makeLabelOverlay = function (component, params) {\r\n\r\n            var _params = {\r\n                    cssClass: params.cssClass,\r\n                    labelStyle: component.labelStyle,\r\n                    id: _internalLabelOverlayId,\r\n                    component: component,\r\n                    _jsPlumb: component._jsPlumb.instance  // TODO not necessary, since the instance can be accessed through the component.\r\n                },\r\n                mergedParams = _jp.extend(_params, params);\r\n\r\n            return new _jp.Overlays[component._jsPlumb.instance.getRenderMode()].Label(mergedParams);\r\n        },\r\n        _processOverlay = function (component, o) {\r\n            var _newOverlay = null;\r\n            if (_ju.isArray(o)) {\t// this is for the shorthand [\"Arrow\", { width:50 }] syntax\r\n                // there's also a three arg version:\r\n                // [\"Arrow\", { width:50 }, {location:0.7}]\r\n                // which merges the 3rd arg into the 2nd.\r\n                var type = o[0],\r\n                    // make a copy of the object so as not to mess up anyone else's reference...\r\n                    p = _jp.extend({component: component, _jsPlumb: component._jsPlumb.instance}, o[1]);\r\n                if (o.length === 3) {\r\n                    _jp.extend(p, o[2]);\r\n                }\r\n                _newOverlay = new _jp.Overlays[component._jsPlumb.instance.getRenderMode()][type](p);\r\n            } else if (o.constructor === String) {\r\n                _newOverlay = new _jp.Overlays[component._jsPlumb.instance.getRenderMode()][o]({component: component, _jsPlumb: component._jsPlumb.instance});\r\n            } else {\r\n                _newOverlay = o;\r\n            }\r\n\r\n            _newOverlay.id = _newOverlay.id || _ju.uuid();\r\n            component.cacheTypeItem(\"overlay\", _newOverlay, _newOverlay.id);\r\n            component._jsPlumb.overlays[_newOverlay.id] = _newOverlay;\r\n\r\n            return _newOverlay;\r\n        };\r\n\r\n    _jp.OverlayCapableJsPlumbUIComponent = function (params) {\r\n\r\n        root.jsPlumbUIComponent.apply(this, arguments);\r\n        this._jsPlumb.overlays = {};\r\n        this._jsPlumb.overlayPositions = {};\r\n\r\n        if (params.label) {\r\n            this.getDefaultType().overlays[_internalLabelOverlayId] = [\"Label\", {\r\n                label: params.label,\r\n                location: params.labelLocation || this.defaultLabelLocation || 0.5,\r\n                labelStyle: params.labelStyle || this._jsPlumb.instance.Defaults.LabelStyle,\r\n                id:_internalLabelOverlayId\r\n            }];\r\n        }else if(params.id){\r\n            // 新增 label 为空时设置的cssClass无效问题，可以使用  emptyLabelStyle: {cssClass: 'emptyFlowLabel'} 进行设置 by_ 萌级小菜鸟\r\n            this.getDefaultType().overlays[_internalLabelOverlayId] = [\"Label\", {\r\n                label: params.label,\r\n                location: params.labelLocation || this.defaultLabelLocation || 0.5,\r\n                labelStyle: params.emptyLabelStyle || this._jsPlumb.instance.Defaults.emptyLabelStyle,\r\n                id:_internalLabelOverlayId\r\n            }];\r\n        }\r\n\r\n        this.setListenerComponent = function (c) {\r\n            if (this._jsPlumb) {\r\n                for (var i in this._jsPlumb.overlays) {\r\n                    this._jsPlumb.overlays[i].setListenerComponent(c);\r\n                }\r\n            }\r\n        };\r\n    };\r\n\r\n    _jp.OverlayCapableJsPlumbUIComponent.applyType = function (component, t) {\r\n        if (t.overlays) {\r\n            // loop through the ones in the type. if already present on the component,\r\n            // dont remove or re-add.\r\n            var keep = {}, i;\r\n\r\n            for (i in t.overlays) {\r\n\r\n                var existing = component._jsPlumb.overlays[t.overlays[i][1].id];\r\n                if (existing) {\r\n                    // maybe update from data, if there were parameterised values for instance.\r\n                    existing.updateFrom(t.overlays[i][1]);\r\n                    keep[t.overlays[i][1].id] = true;\r\n                }\r\n                else {\r\n                    var c = component.getCachedTypeItem(\"overlay\", t.overlays[i][1].id);\r\n                    if (c != null) {\r\n                        c.reattach(component._jsPlumb.instance, component);\r\n                        c.setVisible(true);\r\n                        // maybe update from data, if there were parameterised values for instance.\r\n                        c.updateFrom(t.overlays[i][1]);\r\n                        component._jsPlumb.overlays[c.id] = c;\r\n                    }\r\n                    else {\r\n                        c = component.addOverlay(t.overlays[i], true);\r\n                    }\r\n                    keep[c.id] = true;\r\n                }\r\n            }\r\n\r\n            // now loop through the full overlays and remove those that we dont want to keep\r\n            for (i in component._jsPlumb.overlays) {\r\n                if (keep[component._jsPlumb.overlays[i].id] == null) {\r\n                    component.removeOverlay(component._jsPlumb.overlays[i].id, true); // remove overlay but dont clean it up.\r\n                    // that would remove event listeners etc; overlays are never discarded by the types stuff, they are\r\n                    // just detached/reattached.\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    _ju.extend(_jp.OverlayCapableJsPlumbUIComponent, root.jsPlumbUIComponent, {\r\n\r\n        setHover: function (hover, ignoreAttachedElements) {\r\n            if (this._jsPlumb && !this._jsPlumb.instance.isConnectionBeingDragged()) {\r\n                for (var i in this._jsPlumb.overlays) {\r\n                    this._jsPlumb.overlays[i][hover ? \"addClass\" : \"removeClass\"](this._jsPlumb.instance.hoverClass);\r\n                }\r\n            }\r\n        },\r\n        addOverlay: function (overlay, doNotRepaint) {\r\n            var o = _processOverlay(this, overlay);\r\n\r\n            if (this.getData && o.type === \"Label\" && _ju.isArray(overlay)) {\r\n                //\r\n                // component data might contain label location - look for it here.\r\n                var d = this.getData(), p = overlay[1];\r\n                if (d) {\r\n                    var locationAttribute = p.labelLocationAttribute || \"labelLocation\";\r\n                    var loc = d ? d[locationAttribute] : null;\r\n\r\n                    if (loc) {\r\n                        o.loc = loc;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!doNotRepaint) {\r\n                this.repaint();\r\n            }\r\n            return o;\r\n        },\r\n        getOverlay: function (id) {\r\n            return this._jsPlumb.overlays[id];\r\n        },\r\n        getOverlays: function () {\r\n            return this._jsPlumb.overlays;\r\n        },\r\n        hideOverlay: function (id) {\r\n            var o = this.getOverlay(id);\r\n            if (o) {\r\n                o.hide();\r\n            }\r\n        },\r\n        hideOverlays: function () {\r\n            for (var i in this._jsPlumb.overlays) {\r\n                this._jsPlumb.overlays[i].hide();\r\n            }\r\n        },\r\n        showOverlay: function (id) {\r\n            var o = this.getOverlay(id);\r\n            if (o) {\r\n                o.show();\r\n            }\r\n        },\r\n        showOverlays: function () {\r\n            for (var i in this._jsPlumb.overlays) {\r\n                this._jsPlumb.overlays[i].show();\r\n            }\r\n        },\r\n        removeAllOverlays: function (doNotRepaint) {\r\n            for (var i in this._jsPlumb.overlays) {\r\n                if (this._jsPlumb.overlays[i].cleanup) {\r\n                    this._jsPlumb.overlays[i].cleanup();\r\n                }\r\n            }\r\n\r\n            this._jsPlumb.overlays = {};\r\n            this._jsPlumb.overlayPositions = null;\r\n            this._jsPlumb.overlayPlacements= {};\r\n            if (!doNotRepaint) {\r\n                this.repaint();\r\n            }\r\n        },\r\n        removeOverlay: function (overlayId, dontCleanup) {\r\n            var o = this._jsPlumb.overlays[overlayId];\r\n            if (o) {\r\n                o.setVisible(false);\r\n                if (!dontCleanup && o.cleanup) {\r\n                    o.cleanup();\r\n                }\r\n                delete this._jsPlumb.overlays[overlayId];\r\n                if (this._jsPlumb.overlayPositions) {\r\n                    delete this._jsPlumb.overlayPositions[overlayId];\r\n                }\r\n\r\n                if (this._jsPlumb.overlayPlacements) {\r\n                    delete this._jsPlumb.overlayPlacements[overlayId];\r\n                }\r\n            }\r\n        },\r\n        removeOverlays: function () {\r\n            for (var i = 0, j = arguments.length; i < j; i++) {\r\n                this.removeOverlay(arguments[i]);\r\n            }\r\n        },\r\n        moveParent: function (newParent) {\r\n            if (this.bgCanvas) {\r\n                this.bgCanvas.parentNode.removeChild(this.bgCanvas);\r\n                newParent.appendChild(this.bgCanvas);\r\n            }\r\n\r\n            if (this.canvas && this.canvas.parentNode) {\r\n                this.canvas.parentNode.removeChild(this.canvas);\r\n                newParent.appendChild(this.canvas);\r\n\r\n                for (var i in this._jsPlumb.overlays) {\r\n                    if (this._jsPlumb.overlays[i].isAppendedAtTopLevel) {\r\n                        var el = this._jsPlumb.overlays[i].getElement();\r\n                        el.parentNode.removeChild(el);\r\n                        newParent.appendChild(el);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        getLabel: function () {\r\n            var lo = this.getOverlay(_internalLabelOverlayId);\r\n            return lo != null ? lo.getLabel() : null;\r\n        },\r\n        getLabelOverlay: function () {\r\n            return this.getOverlay(_internalLabelOverlayId);\r\n        },\r\n        setLabel: function (l) {\r\n            var lo = this.getOverlay(_internalLabelOverlayId);\r\n            if (!lo) {\r\n                var params = l.constructor === String || l.constructor === Function ? { label: l } : l;\r\n                lo = _makeLabelOverlay(this, params);\r\n                this._jsPlumb.overlays[_internalLabelOverlayId] = lo;\r\n            }\r\n            else {\r\n                if (l.constructor === String || l.constructor === Function) {\r\n                    lo.setLabel(l);\r\n                }\r\n                else {\r\n                    // 修复设置label为空时原来的值无法替换，by_萌级小菜鸟 2020年05月08日21:26:15\r\n                    if (!l.label) {\r\n                        l.label = ''\r\n                    }\r\n                    lo.setLabel(l.label);\r\n                    if (l.location) {\r\n                        lo.setLocation(l.location);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!this._jsPlumb.instance.isSuspendDrawing()) {\r\n                this.repaint();\r\n            }\r\n        },\r\n        cleanup: function (force) {\r\n            for (var i in this._jsPlumb.overlays) {\r\n                this._jsPlumb.overlays[i].cleanup(force);\r\n                this._jsPlumb.overlays[i].destroy(force);\r\n            }\r\n            if (force) {\r\n                this._jsPlumb.overlays = {};\r\n                this._jsPlumb.overlayPositions = null;\r\n            }\r\n        },\r\n        setVisible: function (v) {\r\n            this[v ? \"showOverlays\" : \"hideOverlays\"]();\r\n        },\r\n        setAbsoluteOverlayPosition: function (overlay, xy) {\r\n            this._jsPlumb.overlayPositions[overlay.id] = xy;\r\n        },\r\n        getAbsoluteOverlayPosition: function (overlay) {\r\n            return this._jsPlumb.overlayPositions ? this._jsPlumb.overlayPositions[overlay.id] : null;\r\n        },\r\n        _clazzManip:function(action, clazz, dontUpdateOverlays) {\r\n            if (!dontUpdateOverlays) {\r\n                for (var i in this._jsPlumb.overlays) {\r\n                    this._jsPlumb.overlays[i][action + \"Class\"](clazz);\r\n                }\r\n            }\r\n        },\r\n        addClass:function(clazz, dontUpdateOverlays) {\r\n            this._clazzManip(\"add\", clazz, dontUpdateOverlays);\r\n        },\r\n        removeClass:function(clazz, dontUpdateOverlays) {\r\n            this._clazzManip(\"remove\", clazz, dontUpdateOverlays);\r\n        }\r\n    });\r\n\r\n// ------------------------------ END OverlayCapablejsPlumbUIComponent --------------------------------------------\r\n\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n\r\n/*\r\n * This file contains the code for Endpoints.\r\n *\r\n * Copyright (c) 2010 - 2018 jsPlumb (hello@jsplumbtoolkit.com)\r\n *\r\n * https://jsplumbtoolkit.com\r\n * https://github.com/jsplumb/jsplumb\r\n *\r\n * Dual licensed under the MIT and GPL2 licenses.\r\n */\r\n;(function () {\r\n\r\n    \"use strict\";\r\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil;\r\n\r\n    // create the drag handler for a connection\r\n    var _makeConnectionDragHandler = function (endpoint, placeholder, _jsPlumb) {\r\n        var stopped = false;\r\n        return {\r\n            drag: function () {\r\n                if (stopped) {\r\n                    stopped = false;\r\n                    return true;\r\n                }\r\n\r\n                if (placeholder.element) {\r\n                    var _ui = _jsPlumb.getUIPosition(arguments, _jsPlumb.getZoom());\r\n                    if (_ui != null) {\r\n                        _jsPlumb.setPosition(placeholder.element, _ui);\r\n                    }\r\n                    _jsPlumb.repaint(placeholder.element, _ui);\r\n                    // always repaint the source endpoint, because only continuous/dynamic anchors cause the endpoint\r\n                    // to be repainted, so static anchors need to be told (or the endpoint gets dragged around)\r\n                    endpoint.paint({anchorPoint:endpoint.anchor.getCurrentLocation({element:endpoint})});\r\n                }\r\n            },\r\n            stopDrag: function () {\r\n                stopped = true;\r\n            }\r\n        };\r\n    };\r\n\r\n    // creates a placeholder div for dragging purposes, adds it, and pre-computes its offset.\r\n    var _makeDraggablePlaceholder = function (placeholder, _jsPlumb, ipco, ips) {\r\n        var n = _jsPlumb.createElement(\"div\", { position : \"absolute\" });\r\n        _jsPlumb.appendElement(n);\r\n        var id = _jsPlumb.getId(n);\r\n        _jsPlumb.setPosition(n, ipco);\r\n        n.style.width = ips[0] + \"px\";\r\n        n.style.height = ips[1] + \"px\";\r\n        _jsPlumb.manage(id, n, true); // TRANSIENT MANAGE\r\n        // create and assign an id, and initialize the offset.\r\n        placeholder.id = id;\r\n        placeholder.element = n;\r\n    };\r\n\r\n    // create a floating endpoint (for drag connections)\r\n    var _makeFloatingEndpoint = function (paintStyle, referenceAnchor, endpoint, referenceCanvas, sourceElement, _jsPlumb, _newEndpoint, scope) {\r\n        var floatingAnchor = new _jp.FloatingAnchor({ reference: referenceAnchor, referenceCanvas: referenceCanvas, jsPlumbInstance: _jsPlumb });\r\n        //setting the scope here should not be the way to fix that mootools issue.  it should be fixed by not\r\n        // adding the floating endpoint as a droppable.  that makes more sense anyway!\r\n        // TRANSIENT MANAGE\r\n        return _newEndpoint({\r\n            paintStyle: paintStyle,\r\n            endpoint: endpoint,\r\n            anchor: floatingAnchor,\r\n            source: sourceElement,\r\n            scope: scope\r\n        });\r\n    };\r\n\r\n    var typeParameters = [ \"connectorStyle\", \"connectorHoverStyle\", \"connectorOverlays\",\r\n        \"connector\", \"connectionType\", \"connectorClass\", \"connectorHoverClass\" ];\r\n\r\n    // a helper function that tries to find a connection to the given element, and returns it if so. if elementWithPrecedence is null,\r\n    // or no connection to it is found, we return the first connection in our list.\r\n    var findConnectionToUseForDynamicAnchor = function (ep, elementWithPrecedence) {\r\n        var idx = 0;\r\n        if (elementWithPrecedence != null) {\r\n            for (var i = 0; i < ep.connections.length; i++) {\r\n                if (ep.connections[i].sourceId === elementWithPrecedence || ep.connections[i].targetId === elementWithPrecedence) {\r\n                    idx = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return ep.connections[idx];\r\n    };\r\n\r\n    _jp.Endpoint = function (params) {\r\n        var _jsPlumb = params._jsPlumb,\r\n            _newConnection = params.newConnection,\r\n            _newEndpoint = params.newEndpoint;\r\n\r\n        this.idPrefix = \"_jsplumb_e_\";\r\n        this.defaultLabelLocation = [ 0.5, 0.5 ];\r\n        this.defaultOverlayKeys = [\"Overlays\", \"EndpointOverlays\"];\r\n        _jp.OverlayCapableJsPlumbUIComponent.apply(this, arguments);\r\n\r\n// TYPE\r\n\r\n        this.appendToDefaultType({\r\n            connectionType:params.connectionType,\r\n            maxConnections: params.maxConnections == null ? this._jsPlumb.instance.Defaults.MaxConnections : params.maxConnections, // maximum number of connections this endpoint can be the source of.,\r\n            paintStyle: params.endpointStyle || params.paintStyle || params.style || this._jsPlumb.instance.Defaults.EndpointStyle || _jp.Defaults.EndpointStyle,\r\n            hoverPaintStyle: params.endpointHoverStyle || params.hoverPaintStyle || this._jsPlumb.instance.Defaults.EndpointHoverStyle || _jp.Defaults.EndpointHoverStyle,\r\n            connectorStyle: params.connectorStyle,\r\n            connectorHoverStyle: params.connectorHoverStyle,\r\n            connectorClass: params.connectorClass,\r\n            connectorHoverClass: params.connectorHoverClass,\r\n            connectorOverlays: params.connectorOverlays,\r\n            connector: params.connector,\r\n            connectorTooltip: params.connectorTooltip\r\n        });\r\n\r\n// END TYPE\r\n\r\n        this._jsPlumb.enabled = !(params.enabled === false);\r\n        this._jsPlumb.visible = true;\r\n        this.element = _jp.getElement(params.source);\r\n        this._jsPlumb.uuid = params.uuid;\r\n        this._jsPlumb.floatingEndpoint = null;\r\n        var inPlaceCopy = null;\r\n        if (this._jsPlumb.uuid) {\r\n            params.endpointsByUUID[this._jsPlumb.uuid] = this;\r\n        }\r\n        this.elementId = params.elementId;\r\n        this.dragProxy = params.dragProxy;\r\n\r\n        this._jsPlumb.connectionCost = params.connectionCost;\r\n        this._jsPlumb.connectionsDirected = params.connectionsDirected;\r\n        this._jsPlumb.currentAnchorClass = \"\";\r\n        this._jsPlumb.events = {};\r\n\r\n        var deleteOnEmpty = params.deleteOnEmpty === true;\r\n        this.setDeleteOnEmpty = function(d) {\r\n            deleteOnEmpty = d;\r\n        };\r\n\r\n        var _updateAnchorClass = function () {\r\n            // stash old, get new\r\n            var oldAnchorClass = _jsPlumb.endpointAnchorClassPrefix + \"-\" + this._jsPlumb.currentAnchorClass;\r\n            this._jsPlumb.currentAnchorClass = this.anchor.getCssClass();\r\n            var anchorClass = _jsPlumb.endpointAnchorClassPrefix + (this._jsPlumb.currentAnchorClass ? \"-\" + this._jsPlumb.currentAnchorClass : \"\");\r\n\r\n            this.removeClass(oldAnchorClass);\r\n            this.addClass(anchorClass);\r\n            // add and remove at the same time to reduce the number of reflows.\r\n            _jp.updateClasses(this.element, anchorClass, oldAnchorClass);\r\n        }.bind(this);\r\n\r\n        this.prepareAnchor = function(anchorParams) {\r\n            var a = this._jsPlumb.instance.makeAnchor(anchorParams, this.elementId, _jsPlumb);\r\n            a.bind(\"anchorChanged\", function (currentAnchor) {\r\n                this.fire(\"anchorChanged\", {endpoint: this, anchor: currentAnchor});\r\n                _updateAnchorClass();\r\n            }.bind(this));\r\n            return a;\r\n        };\r\n\r\n        this.setPreparedAnchor = function(anchor, doNotRepaint) {\r\n            this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId);\r\n            this.anchor = anchor;\r\n            _updateAnchorClass();\r\n\r\n            if (!doNotRepaint) {\r\n                this._jsPlumb.instance.repaint(this.elementId);\r\n            }\r\n\r\n            return this;\r\n        };\r\n\r\n        this.setAnchor = function (anchorParams, doNotRepaint) {\r\n            var a = this.prepareAnchor(anchorParams);\r\n            this.setPreparedAnchor(a, doNotRepaint);\r\n            return this;\r\n        };\r\n\r\n        var internalHover = function (state) {\r\n            if (this.connections.length > 0) {\r\n                for (var i = 0; i < this.connections.length; i++) {\r\n                    this.connections[i].setHover(state, false);\r\n                }\r\n            }\r\n            else {\r\n                this.setHover(state);\r\n            }\r\n        }.bind(this);\r\n\r\n        this.bind(\"mouseover\", function () {\r\n            internalHover(true);\r\n        });\r\n        this.bind(\"mouseout\", function () {\r\n            internalHover(false);\r\n        });\r\n\r\n        // ANCHOR MANAGER\r\n        if (!params._transient) { // in place copies, for example, are transient.  they will never need to be retrieved during a paint cycle, because they dont move, and then they are deleted.\r\n            this._jsPlumb.instance.anchorManager.add(this, this.elementId);\r\n        }\r\n\r\n        this.prepareEndpoint = function(ep, typeId) {\r\n            var _e = function (t, p) {\r\n                var rm = _jsPlumb.getRenderMode();\r\n                if (_jp.Endpoints[rm][t]) {\r\n                    return new _jp.Endpoints[rm][t](p);\r\n                }\r\n                if (!_jsPlumb.Defaults.DoNotThrowErrors) {\r\n                    throw { msg: \"jsPlumb: unknown endpoint type '\" + t + \"'\" };\r\n                }\r\n            };\r\n\r\n            var endpointArgs = {\r\n                _jsPlumb: this._jsPlumb.instance,\r\n                cssClass: params.cssClass,\r\n                container: params.container,\r\n                tooltip: params.tooltip,\r\n                connectorTooltip: params.connectorTooltip,\r\n                endpoint: this\r\n            };\r\n\r\n            var endpoint;\r\n\r\n            if (_ju.isString(ep)) {\r\n                endpoint = _e(ep, endpointArgs);\r\n            }\r\n            else if (_ju.isArray(ep)) {\r\n                endpointArgs = _ju.merge(ep[1], endpointArgs);\r\n                endpoint = _e(ep[0], endpointArgs);\r\n            }\r\n            else {\r\n                endpoint = ep.clone();\r\n            }\r\n\r\n            // assign a clone function using a copy of endpointArgs. this is used when a drag starts: the endpoint that was dragged is cloned,\r\n            // and the clone is left in its place while the original one goes off on a magical journey.\r\n            // the copy is to get around a closure problem, in which endpointArgs ends up getting shared by\r\n            // the whole world.\r\n            //var argsForClone = jsPlumb.extend({}, endpointArgs);\r\n            endpoint.clone = function () {\r\n                // TODO this, and the code above, can be refactored to be more dry.\r\n                if (_ju.isString(ep)) {\r\n                    return _e(ep, endpointArgs);\r\n                }\r\n                else if (_ju.isArray(ep)) {\r\n                    endpointArgs = _ju.merge(ep[1], endpointArgs);\r\n                    return _e(ep[0], endpointArgs);\r\n                }\r\n            }.bind(this);\r\n\r\n            endpoint.typeId = typeId;\r\n            return endpoint;\r\n        };\r\n\r\n        this.setEndpoint = function(ep, doNotRepaint) {\r\n            var _ep = this.prepareEndpoint(ep);\r\n            this.setPreparedEndpoint(_ep, true);\r\n        };\r\n\r\n        this.setPreparedEndpoint = function (ep, doNotRepaint) {\r\n            if (this.endpoint != null) {\r\n                this.endpoint.cleanup();\r\n                this.endpoint.destroy();\r\n            }\r\n            this.endpoint = ep;\r\n            this.type = this.endpoint.type;\r\n            this.canvas = this.endpoint.canvas;\r\n        };\r\n\r\n        _jp.extend(this, params, typeParameters);\r\n\r\n        this.isSource = params.isSource || false;\r\n        this.isTemporarySource = params.isTemporarySource || false;\r\n        this.isTarget = params.isTarget || false;\r\n\r\n        this.connections = params.connections || [];\r\n        this.connectorPointerEvents = params[\"connector-pointer-events\"];\r\n\r\n        this.scope = params.scope || _jsPlumb.getDefaultScope();\r\n        this.timestamp = null;\r\n        this.reattachConnections = params.reattach || _jsPlumb.Defaults.ReattachConnections;\r\n        this.connectionsDetachable = _jsPlumb.Defaults.ConnectionsDetachable;\r\n        if (params.connectionsDetachable === false || params.detachable === false) {\r\n            this.connectionsDetachable = false;\r\n        }\r\n        this.dragAllowedWhenFull = params.dragAllowedWhenFull !== false;\r\n\r\n        if (params.onMaxConnections) {\r\n            this.bind(\"maxConnections\", params.onMaxConnections);\r\n        }\r\n\r\n        //\r\n        // add a connection. not part of public API.\r\n        //\r\n        this.addConnection = function (connection) {\r\n            this.connections.push(connection);\r\n            this[(this.connections.length > 0 ? \"add\" : \"remove\") + \"Class\"](_jsPlumb.endpointConnectedClass);\r\n            this[(this.isFull() ? \"add\" : \"remove\") + \"Class\"](_jsPlumb.endpointFullClass);\r\n        };\r\n\r\n        this.detachFromConnection = function (connection, idx, doNotCleanup) {\r\n            idx = idx == null ? this.connections.indexOf(connection) : idx;\r\n            if (idx >= 0) {\r\n                this.connections.splice(idx, 1);\r\n                this[(this.connections.length > 0 ? \"add\" : \"remove\") + \"Class\"](_jsPlumb.endpointConnectedClass);\r\n                this[(this.isFull() ? \"add\" : \"remove\") + \"Class\"](_jsPlumb.endpointFullClass);\r\n            }\r\n\r\n            if (!doNotCleanup && deleteOnEmpty && this.connections.length === 0) {\r\n                _jsPlumb.deleteObject({\r\n                    endpoint: this,\r\n                    fireEvent: false,\r\n                    deleteAttachedObjects: doNotCleanup !== true\r\n                });\r\n            }\r\n        };\r\n\r\n        this.deleteEveryConnection = function(params) {\r\n            var c = this.connections.length;\r\n            for (var i = 0; i < c; i++) {\r\n                _jsPlumb.deleteConnection(this.connections[0], params);\r\n            }\r\n        };\r\n\r\n        this.detachFrom = function (targetEndpoint, fireEvent, originalEvent) {\r\n            var c = [];\r\n            for (var i = 0; i < this.connections.length; i++) {\r\n                if (this.connections[i].endpoints[1] === targetEndpoint || this.connections[i].endpoints[0] === targetEndpoint) {\r\n                    c.push(this.connections[i]);\r\n                }\r\n            }\r\n            for (var j = 0, count = c.length; j < count; j++) {\r\n                _jsPlumb.deleteConnection(c[0]);\r\n            }\r\n            return this;\r\n        };\r\n\r\n        this.getElement = function () {\r\n            return this.element;\r\n        };\r\n\r\n        this.setElement = function (el) {\r\n            var parentId = this._jsPlumb.instance.getId(el),\r\n                curId = this.elementId;\r\n            // remove the endpoint from the list for the current endpoint's element\r\n            _ju.removeWithFunction(params.endpointsByElement[this.elementId], function (e) {\r\n                return e.id === this.id;\r\n            }.bind(this));\r\n            this.element = _jp.getElement(el);\r\n            this.elementId = _jsPlumb.getId(this.element);\r\n            _jsPlumb.anchorManager.rehomeEndpoint(this, curId, this.element);\r\n            _jsPlumb.dragManager.endpointAdded(this.element);\r\n            _ju.addToList(params.endpointsByElement, parentId, this);\r\n            return this;\r\n        };\r\n\r\n        /**\r\n         * private but must be exposed.\r\n         */\r\n        this.makeInPlaceCopy = function () {\r\n            var loc = this.anchor.getCurrentLocation({element: this}),\r\n                o = this.anchor.getOrientation(this),\r\n                acc = this.anchor.getCssClass(),\r\n                inPlaceAnchor = {\r\n                    bind: function () {\r\n                    },\r\n                    compute: function () {\r\n                        return [ loc[0], loc[1] ];\r\n                    },\r\n                    getCurrentLocation: function () {\r\n                        return [ loc[0], loc[1] ];\r\n                    },\r\n                    getOrientation: function () {\r\n                        return o;\r\n                    },\r\n                    getCssClass: function () {\r\n                        return acc;\r\n                    }\r\n                };\r\n\r\n            return _newEndpoint({\r\n                dropOptions: params.dropOptions,\r\n                anchor: inPlaceAnchor,\r\n                source: this.element,\r\n                paintStyle: this.getPaintStyle(),\r\n                endpoint: params.hideOnDrag ? \"Blank\" : this.endpoint,\r\n                _transient: true,\r\n                scope: this.scope,\r\n                reference:this\r\n            });\r\n        };\r\n\r\n        /**\r\n         * returns a connection from the pool; used when dragging starts.  just gets the head of the array if it can.\r\n         */\r\n        this.connectorSelector = function () {\r\n            return this.connections[0];\r\n        };\r\n\r\n        this.setStyle = this.setPaintStyle;\r\n\r\n        this.paint = function (params) {\r\n            params = params || {};\r\n            var timestamp = params.timestamp, recalc = !(params.recalc === false);\r\n            if (!timestamp || this.timestamp !== timestamp) {\r\n\r\n                var info = _jsPlumb.updateOffset({ elId: this.elementId, timestamp: timestamp });\r\n\r\n                var xy = params.offset ? params.offset.o : info.o;\r\n                if (xy != null) {\r\n                    var ap = params.anchorPoint, connectorPaintStyle = params.connectorPaintStyle;\r\n                    if (ap == null) {\r\n                        var wh = params.dimensions || info.s,\r\n                            anchorParams = { xy: [ xy.left, xy.top ], wh: wh, element: this, timestamp: timestamp };\r\n                        if (recalc && this.anchor.isDynamic && this.connections.length > 0) {\r\n                            var c = findConnectionToUseForDynamicAnchor(this, params.elementWithPrecedence),\r\n                                oIdx = c.endpoints[0] === this ? 1 : 0,\r\n                                oId = oIdx === 0 ? c.sourceId : c.targetId,\r\n                                oInfo = _jsPlumb.getCachedData(oId),\r\n                                oOffset = oInfo.o, oWH = oInfo.s;\r\n\r\n                            anchorParams.index = oIdx === 0 ? 1 : 0;\r\n                            anchorParams.connection = c;\r\n                            anchorParams.txy = [ oOffset.left, oOffset.top ];\r\n                            anchorParams.twh = oWH;\r\n                            anchorParams.tElement = c.endpoints[oIdx];\r\n                        } else if (this.connections.length > 0) {\r\n                            anchorParams.connection = this.connections[0];\r\n                        }\r\n                        ap = this.anchor.compute(anchorParams);\r\n                    }\r\n\r\n                    this.endpoint.compute(ap, this.anchor.getOrientation(this), this._jsPlumb.paintStyleInUse, connectorPaintStyle || this.paintStyleInUse);\r\n                    this.endpoint.paint(this._jsPlumb.paintStyleInUse, this.anchor);\r\n                    this.timestamp = timestamp;\r\n\r\n                    // paint overlays\r\n                    for (var i in this._jsPlumb.overlays) {\r\n                        if (this._jsPlumb.overlays.hasOwnProperty(i)) {\r\n                            var o = this._jsPlumb.overlays[i];\r\n                            if (o.isVisible()) {\r\n                                this._jsPlumb.overlayPlacements[i] = o.draw(this.endpoint, this._jsPlumb.paintStyleInUse);\r\n                                o.paint(this._jsPlumb.overlayPlacements[i]);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        this.getTypeDescriptor = function () {\r\n            return \"endpoint\";\r\n        };\r\n        this.isVisible = function () {\r\n            return this._jsPlumb.visible;\r\n        };\r\n\r\n        this.repaint = this.paint;\r\n\r\n        var draggingInitialised = false;\r\n        this.initDraggable = function () {\r\n\r\n            // is this a connection source? we make it draggable and have the\r\n            // drag listener maintain a connection with a floating endpoint.\r\n            if (!draggingInitialised && _jp.isDragSupported(this.element)) {\r\n                var placeholderInfo = { id: null, element: null },\r\n                    jpc = null,\r\n                    existingJpc = false,\r\n                    existingJpcParams = null,\r\n                    _dragHandler = _makeConnectionDragHandler(this, placeholderInfo, _jsPlumb),\r\n                    dragOptions = params.dragOptions || {},\r\n                    defaultOpts = {},\r\n                    startEvent = _jp.dragEvents.start,\r\n                    stopEvent = _jp.dragEvents.stop,\r\n                    dragEvent = _jp.dragEvents.drag,\r\n                    beforeStartEvent = _jp.dragEvents.beforeStart,\r\n                    payload;\r\n\r\n                // respond to beforeStart from katavorio; this will have, optionally, a payload of attribute values\r\n                // that were placed there by the makeSource mousedown listener.\r\n                var beforeStart = function(beforeStartParams) {\r\n                    payload = beforeStartParams.e.payload || {};\r\n                };\r\n\r\n                var start = function (startParams) {\r\n\r\n// -------------   first, get a connection to drag. this may be null, in which case we are dragging a new one.\r\n\r\n                    jpc = this.connectorSelector();\r\n\r\n// -------------------------------- now a bunch of tests about whether or not to proceed -------------------------\r\n\r\n                    var _continue = true;\r\n                    // if not enabled, return\r\n                    if (!this.isEnabled()) {\r\n                        _continue = false;\r\n                    }\r\n                    // if no connection and we're not a source - or temporarily a source, as is the case with makeSource - return.\r\n                    if (jpc == null && !this.isSource && !this.isTemporarySource) {\r\n                        _continue = false;\r\n                    }\r\n                    // otherwise if we're full and not allowed to drag, also return false.\r\n                    if (this.isSource && this.isFull() && !(jpc != null && this.dragAllowedWhenFull)) {\r\n                        _continue = false;\r\n                    }\r\n                    // if the connection was setup as not detachable or one of its endpoints\r\n                    // was setup as connectionsDetachable = false, or Defaults.ConnectionsDetachable\r\n                    // is set to false...\r\n                    if (jpc != null && !jpc.isDetachable(this)) {\r\n                        // .. and the endpoint is full\r\n                        if (this.isFull()) {\r\n                            _continue = false;\r\n                        } else {\r\n                            // otherwise, if not full, set the connection to null, and we will now proceed\r\n                            // to drag a new connection.\r\n                            jpc = null;\r\n                        }\r\n                    }\r\n\r\n                    var beforeDrag = _jsPlumb.checkCondition(jpc == null ? \"beforeDrag\" : \"beforeStartDetach\", {\r\n                        endpoint:this,\r\n                        source:this.element,\r\n                        sourceId:this.elementId,\r\n                        connection:jpc\r\n                    });\r\n                    if (beforeDrag === false) {\r\n                        _continue = false;\r\n                    }\r\n                    // else we might have been given some data. we'll pass it in to a new connection as 'data'.\r\n                    // here we also merge in the optional payload we were given on mousedown.\r\n                    else if (typeof beforeDrag === \"object\") {\r\n                        _jp.extend(beforeDrag, payload || {});\r\n                    }\r\n                    else {\r\n                        // or if no beforeDrag data, maybe use the payload on its own.\r\n                        beforeDrag = payload || {};\r\n                    }\r\n\r\n                    if (_continue === false) {\r\n                        // this is for mootools and yui. returning false from this causes jquery to stop drag.\r\n                        // the events are wrapped in both mootools and yui anyway, but i don't think returning\r\n                        // false from the start callback would stop a drag.\r\n                        if (_jsPlumb.stopDrag) {\r\n                            _jsPlumb.stopDrag(this.canvas);\r\n                        }\r\n                        _dragHandler.stopDrag();\r\n                        return false;\r\n                    }\r\n\r\n// ---------------------------------------------------------------------------------------------------------------------\r\n\r\n                    // ok to proceed.\r\n\r\n                    // clear hover for all connections for this endpoint before continuing.\r\n                    for (var i = 0; i < this.connections.length; i++) {\r\n                        this.connections[i].setHover(false);\r\n                    }\r\n\r\n                    this.addClass(\"endpointDrag\");\r\n                    _jsPlumb.setConnectionBeingDragged(true);\r\n\r\n                    // if we're not full but there was a connection, make it null. we'll create a new one.\r\n                    if (jpc && !this.isFull() && this.isSource) {\r\n                        jpc = null;\r\n                    }\r\n\r\n                    _jsPlumb.updateOffset({ elId: this.elementId });\r\n\r\n// ----------------    make the element we will drag around, and position it -----------------------------\r\n\r\n                    var ipco = this._jsPlumb.instance.getOffset(this.canvas),\r\n                        canvasElement = this.canvas,\r\n                        ips = this._jsPlumb.instance.getSize(this.canvas);\r\n\r\n                    _makeDraggablePlaceholder(placeholderInfo, _jsPlumb, ipco, ips);\r\n\r\n                    // store the id of the dragging div and the source element. the drop function will pick these up.\r\n                    _jsPlumb.setAttributes(this.canvas, {\r\n                        \"dragId\": placeholderInfo.id,\r\n                        \"elId\": this.elementId\r\n                    });\r\n\r\n// ------------------- create an endpoint that will be our floating endpoint ------------------------------------\r\n\r\n                    var endpointToFloat = this.dragProxy || this.endpoint;\r\n                    if (this.dragProxy == null && this.connectionType != null) {\r\n                        var aae = this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType);\r\n                        if (aae.endpoints[1]) {\r\n                            endpointToFloat = aae.endpoints[1];\r\n                        }\r\n                    }\r\n                    var centerAnchor = this._jsPlumb.instance.makeAnchor(\"Center\");\r\n                    centerAnchor.isFloating = true;\r\n                    this._jsPlumb.floatingEndpoint = _makeFloatingEndpoint(this.getPaintStyle(), centerAnchor, endpointToFloat, this.canvas, placeholderInfo.element, _jsPlumb, _newEndpoint, this.scope);\r\n                    var _savedAnchor = this._jsPlumb.floatingEndpoint.anchor;\r\n\r\n\r\n                    if (jpc == null) {\r\n\r\n                        this.setHover(false, false);\r\n                        // create a connection. one end is this endpoint, the other is a floating endpoint.\r\n                        jpc = _newConnection({\r\n                            sourceEndpoint: this,\r\n                            targetEndpoint: this._jsPlumb.floatingEndpoint,\r\n                            source: this.element,  // for makeSource with parent option.  ensure source element is represented correctly.\r\n                            target: placeholderInfo.element,\r\n                            anchors: [ this.anchor, this._jsPlumb.floatingEndpoint.anchor ],\r\n                            paintStyle: params.connectorStyle, // this can be null. Connection will use the default.\r\n                            hoverPaintStyle: params.connectorHoverStyle,\r\n                            connector: params.connector, // this can also be null. Connection will use the default.\r\n                            overlays: params.connectorOverlays,\r\n                            type: this.connectionType,\r\n                            cssClass: this.connectorClass,\r\n                            hoverClass: this.connectorHoverClass,\r\n                            scope:params.scope,\r\n                            data:beforeDrag\r\n                        });\r\n                        jpc.pending = true;\r\n                        jpc.addClass(_jsPlumb.draggingClass);\r\n                        this._jsPlumb.floatingEndpoint.addClass(_jsPlumb.draggingClass);\r\n                        this._jsPlumb.floatingEndpoint.anchor = _savedAnchor;\r\n                        // fire an event that informs that a connection is being dragged\r\n                        _jsPlumb.fire(\"connectionDrag\", jpc);\r\n\r\n                        // register the new connection on the drag manager. This connection, at this point, is 'pending',\r\n                        // and has as its target a temporary element (the 'placeholder'). If the connection subsequently\r\n                        // becomes established, the anchor manager is informed that the target of the connection has\r\n                        // changed.\r\n\r\n                        _jsPlumb.anchorManager.newConnection(jpc);\r\n\r\n                    } else {\r\n                        existingJpc = true;\r\n                        jpc.setHover(false);\r\n                        // new anchor idx\r\n                        var anchorIdx = jpc.endpoints[0].id === this.id ? 0 : 1;\r\n                        this.detachFromConnection(jpc, null, true);                         // detach from the connection while dragging is occurring. but dont cleanup automatically.\r\n\r\n                        // store the original scope (issue 57)\r\n                        var dragScope = _jsPlumb.getDragScope(canvasElement);\r\n                        _jsPlumb.setAttribute(this.canvas, \"originalScope\", dragScope);\r\n\r\n                        // fire an event that informs that a connection is being dragged. we do this before\r\n                        // replacing the original target with the floating element info.\r\n                        _jsPlumb.fire(\"connectionDrag\", jpc);\r\n\r\n                        // now we replace ourselves with the temporary div we created above:\r\n                        if (anchorIdx === 0) {\r\n                            existingJpcParams = [ jpc.source, jpc.sourceId, canvasElement, dragScope ];\r\n                            _jsPlumb.anchorManager.sourceChanged(jpc.endpoints[anchorIdx].elementId, placeholderInfo.id, jpc, placeholderInfo.element);\r\n\r\n                        } else {\r\n                            existingJpcParams = [ jpc.target, jpc.targetId, canvasElement, dragScope ];\r\n                            jpc.target = placeholderInfo.element;\r\n                            jpc.targetId = placeholderInfo.id;\r\n\r\n                            _jsPlumb.anchorManager.updateOtherEndpoint(jpc.sourceId, jpc.endpoints[anchorIdx].elementId, jpc.targetId, jpc);\r\n                        }\r\n\r\n                        // store the original endpoint and assign the new floating endpoint for the drag.\r\n                        jpc.suspendedEndpoint = jpc.endpoints[anchorIdx];\r\n\r\n                        // PROVIDE THE SUSPENDED ELEMENT, BE IT A SOURCE OR TARGET (ISSUE 39)\r\n                        jpc.suspendedElement = jpc.endpoints[anchorIdx].getElement();\r\n                        jpc.suspendedElementId = jpc.endpoints[anchorIdx].elementId;\r\n                        jpc.suspendedElementType = anchorIdx === 0 ? \"source\" : \"target\";\r\n\r\n                        jpc.suspendedEndpoint.setHover(false);\r\n                        this._jsPlumb.floatingEndpoint.referenceEndpoint = jpc.suspendedEndpoint;\r\n                        jpc.endpoints[anchorIdx] = this._jsPlumb.floatingEndpoint;\r\n\r\n                        jpc.addClass(_jsPlumb.draggingClass);\r\n                        this._jsPlumb.floatingEndpoint.addClass(_jsPlumb.draggingClass);\r\n                    }\r\n\r\n                    _jsPlumb.registerFloatingConnection(placeholderInfo, jpc, this._jsPlumb.floatingEndpoint);\r\n\r\n                    // // register it and register connection on it.\r\n                    // _jsPlumb.floatingConnections[placeholderInfo.id] = jpc;\r\n                    //\r\n                    // // only register for the target endpoint; we will not be dragging the source at any time\r\n                    // // before this connection is either discarded or made into a permanent connection.\r\n                    // _ju.addToList(params.endpointsByElement, placeholderInfo.id, this._jsPlumb.floatingEndpoint);\r\n\r\n\r\n                    // tell jsplumb about it\r\n                    _jsPlumb.currentlyDragging = true;\r\n                }.bind(this);\r\n\r\n                var stop = function () {\r\n                    _jsPlumb.setConnectionBeingDragged(false);\r\n\r\n                    if (jpc && jpc.endpoints != null) {\r\n                        // get the actual drop event (decode from library args to stop function)\r\n                        var originalEvent = _jsPlumb.getDropEvent(arguments);\r\n                        // unlock the other endpoint (if it is dynamic, it would have been locked at drag start)\r\n                        var idx = _jsPlumb.getFloatingAnchorIndex(jpc);\r\n                        jpc.endpoints[idx === 0 ? 1 : 0].anchor.unlock();\r\n                        // TODO: Dont want to know about css classes inside jsplumb, ideally.\r\n                        jpc.removeClass(_jsPlumb.draggingClass);\r\n\r\n                        // if we have the floating endpoint then the connection has not been dropped\r\n                        // on another endpoint.  If it is a new connection we throw it away. If it is an\r\n                        // existing connection we check to see if we should reattach it, throwing it away\r\n                        // if not.\r\n                        if (this._jsPlumb && (jpc.deleteConnectionNow || jpc.endpoints[idx] === this._jsPlumb.floatingEndpoint)) {\r\n                            // 6a. if the connection was an existing one...\r\n                            if (existingJpc && jpc.suspendedEndpoint) {\r\n                                // fix for issue35, thanks Sylvain Gizard: when firing the detach event make sure the\r\n                                // floating endpoint has been replaced.\r\n                                if (idx === 0) {\r\n                                    jpc.floatingElement = jpc.source;\r\n                                    jpc.floatingId = jpc.sourceId;\r\n                                    jpc.floatingEndpoint = jpc.endpoints[0];\r\n                                    jpc.floatingIndex = 0;\r\n                                    jpc.source = existingJpcParams[0];\r\n                                    jpc.sourceId = existingJpcParams[1];\r\n                                } else {\r\n                                    // keep a copy of the floating element; the anchor manager will want to clean up.\r\n                                    jpc.floatingElement = jpc.target;\r\n                                    jpc.floatingId = jpc.targetId;\r\n                                    jpc.floatingEndpoint = jpc.endpoints[1];\r\n                                    jpc.floatingIndex = 1;\r\n                                    jpc.target = existingJpcParams[0];\r\n                                    jpc.targetId = existingJpcParams[1];\r\n                                }\r\n\r\n                                var fe = this._jsPlumb.floatingEndpoint; // store for later removal.\r\n                                // restore the original scope (issue 57)\r\n                                _jsPlumb.setDragScope(existingJpcParams[2], existingJpcParams[3]);\r\n                                jpc.endpoints[idx] = jpc.suspendedEndpoint;\r\n                                // if the connection should be reattached, or the other endpoint refuses detach, then\r\n                                // reset the connection to its original state\r\n                                if (jpc.isReattach() || jpc._forceReattach || jpc._forceDetach || !_jsPlumb.deleteConnection(jpc, {originalEvent: originalEvent})) {\r\n\r\n                                    jpc.setHover(false);\r\n                                    jpc._forceDetach = null;\r\n                                    jpc._forceReattach = null;\r\n                                    this._jsPlumb.floatingEndpoint.detachFromConnection(jpc);\r\n                                    jpc.suspendedEndpoint.addConnection(jpc);\r\n\r\n                                    // TODO this code is duplicated in lots of places...and there is nothing external\r\n                                    // in the code; it all refers to the connection itself. we could add a\r\n                                    // `checkSanity(connection)` method to anchorManager that did this.\r\n                                    if (idx === 1) {\r\n                                        _jsPlumb.anchorManager.updateOtherEndpoint(jpc.sourceId, jpc.floatingId, jpc.targetId, jpc);\r\n                                    }\r\n                                    else {\r\n                                        _jsPlumb.anchorManager.sourceChanged(jpc.floatingId, jpc.sourceId, jpc, jpc.source);\r\n                                    }\r\n\r\n                                    _jsPlumb.repaint(existingJpcParams[1]);\r\n                                }\r\n                                else {\r\n                                    _jsPlumb.deleteObject({endpoint: fe});\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        // makeTargets sets this flag, to tell us we have been replaced and should delete this object.\r\n                        if (this.deleteAfterDragStop) {\r\n                            _jsPlumb.deleteObject({endpoint: this});\r\n                        }\r\n                        else {\r\n                            if (this._jsPlumb) {\r\n                                this.paint({recalc: false});\r\n                            }\r\n                        }\r\n\r\n                        // although the connection is no longer valid, there are use cases where this is useful.\r\n                        _jsPlumb.fire(\"connectionDragStop\", jpc, originalEvent);\r\n                        // fire this event to give people more fine-grained control (connectionDragStop fires a lot)\r\n                        if (jpc.pending) {\r\n                            _jsPlumb.fire(\"connectionAborted\", jpc, originalEvent);\r\n                        }\r\n                        // tell jsplumb that dragging is finished.\r\n                        _jsPlumb.currentlyDragging = false;\r\n                        jpc.suspendedElement = null;\r\n                        jpc.suspendedEndpoint = null;\r\n                        jpc = null;\r\n                    }\r\n\r\n                    // if no endpoints, jpc already cleaned up. but still we want to ensure we're reset properly.\r\n                    // remove the element associated with the floating endpoint\r\n                    // (and its associated floating endpoint and visual artefacts)\r\n                    if (placeholderInfo && placeholderInfo.element) {\r\n                        _jsPlumb.remove(placeholderInfo.element, false, false);\r\n                    }\r\n                    // remove the inplace copy\r\n                    if (inPlaceCopy) {\r\n                        _jsPlumb.deleteObject({endpoint: inPlaceCopy});\r\n                    }\r\n\r\n                    if (this._jsPlumb) {\r\n                        // make our canvas visible (TODO: hand off to library; we should not know about DOM)\r\n                        this.canvas.style.visibility = \"visible\";\r\n                        // unlock our anchor\r\n                        this.anchor.unlock();\r\n                        // clear floating anchor.\r\n                        this._jsPlumb.floatingEndpoint = null;\r\n                    }\r\n\r\n                }.bind(this);\r\n\r\n                dragOptions = _jp.extend(defaultOpts, dragOptions);\r\n                dragOptions.scope = this.scope || dragOptions.scope;\r\n                dragOptions[beforeStartEvent] = _ju.wrap(dragOptions[beforeStartEvent], beforeStart, false);\r\n                dragOptions[startEvent] = _ju.wrap(dragOptions[startEvent], start, false);\r\n                // extracted drag handler function so can be used by makeSource\r\n                dragOptions[dragEvent] = _ju.wrap(dragOptions[dragEvent], _dragHandler.drag);\r\n                dragOptions[stopEvent] = _ju.wrap(dragOptions[stopEvent], stop);\r\n                dragOptions.multipleDrop = false;\r\n\r\n                dragOptions.canDrag = function () {\r\n                    return this.isSource || this.isTemporarySource || (this.connections.length > 0 && this.connectionsDetachable !== false);\r\n                }.bind(this);\r\n\r\n                _jsPlumb.initDraggable(this.canvas, dragOptions, \"internal\");\r\n\r\n                this.canvas._jsPlumbRelatedElement = this.element;\r\n\r\n                draggingInitialised = true;\r\n            }\r\n        };\r\n\r\n        var ep = params.endpoint || this._jsPlumb.instance.Defaults.Endpoint || _jp.Defaults.Endpoint;\r\n        this.setEndpoint(ep, true);\r\n        var anchorParamsToUse = params.anchor ? params.anchor : params.anchors ? params.anchors : (_jsPlumb.Defaults.Anchor || \"Top\");\r\n        this.setAnchor(anchorParamsToUse, true);\r\n\r\n        // finally, set type if it was provided\r\n        var type = [ \"default\", (params.type || \"\")].join(\" \");\r\n        this.addType(type, params.data, true);\r\n        this.canvas = this.endpoint.canvas;\r\n        this.canvas._jsPlumb = this;\r\n\r\n        this.initDraggable();\r\n\r\n        // pulled this out into a function so we can reuse it for the inPlaceCopy canvas; you can now drop detached connections\r\n        // back onto the endpoint you detached it from.\r\n        var _initDropTarget = function (canvas, isTransient, endpoint, referenceEndpoint) {\r\n\r\n            if (_jp.isDropSupported(this.element)) {\r\n                var dropOptions = params.dropOptions || _jsPlumb.Defaults.DropOptions || _jp.Defaults.DropOptions;\r\n                dropOptions = _jp.extend({}, dropOptions);\r\n                dropOptions.scope = dropOptions.scope || this.scope;\r\n                var dropEvent = _jp.dragEvents.drop,\r\n                    overEvent = _jp.dragEvents.over,\r\n                    outEvent = _jp.dragEvents.out,\r\n                    _ep = this,\r\n                    drop = _jsPlumb.EndpointDropHandler({\r\n                        getEndpoint: function () {\r\n                            return _ep;\r\n                        },\r\n                        jsPlumb: _jsPlumb,\r\n                        enabled: function () {\r\n                            return endpoint != null ? endpoint.isEnabled() : true;\r\n                        },\r\n                        isFull: function () {\r\n                            return endpoint.isFull();\r\n                        },\r\n                        element: this.element,\r\n                        elementId: this.elementId,\r\n                        isSource: this.isSource,\r\n                        isTarget: this.isTarget,\r\n                        addClass: function (clazz) {\r\n                            _ep.addClass(clazz);\r\n                        },\r\n                        removeClass: function (clazz) {\r\n                            _ep.removeClass(clazz);\r\n                        },\r\n                        isDropAllowed: function () {\r\n                            return _ep.isDropAllowed.apply(_ep, arguments);\r\n                        },\r\n                        reference:referenceEndpoint,\r\n                        isRedrop:function(jpc, dhParams) {\r\n                            return jpc.suspendedEndpoint && dhParams.reference && (jpc.suspendedEndpoint.id === dhParams.reference.id);\r\n                        }\r\n                    });\r\n\r\n                dropOptions[dropEvent] = _ju.wrap(dropOptions[dropEvent], drop, true);\r\n                dropOptions[overEvent] = _ju.wrap(dropOptions[overEvent], function () {\r\n                    var draggable = _jp.getDragObject(arguments),\r\n                        id = _jsPlumb.getAttribute(_jp.getElement(draggable), \"dragId\"),\r\n                        _jpc = _jsPlumb.getFloatingConnectionFor(id);//_jsPlumb.floatingConnections[id];\r\n\r\n                    if (_jpc != null) {\r\n                        var idx = _jsPlumb.getFloatingAnchorIndex(_jpc);\r\n                        // here we should fire the 'over' event if we are a target and this is a new connection,\r\n                        // or we are the same as the floating endpoint.\r\n                        var _cont = (this.isTarget && idx !== 0) || (_jpc.suspendedEndpoint && this.referenceEndpoint && this.referenceEndpoint.id === _jpc.suspendedEndpoint.id);\r\n                        if (_cont) {\r\n                            var bb = _jsPlumb.checkCondition(\"checkDropAllowed\", {\r\n                                sourceEndpoint: _jpc.endpoints[idx],\r\n                                targetEndpoint: this,\r\n                                connection: _jpc\r\n                            });\r\n                            this[(bb ? \"add\" : \"remove\") + \"Class\"](_jsPlumb.endpointDropAllowedClass);\r\n                            this[(bb ? \"remove\" : \"add\") + \"Class\"](_jsPlumb.endpointDropForbiddenClass);\r\n                            _jpc.endpoints[idx].anchor.over(this.anchor, this);\r\n                        }\r\n                    }\r\n                }.bind(this));\r\n\r\n                dropOptions[outEvent] = _ju.wrap(dropOptions[outEvent], function () {\r\n                    var draggable = _jp.getDragObject(arguments),\r\n                        id = draggable == null ? null : _jsPlumb.getAttribute(_jp.getElement(draggable), \"dragId\"),\r\n                        _jpc = id ? _jsPlumb.getFloatingConnectionFor(id) : null;\r\n\r\n                    if (_jpc != null) {\r\n                        var idx = _jsPlumb.getFloatingAnchorIndex(_jpc);\r\n                        var _cont = (this.isTarget && idx !== 0) || (_jpc.suspendedEndpoint && this.referenceEndpoint && this.referenceEndpoint.id === _jpc.suspendedEndpoint.id);\r\n                        if (_cont) {\r\n                            this.removeClass(_jsPlumb.endpointDropAllowedClass);\r\n                            this.removeClass(_jsPlumb.endpointDropForbiddenClass);\r\n                            _jpc.endpoints[idx].anchor.out();\r\n                        }\r\n                    }\r\n                }.bind(this));\r\n\r\n                _jsPlumb.initDroppable(canvas, dropOptions, \"internal\", isTransient);\r\n            }\r\n        }.bind(this);\r\n\r\n        // Initialise the endpoint's canvas as a drop target. The drop handler will take care of the logic of whether\r\n        // something can actually be dropped.\r\n        if (!this.anchor.isFloating) {\r\n            _initDropTarget(this.canvas, !(params._transient || this.anchor.isFloating), this, params.reference);\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    _ju.extend(_jp.Endpoint, _jp.OverlayCapableJsPlumbUIComponent, {\r\n\r\n        setVisible: function (v, doNotChangeConnections, doNotNotifyOtherEndpoint) {\r\n            this._jsPlumb.visible = v;\r\n            if (this.canvas) {\r\n                this.canvas.style.display = v ? \"block\" : \"none\";\r\n            }\r\n            this[v ? \"showOverlays\" : \"hideOverlays\"]();\r\n            if (!doNotChangeConnections) {\r\n                for (var i = 0; i < this.connections.length; i++) {\r\n                    this.connections[i].setVisible(v);\r\n                    if (!doNotNotifyOtherEndpoint) {\r\n                        var oIdx = this === this.connections[i].endpoints[0] ? 1 : 0;\r\n                        // only change the other endpoint if this is its only connection.\r\n                        if (this.connections[i].endpoints[oIdx].connections.length === 1) {\r\n                            this.connections[i].endpoints[oIdx].setVisible(v, true, true);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        getAttachedElements: function () {\r\n            return this.connections;\r\n        },\r\n        applyType: function (t, doNotRepaint) {\r\n            this.setPaintStyle(t.endpointStyle || t.paintStyle, doNotRepaint);\r\n            this.setHoverPaintStyle(t.endpointHoverStyle || t.hoverPaintStyle, doNotRepaint);\r\n            if (t.maxConnections != null) {\r\n                this._jsPlumb.maxConnections = t.maxConnections;\r\n            }\r\n            if (t.scope) {\r\n                this.scope = t.scope;\r\n            }\r\n            _jp.extend(this, t, typeParameters);\r\n            if (t.cssClass != null && this.canvas) {\r\n                this._jsPlumb.instance.addClass(this.canvas, t.cssClass);\r\n            }\r\n            _jp.OverlayCapableJsPlumbUIComponent.applyType(this, t);\r\n        },\r\n        isEnabled: function () {\r\n            return this._jsPlumb.enabled;\r\n        },\r\n        setEnabled: function (e) {\r\n            this._jsPlumb.enabled = e;\r\n        },\r\n        cleanup: function () {\r\n            var anchorClass = this._jsPlumb.instance.endpointAnchorClassPrefix + (this._jsPlumb.currentAnchorClass ? \"-\" + this._jsPlumb.currentAnchorClass : \"\");\r\n            _jp.removeClass(this.element, anchorClass);\r\n            this.anchor = null;\r\n            this.endpoint.cleanup(true);\r\n            this.endpoint.destroy();\r\n            this.endpoint = null;\r\n            // drag/drop\r\n            this._jsPlumb.instance.destroyDraggable(this.canvas, \"internal\");\r\n            this._jsPlumb.instance.destroyDroppable(this.canvas, \"internal\");\r\n        },\r\n        setHover: function (h) {\r\n            if (this.endpoint && this._jsPlumb && !this._jsPlumb.instance.isConnectionBeingDragged()) {\r\n                this.endpoint.setHover(h);\r\n            }\r\n        },\r\n        isFull: function () {\r\n            return this._jsPlumb.maxConnections === 0 ? true : !(this.isFloating() || this._jsPlumb.maxConnections < 0 || this.connections.length < this._jsPlumb.maxConnections);\r\n        },\r\n        /**\r\n         * private but needs to be exposed.\r\n         */\r\n        isFloating: function () {\r\n            return this.anchor != null && this.anchor.isFloating;\r\n        },\r\n        isConnectedTo: function (endpoint) {\r\n            var found = false;\r\n            if (endpoint) {\r\n                for (var i = 0; i < this.connections.length; i++) {\r\n                    if (this.connections[i].endpoints[1] === endpoint || this.connections[i].endpoints[0] === endpoint) {\r\n                        found = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return found;\r\n        },\r\n        getConnectionCost: function () {\r\n            return this._jsPlumb.connectionCost;\r\n        },\r\n        setConnectionCost: function (c) {\r\n            this._jsPlumb.connectionCost = c;\r\n        },\r\n        areConnectionsDirected: function () {\r\n            return this._jsPlumb.connectionsDirected;\r\n        },\r\n        setConnectionsDirected: function (b) {\r\n            this._jsPlumb.connectionsDirected = b;\r\n        },\r\n        setElementId: function (_elId) {\r\n            this.elementId = _elId;\r\n            this.anchor.elementId = _elId;\r\n        },\r\n        setReferenceElement: function (_el) {\r\n            this.element = _jp.getElement(_el);\r\n        },\r\n        setDragAllowedWhenFull: function (allowed) {\r\n            this.dragAllowedWhenFull = allowed;\r\n        },\r\n        equals: function (endpoint) {\r\n            return this.anchor.equals(endpoint.anchor);\r\n        },\r\n        getUuid: function () {\r\n            return this._jsPlumb.uuid;\r\n        },\r\n        computeAnchor: function (params) {\r\n            return this.anchor.compute(params);\r\n        }\r\n    });\r\n\r\n    root.jsPlumbInstance.prototype.EndpointDropHandler = function (dhParams) {\r\n        return function (e) {\r\n\r\n            var _jsPlumb = dhParams.jsPlumb;\r\n\r\n            // remove the classes that are added dynamically. drop is neither forbidden nor allowed now that\r\n            // the drop is finishing.\r\n            dhParams.removeClass(_jsPlumb.endpointDropAllowedClass);\r\n            dhParams.removeClass(_jsPlumb.endpointDropForbiddenClass);\r\n\r\n            var originalEvent = _jsPlumb.getDropEvent(arguments),\r\n                draggable = _jsPlumb.getDragObject(arguments),\r\n                id = _jsPlumb.getAttribute(draggable, \"dragId\"),\r\n                elId = _jsPlumb.getAttribute(draggable, \"elId\"),\r\n                scope = _jsPlumb.getAttribute(draggable, \"originalScope\"),\r\n                jpc = _jsPlumb.getFloatingConnectionFor(id);\r\n\r\n            // if no active connection, bail.\r\n            if (jpc == null) {\r\n                return;\r\n            }\r\n\r\n            // calculate if this is an existing connection.\r\n            var existingConnection = jpc.suspendedEndpoint != null;\r\n\r\n            // if suspended endpoint exists but has been cleaned up, bail. This means it's an existing connection\r\n            // that has been detached and will shortly be discarded.\r\n            if (existingConnection && jpc.suspendedEndpoint._jsPlumb == null) {\r\n                return;\r\n            }\r\n\r\n            // get the drop endpoint. for a normal connection this is just the one that would replace the currently\r\n            // floating endpoint. for a makeTarget this is a new endpoint that is created on drop. But we leave that to\r\n            // the handler to figure out.\r\n            var _ep = dhParams.getEndpoint(jpc);\r\n\r\n            // If we're not given an endpoint to use, bail.\r\n            if (_ep == null) {\r\n                return;\r\n            }\r\n\r\n            // if this is a drop back where the connection came from, mark it force reattach and\r\n            // return; the stop handler will reattach. without firing an event.\r\n            if (dhParams.isRedrop(jpc, dhParams)) {\r\n                jpc._forceReattach = true;\r\n                jpc.setHover(false);\r\n                if (dhParams.maybeCleanup) {\r\n                    dhParams.maybeCleanup(_ep);\r\n                }\r\n                return;\r\n            }\r\n\r\n            // ensure we dont bother trying to drop sources on non-source eps, and same for target.\r\n            var idx = _jsPlumb.getFloatingAnchorIndex(jpc);\r\n            if ((idx === 0 && !dhParams.isSource)|| (idx === 1 && !dhParams.isTarget)){\r\n                if (dhParams.maybeCleanup) {\r\n                    dhParams.maybeCleanup(_ep);\r\n                }\r\n                return;\r\n            }\r\n\r\n            if (dhParams.onDrop) {\r\n                dhParams.onDrop(jpc);\r\n            }\r\n\r\n            // restore the original scope if necessary (issue 57)\r\n            if (scope) {\r\n                _jsPlumb.setDragScope(draggable, scope);\r\n            }\r\n\r\n            // if the target of the drop is full, fire an event (we abort below)\r\n            // makeTarget: keep.\r\n            var isFull = dhParams.isFull(e);\r\n            if (isFull) {\r\n                _ep.fire(\"maxConnections\", {\r\n                    endpoint: this,\r\n                    connection: jpc,\r\n                    maxConnections: _ep._jsPlumb.maxConnections\r\n                }, originalEvent);\r\n            }\r\n            //\r\n            // if endpoint enabled, not full, and matches the index of the floating endpoint...\r\n            if (!isFull &&  dhParams.enabled()) {\r\n                var _doContinue = true;\r\n\r\n                // before testing for beforeDrop, reset the connection's source/target to be the actual DOM elements\r\n                // involved (that is, stash any temporary stuff used for dragging. but we need to keep it around in\r\n                // order that the anchor manager can clean things up properly).\r\n                if (idx === 0) {\r\n                    jpc.floatingElement = jpc.source;\r\n                    jpc.floatingId = jpc.sourceId;\r\n                    jpc.floatingEndpoint = jpc.endpoints[0];\r\n                    jpc.floatingIndex = 0;\r\n                    jpc.source = dhParams.element;\r\n                    jpc.sourceId = dhParams.elementId;\r\n                } else {\r\n                    jpc.floatingElement = jpc.target;\r\n                    jpc.floatingId = jpc.targetId;\r\n                    jpc.floatingEndpoint = jpc.endpoints[1];\r\n                    jpc.floatingIndex = 1;\r\n                    jpc.target = dhParams.element;\r\n                    jpc.targetId = dhParams.elementId;\r\n                }\r\n\r\n                // if this is an existing connection and detach is not allowed we won't continue. The connection's\r\n                // endpoints have been reinstated; everything is back to how it was.\r\n                if (existingConnection && jpc.suspendedEndpoint.id !== _ep.id) {\r\n                    if (!jpc.isDetachAllowed(jpc) || !jpc.endpoints[idx].isDetachAllowed(jpc) || !jpc.suspendedEndpoint.isDetachAllowed(jpc) || !_jsPlumb.checkCondition(\"beforeDetach\", jpc)) {\r\n                        _doContinue = false;\r\n                    }\r\n                }\r\n\r\n// ------------ wrap the execution path in a function so we can support asynchronous beforeDrop\r\n\r\n                var continueFunction = function (optionalData) {\r\n                    // remove this jpc from the current endpoint, which is a floating endpoint that we will\r\n                    // subsequently discard.\r\n                    jpc.endpoints[idx].detachFromConnection(jpc);\r\n\r\n                    // if there's a suspended endpoint, detach it from the connection.\r\n                    if (jpc.suspendedEndpoint) {\r\n                        jpc.suspendedEndpoint.detachFromConnection(jpc);\r\n                    }\r\n\r\n                    jpc.endpoints[idx] = _ep;\r\n                    _ep.addConnection(jpc);\r\n\r\n                    // copy our parameters in to the connection:\r\n                    var params = _ep.getParameters();\r\n                    for (var aParam in params) {\r\n                        jpc.setParameter(aParam, params[aParam]);\r\n                    }\r\n\r\n                    if (!existingConnection) {\r\n                        // if not an existing connection and\r\n                        if (params.draggable) {\r\n                            _jsPlumb.initDraggable(this.element, dhParams.dragOptions, \"internal\", _jsPlumb);\r\n                        }\r\n                    }\r\n                    else {\r\n                        var suspendedElementId = jpc.suspendedEndpoint.elementId;\r\n                        _jsPlumb.fireMoveEvent({\r\n                            index: idx,\r\n                            originalSourceId: idx === 0 ? suspendedElementId : jpc.sourceId,\r\n                            newSourceId: idx === 0 ? _ep.elementId : jpc.sourceId,\r\n                            originalTargetId: idx === 1 ? suspendedElementId : jpc.targetId,\r\n                            newTargetId: idx === 1 ? _ep.elementId : jpc.targetId,\r\n                            originalSourceEndpoint: idx === 0 ? jpc.suspendedEndpoint : jpc.endpoints[0],\r\n                            newSourceEndpoint: idx === 0 ? _ep : jpc.endpoints[0],\r\n                            originalTargetEndpoint: idx === 1 ? jpc.suspendedEndpoint : jpc.endpoints[1],\r\n                            newTargetEndpoint: idx === 1 ? _ep : jpc.endpoints[1],\r\n                            connection: jpc\r\n                        }, originalEvent);\r\n                    }\r\n\r\n                    if (idx === 1) {\r\n                        _jsPlumb.anchorManager.updateOtherEndpoint(jpc.sourceId, jpc.floatingId, jpc.targetId, jpc);\r\n                    }\r\n                    else {\r\n                        _jsPlumb.anchorManager.sourceChanged(jpc.floatingId, jpc.sourceId, jpc, jpc.source);\r\n                    }\r\n\r\n                    // when makeSource has uniqueEndpoint:true, we want to create connections with new endpoints\r\n                    // that are subsequently deleted. So makeSource sets `finalEndpoint`, which is the Endpoint to\r\n                    // which the connection should be attached. The `detachFromConnection` call below results in the\r\n                    // temporary endpoint being cleaned up.\r\n                    if (jpc.endpoints[0].finalEndpoint) {\r\n                        var _toDelete = jpc.endpoints[0];\r\n                        _toDelete.detachFromConnection(jpc);\r\n                        jpc.endpoints[0] = jpc.endpoints[0].finalEndpoint;\r\n                        jpc.endpoints[0].addConnection(jpc);\r\n                    }\r\n\r\n                    // if optionalData was given, merge it onto the connection's data.\r\n                    if (_ju.isObject(optionalData)) {\r\n                        jpc.mergeData(optionalData);\r\n                    }\r\n                    // finalise will inform the anchor manager and also add to\r\n                    // connectionsByScope if necessary.\r\n                    _jsPlumb.finaliseConnection(jpc, null, originalEvent, false);\r\n                    jpc.setHover(false);\r\n\r\n                    // SP continuous anchor flush\r\n                    _jsPlumb.revalidate(jpc.endpoints[0].element);\r\n\r\n                }.bind(this);\r\n\r\n                var dontContinueFunction = function () {\r\n                    // otherwise just put it back on the endpoint it was on before the drag.\r\n                    if (jpc.suspendedEndpoint) {\r\n                        jpc.endpoints[idx] = jpc.suspendedEndpoint;\r\n                        jpc.setHover(false);\r\n                        jpc._forceDetach = true;\r\n                        if (idx === 0) {\r\n                            jpc.source = jpc.suspendedEndpoint.element;\r\n                            jpc.sourceId = jpc.suspendedEndpoint.elementId;\r\n                        } else {\r\n                            jpc.target = jpc.suspendedEndpoint.element;\r\n                            jpc.targetId = jpc.suspendedEndpoint.elementId;\r\n                        }\r\n                        jpc.suspendedEndpoint.addConnection(jpc);\r\n\r\n                        // TODO checkSanity\r\n                        if (idx === 1) {\r\n                            _jsPlumb.anchorManager.updateOtherEndpoint(jpc.sourceId, jpc.floatingId, jpc.targetId, jpc);\r\n                        }\r\n                        else {\r\n                            _jsPlumb.anchorManager.sourceChanged(jpc.floatingId, jpc.sourceId, jpc, jpc.source);\r\n                        }\r\n\r\n                        _jsPlumb.repaint(jpc.sourceId);\r\n                        jpc._forceDetach = false;\r\n                    }\r\n                };\r\n\r\n// --------------------------------------\r\n                // now check beforeDrop.  this will be available only on Endpoints that are setup to\r\n                // have a beforeDrop condition (although, secretly, under the hood all Endpoints and\r\n                // the Connection have them, because they are on jsPlumbUIComponent.  shhh!), because\r\n                // it only makes sense to have it on a target endpoint.\r\n                _doContinue = _doContinue && dhParams.isDropAllowed(jpc.sourceId, jpc.targetId, jpc.scope, jpc, _ep);// && jpc.pending;\r\n\r\n                if (_doContinue) {\r\n                    continueFunction(_doContinue);\r\n                    return true;\r\n                }\r\n                else {\r\n                    dontContinueFunction();\r\n                }\r\n            }\r\n\r\n            if (dhParams.maybeCleanup) {\r\n                dhParams.maybeCleanup(_ep);\r\n            }\r\n\r\n            _jsPlumb.currentlyDragging = false;\r\n        };\r\n    };\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n\r\n/*\r\n * This file contains the code for Connections.\r\n *\r\n * Copyright (c) 2010 - 2018 jsPlumb (hello@jsplumbtoolkit.com)\r\n *\r\n * https://jsplumbtoolkit.com\r\n * https://github.com/jsplumb/jsplumb\r\n *\r\n * Dual licensed under the MIT and GPL2 licenses.\r\n */\r\n;\r\n(function () {\r\n\r\n    \"use strict\";\r\n    var root = this,\r\n        _jp = root.jsPlumb,\r\n        _ju = root.jsPlumbUtil;\r\n\r\n    var makeConnector = function (_jsPlumb, renderMode, connectorName, connectorArgs, forComponent) {\r\n            // first make sure we have a cache for the specified renderer\r\n            _jp.Connectors[renderMode] = _jp.Connectors[renderMode] || {};\r\n\r\n            // now see if the one we want exists; if not we will try to make it\r\n            if (_jp.Connectors[renderMode][connectorName] == null) {\r\n\r\n                if (_jp.Connectors[connectorName] == null) {\r\n                    if (!_jsPlumb.Defaults.DoNotThrowErrors) {\r\n                        throw new TypeError(\"jsPlumb: unknown connector type '\" + connectorName + \"'\");\r\n                    } else {\r\n                        return null;\r\n                    }\r\n                }\r\n\r\n                _jp.Connectors[renderMode][connectorName] = function() {\r\n                    _jp.Connectors[connectorName].apply(this, arguments);\r\n                    _jp.ConnectorRenderers[renderMode].apply(this, arguments);\r\n                };\r\n\r\n                _ju.extend(_jp.Connectors[renderMode][connectorName], [ _jp.Connectors[connectorName], _jp.ConnectorRenderers[renderMode]]);\r\n\r\n            }\r\n\r\n            return new _jp.Connectors[renderMode][connectorName](connectorArgs, forComponent);\r\n        },\r\n        _makeAnchor = function (anchorParams, elementId, _jsPlumb) {\r\n            return (anchorParams) ? _jsPlumb.makeAnchor(anchorParams, elementId, _jsPlumb) : null;\r\n        },\r\n        _updateConnectedClass = function (conn, element, _jsPlumb, remove) {\r\n            if (element != null) {\r\n                element._jsPlumbConnections = element._jsPlumbConnections || {};\r\n                if (remove) {\r\n                    delete element._jsPlumbConnections[conn.id];\r\n                }\r\n                else {\r\n                    element._jsPlumbConnections[conn.id] = true;\r\n                }\r\n\r\n                if (_ju.isEmpty(element._jsPlumbConnections)) {\r\n                    _jsPlumb.removeClass(element, _jsPlumb.connectedClass);\r\n                }\r\n                else {\r\n                    _jsPlumb.addClass(element, _jsPlumb.connectedClass);\r\n                }\r\n            }\r\n        };\r\n\r\n    _jp.Connection = function (params) {\r\n        var _newEndpoint = params.newEndpoint;\r\n\r\n        this.id = params.id;\r\n        this.connector = null;\r\n        this.idPrefix = \"_jsplumb_c_\";\r\n        this.defaultLabelLocation = 0.5;\r\n        this.defaultOverlayKeys = [\"Overlays\", \"ConnectionOverlays\"];\r\n        // if a new connection is the result of moving some existing connection, params.previousConnection\r\n        // will have that Connection in it. listeners for the jsPlumbConnection event can look for that\r\n        // member and take action if they need to.\r\n        this.previousConnection = params.previousConnection;\r\n        this.source = _jp.getElement(params.source);\r\n        this.target = _jp.getElement(params.target);\r\n\r\n\r\n        _jp.OverlayCapableJsPlumbUIComponent.apply(this, arguments);\r\n\r\n        // sourceEndpoint and targetEndpoint override source/target, if they are present. but\r\n        // source is not overridden if the Endpoint has declared it is not the final target of a connection;\r\n        // instead we use the source that the Endpoint declares will be the final source element.\r\n        if (params.sourceEndpoint) {\r\n            this.source = params.sourceEndpoint.getElement();\r\n            this.sourceId = params.sourceEndpoint.elementId;\r\n        } else {\r\n            this.sourceId = this._jsPlumb.instance.getId(this.source);\r\n        }\r\n\r\n        if (params.targetEndpoint) {\r\n            this.target = params.targetEndpoint.getElement();\r\n            this.targetId = params.targetEndpoint.elementId;\r\n        } else {\r\n            this.targetId = this._jsPlumb.instance.getId(this.target);\r\n        }\r\n\r\n\r\n        this.scope = params.scope; // scope may have been passed in to the connect call. if it wasn't, we will pull it from the source endpoint, after having initialised the endpoints.\r\n        this.endpoints = [];\r\n        this.endpointStyles = [];\r\n\r\n        var _jsPlumb = this._jsPlumb.instance;\r\n\r\n        _jsPlumb.manage(this.sourceId, this.source);\r\n        _jsPlumb.manage(this.targetId, this.target);\r\n\r\n        this._jsPlumb.visible = true;\r\n\r\n        this._jsPlumb.params = {\r\n            cssClass: params.cssClass,\r\n            container: params.container,\r\n            \"pointer-events\": params[\"pointer-events\"],\r\n            editorParams: params.editorParams,\r\n            overlays: params.overlays\r\n        };\r\n        this._jsPlumb.lastPaintedAt = null;\r\n\r\n        // listen to mouseover and mouseout events passed from the container delegate.\r\n        this.bind(\"mouseover\", function () {\r\n            this.setHover(true);\r\n        }.bind(this));\r\n        this.bind(\"mouseout\", function () {\r\n            this.setHover(false);\r\n        }.bind(this));\r\n\r\n\r\n// INITIALISATION CODE\r\n\r\n        this.makeEndpoint = function (isSource, el, elId, ep, definition) {\r\n            elId = elId || this._jsPlumb.instance.getId(el);\r\n            return this.prepareEndpoint(_jsPlumb, _newEndpoint, this, ep, isSource ? 0 : 1, params, el, elId, definition);\r\n        };\r\n\r\n        // if type given, get the endpoint definitions mapping to that type from the jsplumb instance, and use those.\r\n        // we apply types at the end of this constructor but endpoints are only honoured in a type definition at\r\n        // create time.\r\n        if (params.type) {\r\n            params.endpoints = params.endpoints || this._jsPlumb.instance.deriveEndpointAndAnchorSpec(params.type).endpoints;\r\n        }\r\n\r\n        var eS = this.makeEndpoint(true, this.source, this.sourceId, params.sourceEndpoint),\r\n            eT = this.makeEndpoint(false, this.target, this.targetId, params.targetEndpoint);\r\n\r\n        if (eS) {\r\n            _ju.addToList(params.endpointsByElement, this.sourceId, eS);\r\n        }\r\n        if (eT) {\r\n            _ju.addToList(params.endpointsByElement, this.targetId, eT);\r\n        }\r\n        // if scope not set, set it to be the scope for the source endpoint.\r\n        if (!this.scope) {\r\n            this.scope = this.endpoints[0].scope;\r\n        }\r\n\r\n        // if explicitly told to (or not to) delete endpoints when empty, override endpoint's preferences\r\n        if (params.deleteEndpointsOnEmpty != null) {\r\n            this.endpoints[0].setDeleteOnEmpty(params.deleteEndpointsOnEmpty);\r\n            this.endpoints[1].setDeleteOnEmpty(params.deleteEndpointsOnEmpty);\r\n        }\r\n\r\n// -------------------------- DEFAULT TYPE ---------------------------------------------\r\n\r\n        // DETACHABLE\r\n        var _detachable = _jsPlumb.Defaults.ConnectionsDetachable;\r\n        if (params.detachable === false) {\r\n            _detachable = false;\r\n        }\r\n        if (this.endpoints[0].connectionsDetachable === false) {\r\n            _detachable = false;\r\n        }\r\n        if (this.endpoints[1].connectionsDetachable === false) {\r\n            _detachable = false;\r\n        }\r\n        // REATTACH\r\n        var _reattach = params.reattach || this.endpoints[0].reattachConnections || this.endpoints[1].reattachConnections || _jsPlumb.Defaults.ReattachConnections;\r\n\r\n        this.appendToDefaultType({\r\n            detachable: _detachable,\r\n            reattach: _reattach,\r\n            paintStyle:this.endpoints[0].connectorStyle || this.endpoints[1].connectorStyle || params.paintStyle || _jsPlumb.Defaults.PaintStyle || _jp.Defaults.PaintStyle,\r\n            hoverPaintStyle:this.endpoints[0].connectorHoverStyle || this.endpoints[1].connectorHoverStyle || params.hoverPaintStyle || _jsPlumb.Defaults.HoverPaintStyle || _jp.Defaults.HoverPaintStyle\r\n        });\r\n\r\n        var _suspendedAt = _jsPlumb.getSuspendedAt();\r\n        if (!_jsPlumb.isSuspendDrawing()) {\r\n            // paint the endpoints\r\n            var myInfo = _jsPlumb.getCachedData(this.sourceId),\r\n                myOffset = myInfo.o, myWH = myInfo.s,\r\n                otherInfo = _jsPlumb.getCachedData(this.targetId),\r\n                otherOffset = otherInfo.o,\r\n                otherWH = otherInfo.s,\r\n                initialTimestamp = _suspendedAt || _jsPlumb.timestamp(),\r\n                anchorLoc = this.endpoints[0].anchor.compute({\r\n                    xy: [ myOffset.left, myOffset.top ], wh: myWH, element: this.endpoints[0],\r\n                    elementId: this.endpoints[0].elementId,\r\n                    txy: [ otherOffset.left, otherOffset.top ], twh: otherWH, tElement: this.endpoints[1],\r\n                    timestamp: initialTimestamp\r\n                });\r\n\r\n            this.endpoints[0].paint({ anchorLoc: anchorLoc, timestamp: initialTimestamp });\r\n\r\n            anchorLoc = this.endpoints[1].anchor.compute({\r\n                xy: [ otherOffset.left, otherOffset.top ], wh: otherWH, element: this.endpoints[1],\r\n                elementId: this.endpoints[1].elementId,\r\n                txy: [ myOffset.left, myOffset.top ], twh: myWH, tElement: this.endpoints[0],\r\n                timestamp: initialTimestamp\r\n            });\r\n            this.endpoints[1].paint({ anchorLoc: anchorLoc, timestamp: initialTimestamp });\r\n        }\r\n\r\n        this.getTypeDescriptor = function () {\r\n            return \"connection\";\r\n        };\r\n        this.getAttachedElements = function () {\r\n            return this.endpoints;\r\n        };\r\n\r\n        this.isDetachable = function (ep) {\r\n            return this._jsPlumb.detachable === false ? false : ep != null ? ep.connectionsDetachable === true : this._jsPlumb.detachable === true;\r\n        };\r\n        this.setDetachable = function (detachable) {\r\n            this._jsPlumb.detachable = detachable === true;\r\n        };\r\n        this.isReattach = function () {\r\n            return this._jsPlumb.reattach === true || this.endpoints[0].reattachConnections === true || this.endpoints[1].reattachConnections === true;\r\n        };\r\n        this.setReattach = function (reattach) {\r\n            this._jsPlumb.reattach = reattach === true;\r\n        };\r\n\r\n// END INITIALISATION CODE\r\n\r\n\r\n// COST + DIRECTIONALITY\r\n        // if cost not supplied, try to inherit from source endpoint\r\n        this._jsPlumb.cost = params.cost || this.endpoints[0].getConnectionCost();\r\n        this._jsPlumb.directed = params.directed;\r\n        // inherit directed flag if set no source endpoint\r\n        if (params.directed == null) {\r\n            this._jsPlumb.directed = this.endpoints[0].areConnectionsDirected();\r\n        }\r\n// END COST + DIRECTIONALITY\r\n\r\n// PARAMETERS\r\n        // merge all the parameters objects into the connection.  parameters set\r\n        // on the connection take precedence; then source endpoint params, then\r\n        // finally target endpoint params.\r\n        var _p = _jp.extend({}, this.endpoints[1].getParameters());\r\n        _jp.extend(_p, this.endpoints[0].getParameters());\r\n        _jp.extend(_p, this.getParameters());\r\n        this.setParameters(_p);\r\n// END PARAMETERS\r\n\r\n// PAINTING\r\n\r\n        this.setConnector(this.endpoints[0].connector || this.endpoints[1].connector || params.connector || _jsPlumb.Defaults.Connector || _jp.Defaults.Connector, true);\r\n        var data = params.data == null || !_ju.isObject(params.data) ? {} : params.data;\r\n        this.getData = function() { return data; };\r\n        this.setData = function(d) { data = d || {}; };\r\n        this.mergeData = function(d) { data = _jp.extend(data, d); };\r\n\r\n        // the very last thing we do is apply types, if there are any.\r\n        var _types = [ \"default\", this.endpoints[0].connectionType, this.endpoints[1].connectionType,  params.type ].join(\" \");\r\n        if (/[^\\s]/.test(_types)) {\r\n            this.addType(_types, params.data, true);\r\n        }\r\n\r\n        this.updateConnectedClass();\r\n\r\n// END PAINTING\r\n    };\r\n\r\n    _ju.extend(_jp.Connection, _jp.OverlayCapableJsPlumbUIComponent, {\r\n        applyType: function (t, doNotRepaint, typeMap) {\r\n\r\n            var _connector = null;\r\n            if (t.connector != null) {\r\n                _connector = this.getCachedTypeItem(\"connector\", typeMap.connector);\r\n                if (_connector == null) {\r\n                    _connector = this.prepareConnector(t.connector, typeMap.connector);\r\n                    this.cacheTypeItem(\"connector\", _connector, typeMap.connector);\r\n                }\r\n                this.setPreparedConnector(_connector);\r\n            }\r\n\r\n            // none of these things result in the creation of objects so can be ignored.\r\n            if (t.detachable != null) {\r\n                this.setDetachable(t.detachable);\r\n            }\r\n            if (t.reattach != null) {\r\n                this.setReattach(t.reattach);\r\n            }\r\n            if (t.scope) {\r\n                this.scope = t.scope;\r\n            }\r\n\r\n            if (t.cssClass != null && this.canvas) {\r\n                this._jsPlumb.instance.addClass(this.canvas, t.cssClass);\r\n            }\r\n\r\n            var _anchors = null;\r\n            // this also results in the creation of objects.\r\n            if (t.anchor) {\r\n                // note that even if the param was anchor, we store `anchors`.\r\n                _anchors = this.getCachedTypeItem(\"anchors\", typeMap.anchor);\r\n                if (_anchors == null) {\r\n                    _anchors = [ this._jsPlumb.instance.makeAnchor(t.anchor), this._jsPlumb.instance.makeAnchor(t.anchor) ];\r\n                    this.cacheTypeItem(\"anchors\", _anchors, typeMap.anchor);\r\n                }\r\n            }\r\n            else if (t.anchors) {\r\n                _anchors = this.getCachedTypeItem(\"anchors\", typeMap.anchors);\r\n                if (_anchors == null) {\r\n                    _anchors = [\r\n                        this._jsPlumb.instance.makeAnchor(t.anchors[0]),\r\n                        this._jsPlumb.instance.makeAnchor(t.anchors[1])\r\n                    ];\r\n                    this.cacheTypeItem(\"anchors\", _anchors, typeMap.anchors);\r\n                }\r\n            }\r\n            if (_anchors != null) {\r\n                this.endpoints[0].anchor = _anchors[0];\r\n                this.endpoints[1].anchor = _anchors[1];\r\n                if (this.endpoints[1].anchor.isDynamic) {\r\n                    this._jsPlumb.instance.repaint(this.endpoints[1].elementId);\r\n                }\r\n            }\r\n\r\n            _jp.OverlayCapableJsPlumbUIComponent.applyType(this, t);\r\n        },\r\n        addClass: function (c, informEndpoints) {\r\n            if (informEndpoints) {\r\n                this.endpoints[0].addClass(c);\r\n                this.endpoints[1].addClass(c);\r\n                if (this.suspendedEndpoint) {\r\n                    this.suspendedEndpoint.addClass(c);\r\n                }\r\n            }\r\n            if (this.connector) {\r\n                this.connector.addClass(c);\r\n            }\r\n        },\r\n        removeClass: function (c, informEndpoints) {\r\n            if (informEndpoints) {\r\n                this.endpoints[0].removeClass(c);\r\n                this.endpoints[1].removeClass(c);\r\n                if (this.suspendedEndpoint) {\r\n                    this.suspendedEndpoint.removeClass(c);\r\n                }\r\n            }\r\n            if (this.connector) {\r\n                this.connector.removeClass(c);\r\n            }\r\n        },\r\n        isVisible: function () {\r\n            return this._jsPlumb.visible;\r\n        },\r\n        setVisible: function (v) {\r\n            this._jsPlumb.visible = v;\r\n            if (this.connector) {\r\n                this.connector.setVisible(v);\r\n            }\r\n            this.repaint();\r\n        },\r\n        cleanup: function () {\r\n            this.updateConnectedClass(true);\r\n            this.endpoints = null;\r\n            this.source = null;\r\n            this.target = null;\r\n            if (this.connector != null) {\r\n                this.connector.cleanup(true);\r\n                this.connector.destroy(true);\r\n            }\r\n            this.connector = null;\r\n        },\r\n        updateConnectedClass:function(remove) {\r\n            if (this._jsPlumb) {\r\n                _updateConnectedClass(this, this.source, this._jsPlumb.instance, remove);\r\n                _updateConnectedClass(this, this.target, this._jsPlumb.instance, remove);\r\n            }\r\n        },\r\n        setHover: function (state) {\r\n            if (this.connector && this._jsPlumb && !this._jsPlumb.instance.isConnectionBeingDragged()) {\r\n                this.connector.setHover(state);\r\n                root.jsPlumb[state ? \"addClass\" : \"removeClass\"](this.source, this._jsPlumb.instance.hoverSourceClass);\r\n                root.jsPlumb[state ? \"addClass\" : \"removeClass\"](this.target, this._jsPlumb.instance.hoverTargetClass);\r\n            }\r\n        },\r\n        getUuids:function() {\r\n            return [ this.endpoints[0].getUuid(), this.endpoints[1].getUuid() ];\r\n        },\r\n        getCost: function () {\r\n            return this._jsPlumb ? this._jsPlumb.cost : -Infinity;\r\n        },\r\n        setCost: function (c) {\r\n            this._jsPlumb.cost = c;\r\n        },\r\n        isDirected: function () {\r\n            return this._jsPlumb.directed;\r\n        },\r\n        getConnector: function () {\r\n            return this.connector;\r\n        },\r\n        prepareConnector:function(connectorSpec, typeId) {\r\n            var connectorArgs = {\r\n                    _jsPlumb: this._jsPlumb.instance,\r\n                    cssClass: this._jsPlumb.params.cssClass,\r\n                    container: this._jsPlumb.params.container,\r\n                    \"pointer-events\": this._jsPlumb.params[\"pointer-events\"]\r\n                },\r\n                renderMode = this._jsPlumb.instance.getRenderMode(),\r\n                connector;\r\n\r\n            if (_ju.isString(connectorSpec)) {\r\n                connector = makeConnector(this._jsPlumb.instance, renderMode, connectorSpec, connectorArgs, this);\r\n            } // lets you use a string as shorthand.\r\n            else if (_ju.isArray(connectorSpec)) {\r\n                if (connectorSpec.length === 1) {\r\n                    connector = makeConnector(this._jsPlumb.instance, renderMode, connectorSpec[0], connectorArgs, this);\r\n                }\r\n                else {\r\n                    connector = makeConnector(this._jsPlumb.instance, renderMode, connectorSpec[0], _ju.merge(connectorSpec[1], connectorArgs), this);\r\n                }\r\n            }\r\n            if (typeId != null) {\r\n                connector.typeId = typeId;\r\n            }\r\n            return connector;\r\n        },\r\n        setPreparedConnector: function(connector, doNotRepaint, doNotChangeListenerComponent, typeId) {\r\n\r\n            if (this.connector !== connector) {\r\n\r\n                var previous, previousClasses = \"\";\r\n                // the connector will not be cleaned up if it was set as part of a type, because `typeId` will be set on it\r\n                // and we havent passed in `true` for \"force\" here.\r\n                if (this.connector != null) {\r\n                    previous = this.connector;\r\n                    previousClasses = previous.getClass();\r\n                    this.connector.cleanup();\r\n                    this.connector.destroy();\r\n                }\r\n\r\n                this.connector = connector;\r\n                if (typeId) {\r\n                    this.cacheTypeItem(\"connector\", connector, typeId);\r\n                }\r\n\r\n                this.canvas = this.connector.canvas;\r\n                this.bgCanvas = this.connector.bgCanvas;\r\n\r\n                this.connector.reattach(this._jsPlumb.instance);\r\n\r\n                // put classes from prior connector onto the canvas\r\n                this.addClass(previousClasses);\r\n\r\n                // new: instead of binding listeners per connector, we now just have one delegate on the container.\r\n                // so for that handler we set the connection as the '_jsPlumb' member of the canvas element, and\r\n                // bgCanvas, if it exists, which it does right now in the VML renderer, so it won't from v 2.0.0 onwards.\r\n                if (this.canvas) {\r\n                    this.canvas._jsPlumb = this;\r\n                }\r\n                if (this.bgCanvas) {\r\n                    this.bgCanvas._jsPlumb = this;\r\n                }\r\n\r\n                if (previous != null) {\r\n                    var o = this.getOverlays();\r\n                    for (var i = 0; i < o.length; i++) {\r\n                        if (o[i].transfer) {\r\n                            o[i].transfer(this.connector);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (!doNotChangeListenerComponent) {\r\n                    this.setListenerComponent(this.connector);\r\n                }\r\n                if (!doNotRepaint) {\r\n                    this.repaint();\r\n                }\r\n            }\r\n        },\r\n        setConnector: function (connectorSpec, doNotRepaint, doNotChangeListenerComponent, typeId) {\r\n            var connector = this.prepareConnector(connectorSpec, typeId);\r\n            this.setPreparedConnector(connector, doNotRepaint, doNotChangeListenerComponent, typeId);\r\n        },\r\n        paint: function (params) {\r\n\r\n            if (!this._jsPlumb.instance.isSuspendDrawing() && this._jsPlumb.visible) {\r\n                params = params || {};\r\n                var timestamp = params.timestamp,\r\n                    // if the moving object is not the source we must transpose the two references.\r\n                    swap = false,\r\n                    tId = swap ? this.sourceId : this.targetId, sId = swap ? this.targetId : this.sourceId,\r\n                    tIdx = swap ? 0 : 1, sIdx = swap ? 1 : 0;\r\n\r\n                if (timestamp == null || timestamp !== this._jsPlumb.lastPaintedAt) {\r\n                    var sourceInfo = this._jsPlumb.instance.updateOffset({elId:sId}).o,\r\n                        targetInfo = this._jsPlumb.instance.updateOffset({elId:tId}).o,\r\n                        sE = this.endpoints[sIdx], tE = this.endpoints[tIdx];\r\n\r\n                    var sAnchorP = sE.anchor.getCurrentLocation({xy: [sourceInfo.left, sourceInfo.top], wh: [sourceInfo.width, sourceInfo.height], element: sE, timestamp: timestamp}),\r\n                        tAnchorP = tE.anchor.getCurrentLocation({xy: [targetInfo.left, targetInfo.top], wh: [targetInfo.width, targetInfo.height], element: tE, timestamp: timestamp});\r\n\r\n                    this.connector.resetBounds();\r\n\r\n                    this.connector.compute({\r\n                        sourcePos: sAnchorP,\r\n                        targetPos: tAnchorP,\r\n                        sourceOrientation:sE.anchor.getOrientation(sE),\r\n                        targetOrientation:tE.anchor.getOrientation(tE),\r\n                        sourceEndpoint: this.endpoints[sIdx],\r\n                        targetEndpoint: this.endpoints[tIdx],\r\n                        \"stroke-width\": this._jsPlumb.paintStyleInUse.strokeWidth,\r\n                        sourceInfo: sourceInfo,\r\n                        targetInfo: targetInfo\r\n                    });\r\n\r\n                    var overlayExtents = { minX: Infinity, minY: Infinity, maxX: -Infinity, maxY: -Infinity };\r\n\r\n                    // compute overlays. we do this first so we can get their placements, and adjust the\r\n                    // container if needs be (if an overlay would be clipped)\r\n                    for (var i in this._jsPlumb.overlays) {\r\n                        if (this._jsPlumb.overlays.hasOwnProperty(i)) {\r\n                            var o = this._jsPlumb.overlays[i];\r\n                            if (o.isVisible()) {\r\n                                this._jsPlumb.overlayPlacements[i] = o.draw(this.connector, this._jsPlumb.paintStyleInUse, this.getAbsoluteOverlayPosition(o));\r\n                                overlayExtents.minX = Math.min(overlayExtents.minX, this._jsPlumb.overlayPlacements[i].minX);\r\n                                overlayExtents.maxX = Math.max(overlayExtents.maxX, this._jsPlumb.overlayPlacements[i].maxX);\r\n                                overlayExtents.minY = Math.min(overlayExtents.minY, this._jsPlumb.overlayPlacements[i].minY);\r\n                                overlayExtents.maxY = Math.max(overlayExtents.maxY, this._jsPlumb.overlayPlacements[i].maxY);\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    var lineWidth = parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth || 1) / 2,\r\n                        outlineWidth = parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth || 0),\r\n                        extents = {\r\n                            xmin: Math.min(this.connector.bounds.minX - (lineWidth + outlineWidth), overlayExtents.minX),\r\n                            ymin: Math.min(this.connector.bounds.minY - (lineWidth + outlineWidth), overlayExtents.minY),\r\n                            xmax: Math.max(this.connector.bounds.maxX + (lineWidth + outlineWidth), overlayExtents.maxX),\r\n                            ymax: Math.max(this.connector.bounds.maxY + (lineWidth + outlineWidth), overlayExtents.maxY)\r\n                        };\r\n                    // paint the connector.\r\n                    this.connector.paintExtents = extents;\r\n                    this.connector.paint(this._jsPlumb.paintStyleInUse, null, extents);\r\n                    // and then the overlays\r\n                    for (var j in this._jsPlumb.overlays) {\r\n                        if (this._jsPlumb.overlays.hasOwnProperty(j)) {\r\n                            var p = this._jsPlumb.overlays[j];\r\n                            if (p.isVisible()) {\r\n                                p.paint(this._jsPlumb.overlayPlacements[j], extents);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this._jsPlumb.lastPaintedAt = timestamp;\r\n            }\r\n        },\r\n        repaint: function (params) {\r\n            var p = jsPlumb.extend(params || {}, {});\r\n            p.elId = this.sourceId;\r\n            this.paint(p);\r\n        },\r\n        prepareEndpoint: function (_jsPlumb, _newEndpoint, conn, existing, index, params, element, elementId, definition) {\r\n            var e;\r\n            if (existing) {\r\n                conn.endpoints[index] = existing;\r\n                existing.addConnection(conn);\r\n            } else {\r\n                if (!params.endpoints) {\r\n                    params.endpoints = [ null, null ];\r\n                }\r\n                var ep = definition || params.endpoints[index] || params.endpoint || _jsPlumb.Defaults.Endpoints[index] || _jp.Defaults.Endpoints[index] || _jsPlumb.Defaults.Endpoint || _jp.Defaults.Endpoint;\r\n                if (!params.endpointStyles) {\r\n                    params.endpointStyles = [ null, null ];\r\n                }\r\n                if (!params.endpointHoverStyles) {\r\n                    params.endpointHoverStyles = [ null, null ];\r\n                }\r\n                var es = params.endpointStyles[index] || params.endpointStyle || _jsPlumb.Defaults.EndpointStyles[index] || _jp.Defaults.EndpointStyles[index] || _jsPlumb.Defaults.EndpointStyle || _jp.Defaults.EndpointStyle;\r\n                // Endpoints derive their fill from the connector's stroke, if no fill was specified.\r\n                if (es.fill == null && params.paintStyle != null) {\r\n                    es.fill = params.paintStyle.stroke;\r\n                }\r\n\r\n                if (es.outlineStroke == null && params.paintStyle != null) {\r\n                    es.outlineStroke = params.paintStyle.outlineStroke;\r\n                }\r\n                if (es.outlineWidth == null && params.paintStyle != null) {\r\n                    es.outlineWidth = params.paintStyle.outlineWidth;\r\n                }\r\n\r\n                var ehs = params.endpointHoverStyles[index] || params.endpointHoverStyle || _jsPlumb.Defaults.EndpointHoverStyles[index] || _jp.Defaults.EndpointHoverStyles[index] || _jsPlumb.Defaults.EndpointHoverStyle || _jp.Defaults.EndpointHoverStyle;\r\n                // endpoint hover fill style is derived from connector's hover stroke style\r\n                if (params.hoverPaintStyle != null) {\r\n                    if (ehs == null) {\r\n                        ehs = {};\r\n                    }\r\n                    if (ehs.fill == null) {\r\n                        ehs.fill = params.hoverPaintStyle.stroke;\r\n                    }\r\n                }\r\n                var a = params.anchors ? params.anchors[index] :\r\n                    params.anchor ? params.anchor :\r\n                        _makeAnchor(_jsPlumb.Defaults.Anchors[index], elementId, _jsPlumb) ||\r\n                        _makeAnchor(_jp.Defaults.Anchors[index], elementId, _jsPlumb) ||\r\n                        _makeAnchor(_jsPlumb.Defaults.Anchor, elementId, _jsPlumb) ||\r\n                        _makeAnchor(_jp.Defaults.Anchor, elementId, _jsPlumb),\r\n                    u = params.uuids ? params.uuids[index] : null;\r\n\r\n                e = _newEndpoint({\r\n                    paintStyle: es, hoverPaintStyle: ehs, endpoint: ep, connections: [ conn ],\r\n                    uuid: u, anchor: a, source: element, scope: params.scope,\r\n                    reattach: params.reattach || _jsPlumb.Defaults.ReattachConnections,\r\n                    detachable: params.detachable || _jsPlumb.Defaults.ConnectionsDetachable\r\n                });\r\n                if (existing == null) {\r\n                    e.setDeleteOnEmpty(true);\r\n                }\r\n                conn.endpoints[index] = e;\r\n\r\n                if (params.drawEndpoints === false) {\r\n                    e.setVisible(false, true, true);\r\n                }\r\n\r\n            }\r\n            return e;\r\n        },\r\n        replaceEndpoint:function(idx, endpointDef) {\r\n\r\n            var current = this.endpoints[idx],\r\n                elId = current.elementId,\r\n                ebe = this._jsPlumb.instance.getEndpoints(elId),\r\n                _idx = ebe.indexOf(current),\r\n                _new = this.makeEndpoint(idx === 0, current.element, elId, null, endpointDef);\r\n\r\n            this.endpoints[idx] = _new;\r\n\r\n            ebe.splice(_idx, 1, _new);\r\n            this._jsPlumb.instance.deleteObject({endpoint:current, deleteAttachedObjects:false});\r\n            this._jsPlumb.instance.fire(\"endpointReplaced\", {previous:current, current:_new});\r\n\r\n            this._jsPlumb.instance.anchorManager.updateOtherEndpoint(this.endpoints[0].elementId, this.endpoints[1].elementId, this.endpoints[1].elementId, this);\r\n\r\n        }\r\n\r\n    }); // END Connection class\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n\r\n/*\r\n * This file contains the code for creating and manipulating anchors.\r\n *\r\n * Copyright (c) 2010 - 2018 jsPlumb (hello@jsplumbtoolkit.com)\r\n *\r\n * https://jsplumbtoolkit.com\r\n * https://github.com/jsplumb/jsplumb\r\n *\r\n * Dual licensed under the MIT and GPL2 licenses.\r\n */\r\n;\r\n(function () {\r\n\r\n    \"use strict\";\r\n\r\n    var root = this,\r\n        _ju = root.jsPlumbUtil,\r\n        _jp = root.jsPlumb;\r\n\r\n    //\r\n    // manages anchors for all elements.\r\n    //\r\n    _jp.AnchorManager = function (params) {\r\n        var _amEndpoints = {},\r\n            continuousAnchorLocations = {},\r\n            continuousAnchorOrientations = {},\r\n            connectionsByElementId = {},\r\n            self = this,\r\n            anchorLists = {},\r\n            jsPlumbInstance = params.jsPlumbInstance,\r\n            floatingConnections = {},\r\n            // used by placeAnchors function\r\n            placeAnchorsOnLine = function (desc, elementDimensions, elementPosition, connections, horizontal, otherMultiplier, reverse) {\r\n                var a = [], step = elementDimensions[horizontal ? 0 : 1] / (connections.length + 1);\r\n\r\n                for (var i = 0; i < connections.length; i++) {\r\n                    var val = (i + 1) * step, other = otherMultiplier * elementDimensions[horizontal ? 1 : 0];\r\n                    if (reverse) {\r\n                        val = elementDimensions[horizontal ? 0 : 1] - val;\r\n                    }\r\n\r\n                    var dx = (horizontal ? val : other), x = elementPosition[0] + dx, xp = dx / elementDimensions[0],\r\n                        dy = (horizontal ? other : val), y = elementPosition[1] + dy, yp = dy / elementDimensions[1];\r\n\r\n                    a.push([ x, y, xp, yp, connections[i][1], connections[i][2] ]);\r\n                }\r\n\r\n                return a;\r\n            },\r\n            // used by edgeSortFunctions\r\n            currySort = function (reverseAngles) {\r\n                return function (a, b) {\r\n                    var r = true;\r\n                    if (reverseAngles) {\r\n                        r = a[0][0] < b[0][0];\r\n                    }\r\n                    else {\r\n                        r = a[0][0] > b[0][0];\r\n                    }\r\n                    return r === false ? -1 : 1;\r\n                };\r\n            },\r\n            // used by edgeSortFunctions\r\n            leftSort = function (a, b) {\r\n                // first get adjusted values\r\n                var p1 = a[0][0] < 0 ? -Math.PI - a[0][0] : Math.PI - a[0][0],\r\n                    p2 = b[0][0] < 0 ? -Math.PI - b[0][0] : Math.PI - b[0][0];\r\n                if (p1 > p2) {\r\n                    return 1;\r\n                }\r\n                else {\r\n                    return -1;\r\n                }\r\n            },\r\n            // used by placeAnchors\r\n            edgeSortFunctions = {\r\n                \"top\": function (a, b) {\r\n                    return a[0] > b[0] ? 1 : -1;\r\n                },\r\n                \"right\": currySort(true),\r\n                \"bottom\": currySort(true),\r\n                \"left\": leftSort\r\n            },\r\n            // used by placeAnchors\r\n            _sortHelper = function (_array, _fn) {\r\n                return _array.sort(_fn);\r\n            },\r\n            // used by AnchorManager.redraw\r\n            placeAnchors = function (elementId, _anchorLists) {\r\n                var cd = jsPlumbInstance.getCachedData(elementId), sS = cd.s, sO = cd.o,\r\n                    placeSomeAnchors = function (desc, elementDimensions, elementPosition, unsortedConnections, isHorizontal, otherMultiplier, orientation) {\r\n                        if (unsortedConnections.length > 0) {\r\n                            var sc = _sortHelper(unsortedConnections, edgeSortFunctions[desc]), // puts them in order based on the target element's pos on screen\r\n                                reverse = desc === \"right\" || desc === \"top\",\r\n                                anchors = placeAnchorsOnLine(desc, elementDimensions,\r\n                                    elementPosition, sc,\r\n                                    isHorizontal, otherMultiplier, reverse);\r\n\r\n                            // takes a computed anchor position and adjusts it for parent offset and scroll, then stores it.\r\n                            var _setAnchorLocation = function (endpoint, anchorPos) {\r\n                                continuousAnchorLocations[endpoint.id] = [ anchorPos[0], anchorPos[1], anchorPos[2], anchorPos[3] ];\r\n                                continuousAnchorOrientations[endpoint.id] = orientation;\r\n                            };\r\n\r\n                            for (var i = 0; i < anchors.length; i++) {\r\n                                var c = anchors[i][4], weAreSource = c.endpoints[0].elementId === elementId, weAreTarget = c.endpoints[1].elementId === elementId;\r\n                                if (weAreSource) {\r\n                                    _setAnchorLocation(c.endpoints[0], anchors[i]);\r\n                                }\r\n                                if (weAreTarget) {\r\n                                    _setAnchorLocation(c.endpoints[1], anchors[i]);\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n\r\n                placeSomeAnchors(\"bottom\", sS, [sO.left, sO.top], _anchorLists.bottom, true, 1, [0, 1]);\r\n                placeSomeAnchors(\"top\", sS, [sO.left, sO.top], _anchorLists.top, true, 0, [0, -1]);\r\n                placeSomeAnchors(\"left\", sS, [sO.left, sO.top], _anchorLists.left, false, 0, [-1, 0]);\r\n                placeSomeAnchors(\"right\", sS, [sO.left, sO.top], _anchorLists.right, false, 1, [1, 0]);\r\n            };\r\n\r\n        this.reset = function () {\r\n            _amEndpoints = {};\r\n            connectionsByElementId = {};\r\n            anchorLists = {};\r\n        };\r\n        this.addFloatingConnection = function (key, conn) {\r\n            floatingConnections[key] = conn;\r\n        };\r\n        this.removeFloatingConnection = function (key) {\r\n            delete floatingConnections[key];\r\n        };\r\n        this.newConnection = function (conn) {\r\n            var sourceId = conn.sourceId, targetId = conn.targetId,\r\n                ep = conn.endpoints,\r\n                doRegisterTarget = true,\r\n                registerConnection = function (otherIndex, otherEndpoint, otherAnchor, elId, c) {\r\n                    if ((sourceId === targetId) && otherAnchor.isContinuous) {\r\n                        // remove the target endpoint's canvas.  we dont need it.\r\n                        conn._jsPlumb.instance.removeElement(ep[1].canvas);\r\n                        doRegisterTarget = false;\r\n                    }\r\n                    _ju.addToList(connectionsByElementId, elId, [c, otherEndpoint, otherAnchor.constructor === _jp.DynamicAnchor]);\r\n                };\r\n\r\n            registerConnection(0, ep[0], ep[0].anchor, targetId, conn);\r\n            if (doRegisterTarget) {\r\n                registerConnection(1, ep[1], ep[1].anchor, sourceId, conn);\r\n            }\r\n        };\r\n        var removeEndpointFromAnchorLists = function (endpoint) {\r\n            (function (list, eId) {\r\n                if (list) {  // transient anchors dont get entries in this list.\r\n                    var f = function (e) {\r\n                        return e[4] === eId;\r\n                    };\r\n                    _ju.removeWithFunction(list.top, f);\r\n                    _ju.removeWithFunction(list.left, f);\r\n                    _ju.removeWithFunction(list.bottom, f);\r\n                    _ju.removeWithFunction(list.right, f);\r\n                }\r\n            })(anchorLists[endpoint.elementId], endpoint.id);\r\n        };\r\n        this.connectionDetached = function (connInfo, doNotRedraw) {\r\n            var connection = connInfo.connection || connInfo,\r\n                sourceId = connInfo.sourceId,\r\n                targetId = connInfo.targetId,\r\n                ep = connection.endpoints,\r\n                removeConnection = function (otherIndex, otherEndpoint, otherAnchor, elId, c) {\r\n                    _ju.removeWithFunction(connectionsByElementId[elId], function (_c) {\r\n                        return _c[0].id === c.id;\r\n                    });\r\n                };\r\n\r\n            removeConnection(1, ep[1], ep[1].anchor, sourceId, connection);\r\n            removeConnection(0, ep[0], ep[0].anchor, targetId, connection);\r\n            if (connection.floatingId) {\r\n                removeConnection(connection.floatingIndex, connection.floatingEndpoint, connection.floatingEndpoint.anchor, connection.floatingId, connection);\r\n                removeEndpointFromAnchorLists(connection.floatingEndpoint);\r\n            }\r\n\r\n            // remove from anchorLists\r\n            removeEndpointFromAnchorLists(connection.endpoints[0]);\r\n            removeEndpointFromAnchorLists(connection.endpoints[1]);\r\n\r\n            if (!doNotRedraw) {\r\n                self.redraw(connection.sourceId);\r\n                if (connection.targetId !== connection.sourceId) {\r\n                    self.redraw(connection.targetId);\r\n                }\r\n            }\r\n        };\r\n        this.add = function (endpoint, elementId) {\r\n            _ju.addToList(_amEndpoints, elementId, endpoint);\r\n        };\r\n        this.changeId = function (oldId, newId) {\r\n            connectionsByElementId[newId] = connectionsByElementId[oldId];\r\n            _amEndpoints[newId] = _amEndpoints[oldId];\r\n            delete connectionsByElementId[oldId];\r\n            delete _amEndpoints[oldId];\r\n        };\r\n        this.getConnectionsFor = function (elementId) {\r\n            return connectionsByElementId[elementId] || [];\r\n        };\r\n        this.getEndpointsFor = function (elementId) {\r\n            return _amEndpoints[elementId] || [];\r\n        };\r\n        this.deleteEndpoint = function (endpoint) {\r\n            _ju.removeWithFunction(_amEndpoints[endpoint.elementId], function (e) {\r\n                return e.id === endpoint.id;\r\n            });\r\n            removeEndpointFromAnchorLists(endpoint);\r\n        };\r\n        this.clearFor = function (elementId) {\r\n            delete _amEndpoints[elementId];\r\n            _amEndpoints[elementId] = [];\r\n        };\r\n        // updates the given anchor list by either updating an existing anchor's info, or adding it. this function\r\n        // also removes the anchor from its previous list, if the edge it is on has changed.\r\n        // all connections found along the way (those that are connected to one of the faces this function\r\n        // operates on) are added to the connsToPaint list, as are their endpoints. in this way we know to repaint\r\n        // them wthout having to calculate anything else about them.\r\n        var _updateAnchorList = function (lists, theta, order, conn, aBoolean, otherElId, idx, reverse, edgeId, elId, connsToPaint, endpointsToPaint) {\r\n            // first try to find the exact match, but keep track of the first index of a matching element id along the way.s\r\n            var exactIdx = -1,\r\n                firstMatchingElIdx = -1,\r\n                endpoint = conn.endpoints[idx],\r\n                endpointId = endpoint.id,\r\n                oIdx = [1, 0][idx],\r\n                values = [\r\n                    [ theta, order ],\r\n                    conn,\r\n                    aBoolean,\r\n                    otherElId,\r\n                    endpointId\r\n                ],\r\n                listToAddTo = lists[edgeId],\r\n                listToRemoveFrom = endpoint._continuousAnchorEdge ? lists[endpoint._continuousAnchorEdge] : null,\r\n                i,\r\n                candidate;\r\n\r\n            if (listToRemoveFrom) {\r\n                var rIdx = _ju.findWithFunction(listToRemoveFrom, function (e) {\r\n                    return e[4] === endpointId;\r\n                });\r\n                if (rIdx !== -1) {\r\n                    listToRemoveFrom.splice(rIdx, 1);\r\n                    // get all connections from this list\r\n                    for (i = 0; i < listToRemoveFrom.length; i++) {\r\n                        candidate = listToRemoveFrom[i][1];\r\n                        _ju.addWithFunction(connsToPaint, candidate, function (c) {\r\n                            return c.id === candidate.id;\r\n                        });\r\n                        _ju.addWithFunction(endpointsToPaint, listToRemoveFrom[i][1].endpoints[idx], function (e) {\r\n                            return e.id === candidate.endpoints[idx].id;\r\n                        });\r\n                        _ju.addWithFunction(endpointsToPaint, listToRemoveFrom[i][1].endpoints[oIdx], function (e) {\r\n                            return e.id === candidate.endpoints[oIdx].id;\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (i = 0; i < listToAddTo.length; i++) {\r\n                candidate = listToAddTo[i][1];\r\n                if (params.idx === 1 && listToAddTo[i][3] === otherElId && firstMatchingElIdx === -1) {\r\n                    firstMatchingElIdx = i;\r\n                }\r\n                _ju.addWithFunction(connsToPaint, candidate, function (c) {\r\n                    return c.id === candidate.id;\r\n                });\r\n                _ju.addWithFunction(endpointsToPaint, listToAddTo[i][1].endpoints[idx], function (e) {\r\n                    return e.id === candidate.endpoints[idx].id;\r\n                });\r\n                _ju.addWithFunction(endpointsToPaint, listToAddTo[i][1].endpoints[oIdx], function (e) {\r\n                    return e.id === candidate.endpoints[oIdx].id;\r\n                });\r\n            }\r\n            if (exactIdx !== -1) {\r\n                listToAddTo[exactIdx] = values;\r\n            }\r\n            else {\r\n                var insertIdx = reverse ? firstMatchingElIdx !== -1 ? firstMatchingElIdx : 0 : listToAddTo.length; // of course we will get this from having looked through the array shortly.\r\n                listToAddTo.splice(insertIdx, 0, values);\r\n            }\r\n\r\n            // store this for next time.\r\n            endpoint._continuousAnchorEdge = edgeId;\r\n        };\r\n\r\n        //\r\n        // find the entry in an endpoint's list for this connection and update its target endpoint\r\n        // with the current target in the connection.\r\n        // This method and sourceChanged need to be folder into one.\r\n        //\r\n        this.updateOtherEndpoint = function (sourceElId, oldTargetId, newTargetId, connection) {\r\n            var sIndex = _ju.findWithFunction(connectionsByElementId[sourceElId], function (i) {\r\n                    return i[0].id === connection.id;\r\n                }),\r\n                tIndex = _ju.findWithFunction(connectionsByElementId[oldTargetId], function (i) {\r\n                    return i[0].id === connection.id;\r\n                });\r\n\r\n            // update or add data for source\r\n            if (sIndex !== -1) {\r\n                connectionsByElementId[sourceElId][sIndex][0] = connection;\r\n                connectionsByElementId[sourceElId][sIndex][1] = connection.endpoints[1];\r\n                connectionsByElementId[sourceElId][sIndex][2] = connection.endpoints[1].anchor.constructor === _jp.DynamicAnchor;\r\n            }\r\n\r\n            // remove entry for previous target (if there)\r\n            if (tIndex > -1) {\r\n                connectionsByElementId[oldTargetId].splice(tIndex, 1);\r\n                // add entry for new target\r\n                _ju.addToList(connectionsByElementId, newTargetId, [connection, connection.endpoints[0], connection.endpoints[0].anchor.constructor === _jp.DynamicAnchor]);\r\n            }\r\n\r\n            connection.updateConnectedClass();\r\n        };\r\n\r\n        //\r\n        // notification that the connection given has changed source from the originalId to the newId.\r\n        // This involves:\r\n        // 1. removing the connection from the list of connections stored for the originalId\r\n        // 2. updating the source information for the target of the connection\r\n        // 3. re-registering the connection in connectionsByElementId with the newId\r\n        //\r\n        this.sourceChanged = function (originalId, newId, connection, newElement) {\r\n            if (originalId !== newId) {\r\n\r\n                connection.sourceId = newId;\r\n                connection.source = newElement;\r\n\r\n                // remove the entry that points from the old source to the target\r\n                _ju.removeWithFunction(connectionsByElementId[originalId], function (info) {\r\n                    return info[0].id === connection.id;\r\n                });\r\n                // find entry for target and update it\r\n                var tIdx = _ju.findWithFunction(connectionsByElementId[connection.targetId], function (i) {\r\n                    return i[0].id === connection.id;\r\n                });\r\n                if (tIdx > -1) {\r\n                    connectionsByElementId[connection.targetId][tIdx][0] = connection;\r\n                    connectionsByElementId[connection.targetId][tIdx][1] = connection.endpoints[0];\r\n                    connectionsByElementId[connection.targetId][tIdx][2] = connection.endpoints[0].anchor.constructor === _jp.DynamicAnchor;\r\n                }\r\n                // add entry for new source\r\n                _ju.addToList(connectionsByElementId, newId, [connection, connection.endpoints[1], connection.endpoints[1].anchor.constructor === _jp.DynamicAnchor]);\r\n\r\n                // TODO SP not final on this yet. when a user drags an existing connection and it turns into a self\r\n                // loop, then this code hides the target endpoint (by removing it from the DOM) But I think this should\r\n                // occur only if the anchor is Continuous\r\n                if (connection.endpoints[1].anchor.isContinuous) {\r\n                    if (connection.source === connection.target) {\r\n                        connection._jsPlumb.instance.removeElement(connection.endpoints[1].canvas);\r\n                    }\r\n                    else {\r\n                        if (connection.endpoints[1].canvas.parentNode == null) {\r\n                            connection._jsPlumb.instance.appendElement(connection.endpoints[1].canvas);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                connection.updateConnectedClass();\r\n            }\r\n        };\r\n\r\n        //\r\n        // moves the given endpoint from `currentId` to `element`.\r\n        // This involves:\r\n        //\r\n        // 1. changing the key in _amEndpoints under which the endpoint is stored\r\n        // 2. changing the source or target values in all of the endpoint's connections\r\n        // 3. changing the array in connectionsByElementId in which the endpoint's connections\r\n        //    are stored (done by either sourceChanged or updateOtherEndpoint)\r\n        //\r\n        this.rehomeEndpoint = function (ep, currentId, element) {\r\n            var eps = _amEndpoints[currentId] || [],\r\n                elementId = jsPlumbInstance.getId(element);\r\n\r\n            if (elementId !== currentId) {\r\n                var idx = eps.indexOf(ep);\r\n                if (idx > -1) {\r\n                    var _ep = eps.splice(idx, 1)[0];\r\n                    self.add(_ep, elementId);\r\n                }\r\n            }\r\n\r\n            for (var i = 0; i < ep.connections.length; i++) {\r\n                if (ep.connections[i].sourceId === currentId) {\r\n                    self.sourceChanged(currentId, ep.elementId, ep.connections[i], ep.element);\r\n                }\r\n                else if (ep.connections[i].targetId === currentId) {\r\n                    ep.connections[i].targetId = ep.elementId;\r\n                    ep.connections[i].target = ep.element;\r\n                    self.updateOtherEndpoint(ep.connections[i].sourceId, currentId, ep.elementId, ep.connections[i]);\r\n                }\r\n            }\r\n        };\r\n\r\n        this.redraw = function (elementId, ui, timestamp, offsetToUI, clearEdits, doNotRecalcEndpoint) {\r\n\r\n            if (!jsPlumbInstance.isSuspendDrawing()) {\r\n                // get all the endpoints for this element\r\n                var ep = _amEndpoints[elementId] || [],\r\n                    endpointConnections = connectionsByElementId[elementId] || [],\r\n                    connectionsToPaint = [],\r\n                    endpointsToPaint = [],\r\n                    anchorsToUpdate = [];\r\n\r\n                timestamp = timestamp || jsPlumbInstance.timestamp();\r\n                // offsetToUI are values that would have been calculated in the dragManager when registering\r\n                // an endpoint for an element that had a parent (somewhere in the hierarchy) that had been\r\n                // registered as draggable.\r\n                offsetToUI = offsetToUI || {left: 0, top: 0};\r\n                if (ui) {\r\n                    ui = {\r\n                        left: ui.left + offsetToUI.left,\r\n                        top: ui.top + offsetToUI.top\r\n                    };\r\n                }\r\n\r\n                // valid for one paint cycle.\r\n                var myOffset = jsPlumbInstance.updateOffset({ elId: elementId, offset: ui, recalc: false, timestamp: timestamp }),\r\n                    orientationCache = {};\r\n\r\n                // actually, first we should compute the orientation of this element to all other elements to which\r\n                // this element is connected with a continuous anchor (whether both ends of the connection have\r\n                // a continuous anchor or just one)\r\n\r\n                for (var i = 0; i < endpointConnections.length; i++) {\r\n                    var conn = endpointConnections[i][0],\r\n                        sourceId = conn.sourceId,\r\n                        targetId = conn.targetId,\r\n                        sourceContinuous = conn.endpoints[0].anchor.isContinuous,\r\n                        targetContinuous = conn.endpoints[1].anchor.isContinuous;\r\n\r\n                    if (sourceContinuous || targetContinuous) {\r\n                        var oKey = sourceId + \"_\" + targetId,\r\n                            o = orientationCache[oKey],\r\n                            oIdx = conn.sourceId === elementId ? 1 : 0;\r\n\r\n                        if (sourceContinuous && !anchorLists[sourceId]) {\r\n                            anchorLists[sourceId] = { top: [], right: [], bottom: [], left: [] };\r\n                        }\r\n                        if (targetContinuous && !anchorLists[targetId]) {\r\n                            anchorLists[targetId] = { top: [], right: [], bottom: [], left: [] };\r\n                        }\r\n\r\n                        if (elementId !== targetId) {\r\n                            jsPlumbInstance.updateOffset({ elId: targetId, timestamp: timestamp });\r\n                        }\r\n                        if (elementId !== sourceId) {\r\n                            jsPlumbInstance.updateOffset({ elId: sourceId, timestamp: timestamp });\r\n                        }\r\n\r\n                        var td = jsPlumbInstance.getCachedData(targetId),\r\n                            sd = jsPlumbInstance.getCachedData(sourceId);\r\n\r\n                        if (targetId === sourceId && (sourceContinuous || targetContinuous)) {\r\n                            // here we may want to improve this by somehow determining the face we'd like\r\n                            // to put the connector on.  ideally, when drawing, the face should be calculated\r\n                            // by determining which face is closest to the point at which the mouse button\r\n                            // was released.  for now, we're putting it on the top face.\r\n                            _updateAnchorList( anchorLists[sourceId], -Math.PI / 2, 0, conn, false, targetId, 0, false, \"top\", sourceId, connectionsToPaint, endpointsToPaint);\r\n                            _updateAnchorList( anchorLists[targetId], -Math.PI / 2, 0, conn, false, sourceId, 1, false, \"top\", targetId, connectionsToPaint, endpointsToPaint);\r\n                        }\r\n                        else {\r\n                            if (!o) {\r\n                                o = this.calculateOrientation(sourceId, targetId, sd.o, td.o, conn.endpoints[0].anchor, conn.endpoints[1].anchor, conn);\r\n                                orientationCache[oKey] = o;\r\n                                // this would be a performance enhancement, but the computed angles need to be clamped to\r\n                                //the (-PI/2 -> PI/2) range in order for the sorting to work properly.\r\n                                /*  orientationCache[oKey2] = {\r\n                                 orientation:o.orientation,\r\n                                 a:[o.a[1], o.a[0]],\r\n                                 theta:o.theta + Math.PI,\r\n                                 theta2:o.theta2 + Math.PI\r\n                                 };*/\r\n                            }\r\n                            if (sourceContinuous) {\r\n                                _updateAnchorList(anchorLists[sourceId], o.theta, 0, conn, false, targetId, 0, false, o.a[0], sourceId, connectionsToPaint, endpointsToPaint);\r\n                            }\r\n                            if (targetContinuous) {\r\n                                _updateAnchorList(anchorLists[targetId], o.theta2, -1, conn, true, sourceId, 1, true, o.a[1], targetId, connectionsToPaint, endpointsToPaint);\r\n                            }\r\n                        }\r\n\r\n                        if (sourceContinuous) {\r\n                            _ju.addWithFunction(anchorsToUpdate, sourceId, function (a) {\r\n                                return a === sourceId;\r\n                            });\r\n                        }\r\n                        if (targetContinuous) {\r\n                            _ju.addWithFunction(anchorsToUpdate, targetId, function (a) {\r\n                                return a === targetId;\r\n                            });\r\n                        }\r\n                        _ju.addWithFunction(connectionsToPaint, conn, function (c) {\r\n                            return c.id === conn.id;\r\n                        });\r\n                        if ((sourceContinuous && oIdx === 0) || (targetContinuous && oIdx === 1)) {\r\n                            _ju.addWithFunction(endpointsToPaint, conn.endpoints[oIdx], function (e) {\r\n                                return e.id === conn.endpoints[oIdx].id;\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // place Endpoints whose anchors are continuous but have no Connections\r\n                for (i = 0; i < ep.length; i++) {\r\n                    if (ep[i].connections.length === 0 && ep[i].anchor.isContinuous) {\r\n                        if (!anchorLists[elementId]) {\r\n                            anchorLists[elementId] = { top: [], right: [], bottom: [], left: [] };\r\n                        }\r\n                        _updateAnchorList(anchorLists[elementId], -Math.PI / 2, 0, {endpoints: [ep[i], ep[i]], paint: function () {\r\n                            }}, false, elementId, 0, false, ep[i].anchor.getDefaultFace(), elementId, connectionsToPaint, endpointsToPaint);\r\n                        _ju.addWithFunction(anchorsToUpdate, elementId, function (a) {\r\n                            return a === elementId;\r\n                        });\r\n                    }\r\n                }\r\n\r\n                // now place all the continuous anchors we need to;\r\n                for (i = 0; i < anchorsToUpdate.length; i++) {\r\n                    placeAnchors(anchorsToUpdate[i], anchorLists[anchorsToUpdate[i]]);\r\n                }\r\n\r\n                // now that continuous anchors have been placed, paint all the endpoints for this element\r\n                for (i = 0; i < ep.length; i++) {\r\n                    ep[i].paint({ timestamp: timestamp, offset: myOffset, dimensions: myOffset.s, recalc: doNotRecalcEndpoint !== true });\r\n                }\r\n\r\n                // ... and any other endpoints we came across as a result of the continuous anchors.\r\n                for (i = 0; i < endpointsToPaint.length; i++) {\r\n                    var cd = jsPlumbInstance.getCachedData(endpointsToPaint[i].elementId);\r\n                    //endpointsToPaint[i].paint({ timestamp: timestamp, offset: cd, dimensions: cd.s });\r\n                    endpointsToPaint[i].paint({ timestamp: null, offset: cd, dimensions: cd.s });\r\n                }\r\n\r\n                // paint all the standard and \"dynamic connections\", which are connections whose other anchor is\r\n                // static and therefore does need to be recomputed; we make sure that happens only one time.\r\n\r\n                // TODO we could have compiled a list of these in the first pass through connections; might save some time.\r\n                for (i = 0; i < endpointConnections.length; i++) {\r\n                    var otherEndpoint = endpointConnections[i][1];\r\n                    if (otherEndpoint.anchor.constructor === _jp.DynamicAnchor) {\r\n                        otherEndpoint.paint({ elementWithPrecedence: elementId, timestamp: timestamp });\r\n                        _ju.addWithFunction(connectionsToPaint, endpointConnections[i][0], function (c) {\r\n                            return c.id === endpointConnections[i][0].id;\r\n                        });\r\n                        // all the connections for the other endpoint now need to be repainted\r\n                        for (var k = 0; k < otherEndpoint.connections.length; k++) {\r\n                            if (otherEndpoint.connections[k] !== endpointConnections[i][0]) {\r\n                                _ju.addWithFunction(connectionsToPaint, otherEndpoint.connections[k], function (c) {\r\n                                    return c.id === otherEndpoint.connections[k].id;\r\n                                });\r\n                            }\r\n                        }\r\n                    } else {\r\n                        _ju.addWithFunction(connectionsToPaint, endpointConnections[i][0], function (c) {\r\n                            return c.id === endpointConnections[i][0].id;\r\n                        });\r\n                    }\r\n                }\r\n\r\n                // paint current floating connection for this element, if there is one.\r\n                var fc = floatingConnections[elementId];\r\n                if (fc) {\r\n                    fc.paint({timestamp: timestamp, recalc: false, elId: elementId});\r\n                }\r\n\r\n                // paint all the connections\r\n                for (i = 0; i < connectionsToPaint.length; i++) {\r\n                    connectionsToPaint[i].paint({elId: elementId, timestamp: null, recalc: false, clearEdits: clearEdits});\r\n                }\r\n            }\r\n        };\r\n\r\n        var ContinuousAnchor = function (anchorParams) {\r\n            _ju.EventGenerator.apply(this);\r\n            this.type = \"Continuous\";\r\n            this.isDynamic = true;\r\n            this.isContinuous = true;\r\n            var faces = anchorParams.faces || [\"top\", \"right\", \"bottom\", \"left\"],\r\n                clockwise = !(anchorParams.clockwise === false),\r\n                availableFaces = { },\r\n                opposites = { \"top\": \"bottom\", \"right\": \"left\", \"left\": \"right\", \"bottom\": \"top\" },\r\n                clockwiseOptions = { \"top\": \"right\", \"right\": \"bottom\", \"left\": \"top\", \"bottom\": \"left\" },\r\n                antiClockwiseOptions = { \"top\": \"left\", \"right\": \"top\", \"left\": \"bottom\", \"bottom\": \"right\" },\r\n                secondBest = clockwise ? clockwiseOptions : antiClockwiseOptions,\r\n                lastChoice = clockwise ? antiClockwiseOptions : clockwiseOptions,\r\n                cssClass = anchorParams.cssClass || \"\",\r\n                _currentFace = null, _lockedFace = null, X_AXIS_FACES = [\"left\", \"right\"], Y_AXIS_FACES = [\"top\", \"bottom\"],\r\n                _lockedAxis = null;\r\n\r\n            for (var i = 0; i < faces.length; i++) {\r\n                availableFaces[faces[i]] = true;\r\n            }\r\n\r\n            this.getDefaultFace = function () {\r\n                return faces.length === 0 ? \"top\" : faces[0];\r\n            };\r\n\r\n            this.isRelocatable = function() { return true; };\r\n            this.isSnapOnRelocate = function() { return true; };\r\n\r\n            // if the given edge is supported, returns it. otherwise looks for a substitute that _is_\r\n            // supported. if none supported we also return the request edge.\r\n            this.verifyEdge = function (edge) {\r\n                if (availableFaces[edge]) {\r\n                    return edge;\r\n                }\r\n                else if (availableFaces[opposites[edge]]) {\r\n                    return opposites[edge];\r\n                }\r\n                else if (availableFaces[secondBest[edge]]) {\r\n                    return secondBest[edge];\r\n                }\r\n                else if (availableFaces[lastChoice[edge]]) {\r\n                    return lastChoice[edge];\r\n                }\r\n                return edge; // we have to give them something.\r\n            };\r\n\r\n            this.isEdgeSupported = function (edge) {\r\n                return  _lockedAxis == null ?\r\n\r\n                    (_lockedFace == null ? availableFaces[edge] === true : _lockedFace === edge)\r\n\r\n                    : _lockedAxis.indexOf(edge) !== -1;\r\n            };\r\n\r\n            this.setCurrentFace = function(face, overrideLock) {\r\n                _currentFace = face;\r\n                // if currently locked, and the user wants to override, do that.\r\n                if (overrideLock && _lockedFace != null) {\r\n                    _lockedFace = _currentFace;\r\n                }\r\n            };\r\n\r\n            this.getCurrentFace = function() { return _currentFace; };\r\n            this.getSupportedFaces = function() {\r\n                var af = [];\r\n                for (var k in availableFaces) {\r\n                    if (availableFaces[k]) {\r\n                        af.push(k);\r\n                    }\r\n                }\r\n                return af;\r\n            };\r\n\r\n            this.lock = function() {\r\n                _lockedFace = _currentFace;\r\n            };\r\n            this.unlock = function() {\r\n                _lockedFace = null;\r\n            };\r\n            this.isLocked = function() {\r\n                return _lockedFace != null;\r\n            };\r\n\r\n            this.lockCurrentAxis = function() {\r\n                if (_currentFace != null) {\r\n                    _lockedAxis = (_currentFace === \"left\" || _currentFace === \"right\") ? X_AXIS_FACES : Y_AXIS_FACES;\r\n                }\r\n            };\r\n\r\n            this.unlockCurrentAxis = function() {\r\n                _lockedAxis = null;\r\n            };\r\n\r\n            this.compute = function (params) {\r\n                return continuousAnchorLocations[params.element.id] || [0, 0];\r\n            };\r\n            this.getCurrentLocation = function (params) {\r\n                return continuousAnchorLocations[params.element.id] || [0, 0];\r\n            };\r\n            this.getOrientation = function (endpoint) {\r\n                return continuousAnchorOrientations[endpoint.id] || [0, 0];\r\n            };\r\n            this.getCssClass = function () {\r\n                return cssClass;\r\n            };\r\n        };\r\n\r\n        // continuous anchors\r\n        jsPlumbInstance.continuousAnchorFactory = {\r\n            get: function (params) {\r\n                return new ContinuousAnchor(params);\r\n            },\r\n            clear: function (elementId) {\r\n                delete continuousAnchorLocations[elementId];\r\n            }\r\n        };\r\n    };\r\n\r\n    _jp.AnchorManager.prototype.calculateOrientation = function (sourceId, targetId, sd, td, sourceAnchor, targetAnchor) {\r\n\r\n        var Orientation = { HORIZONTAL: \"horizontal\", VERTICAL: \"vertical\", DIAGONAL: \"diagonal\", IDENTITY: \"identity\" },\r\n            axes = [\"left\", \"top\", \"right\", \"bottom\"];\r\n\r\n        if (sourceId === targetId) {\r\n            return {\r\n                orientation: Orientation.IDENTITY,\r\n                a: [\"top\", \"top\"]\r\n            };\r\n        }\r\n\r\n        var theta = Math.atan2((td.centery - sd.centery), (td.centerx - sd.centerx)),\r\n            theta2 = Math.atan2((sd.centery - td.centery), (sd.centerx - td.centerx));\r\n\r\n// --------------------------------------------------------------------------------------\r\n\r\n        // improved face calculation. get midpoints of each face for source and target, then put in an array with all combinations of\r\n        // source/target faces. sort this array by distance between midpoints. the entry at index 0 is our preferred option. we can\r\n        // go through the array one by one until we find an entry in which each requested face is supported.\r\n        var candidates = [], midpoints = { };\r\n        (function (types, dim) {\r\n            for (var i = 0; i < types.length; i++) {\r\n                midpoints[types[i]] = {\r\n                    \"left\": [ dim[i].left, dim[i].centery ],\r\n                    \"right\": [ dim[i].right, dim[i].centery ],\r\n                    \"top\": [ dim[i].centerx, dim[i].top ],\r\n                    \"bottom\": [ dim[i].centerx , dim[i].bottom]\r\n                };\r\n            }\r\n        })([ \"source\", \"target\" ], [ sd, td ]);\r\n\r\n        for (var sf = 0; sf < axes.length; sf++) {\r\n            for (var tf = 0; tf < axes.length; tf++) {\r\n                candidates.push({\r\n                    source: axes[sf],\r\n                    target: axes[tf],\r\n                    dist: Biltong.lineLength(midpoints.source[axes[sf]], midpoints.target[axes[tf]])\r\n                });\r\n            }\r\n        }\r\n\r\n        candidates.sort(function (a, b) {\r\n            return a.dist < b.dist ? -1 : a.dist > b.dist ? 1 : 0;\r\n        });\r\n\r\n        // now go through this list and try to get an entry that satisfies both (there will be one, unless one of the anchors\r\n        // declares no available faces)\r\n        var sourceEdge = candidates[0].source, targetEdge = candidates[0].target;\r\n        for (var i = 0; i < candidates.length; i++) {\r\n\r\n            if (!sourceAnchor.isContinuous || sourceAnchor.isEdgeSupported(candidates[i].source)) {\r\n                sourceEdge = candidates[i].source;\r\n            }\r\n            else {\r\n                sourceEdge = null;\r\n            }\r\n\r\n            if (!targetAnchor.isContinuous || targetAnchor.isEdgeSupported(candidates[i].target)) {\r\n                targetEdge = candidates[i].target;\r\n            }\r\n            else {\r\n                targetEdge = null;\r\n            }\r\n\r\n            if (sourceEdge != null && targetEdge != null) {\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (sourceAnchor.isContinuous) {\r\n            sourceAnchor.setCurrentFace(sourceEdge);\r\n        }\r\n\r\n        if (targetAnchor.isContinuous) {\r\n            targetAnchor.setCurrentFace(targetEdge);\r\n        }\r\n\r\n// --------------------------------------------------------------------------------------\r\n\r\n        return {\r\n            a: [ sourceEdge, targetEdge ],\r\n            theta: theta,\r\n            theta2: theta2\r\n        };\r\n    };\r\n\r\n    /**\r\n     * Anchors model a position on some element at which an Endpoint may be located.  They began as a first class citizen of jsPlumb, ie. a user\r\n     * was required to create these themselves, but over time this has been replaced by the concept of referring to them either by name (eg. \"TopMiddle\"),\r\n     * or by an array describing their coordinates (eg. [ 0, 0.5, 0, -1 ], which is the same as \"TopMiddle\").  jsPlumb now handles all of the\r\n     * creation of Anchors without user intervention.\r\n     */\r\n    _jp.Anchor = function (params) {\r\n        this.x = params.x || 0;\r\n        this.y = params.y || 0;\r\n        this.elementId = params.elementId;\r\n        this.cssClass = params.cssClass || \"\";\r\n        this.userDefinedLocation = null;\r\n        this.orientation = params.orientation || [ 0, 0 ];\r\n        this.lastReturnValue = null;\r\n        this.offsets = params.offsets || [ 0, 0 ];\r\n        this.timestamp = null;\r\n\r\n        var relocatable = params.relocatable !== false;\r\n        this.isRelocatable = function() { return relocatable; };\r\n        this.setRelocatable = function(_relocatable) { relocatable = _relocatable; };\r\n        var snapOnRelocate = params.snapOnRelocate !== false;\r\n        this.isSnapOnRelocate = function() { return snapOnRelocate; };\r\n\r\n        var locked = false;\r\n        this.lock = function() { locked = true; };\r\n        this.unlock = function() { locked = false; };\r\n        this.isLocked = function() { return locked; };\r\n\r\n        _ju.EventGenerator.apply(this);\r\n\r\n        this.compute = function (params) {\r\n\r\n            var xy = params.xy, wh = params.wh, timestamp = params.timestamp;\r\n\r\n            if (params.clearUserDefinedLocation) {\r\n                this.userDefinedLocation = null;\r\n            }\r\n\r\n            if (timestamp && timestamp === this.timestamp) {\r\n                return this.lastReturnValue;\r\n            }\r\n\r\n            if (this.userDefinedLocation != null) {\r\n                this.lastReturnValue = this.userDefinedLocation;\r\n            }\r\n            else {\r\n                this.lastReturnValue = [ xy[0] + (this.x * wh[0]) + this.offsets[0], xy[1] + (this.y * wh[1]) + this.offsets[1], this.x, this.y ];\r\n            }\r\n\r\n            this.timestamp = timestamp;\r\n            return this.lastReturnValue;\r\n        };\r\n\r\n        this.getCurrentLocation = function (params) {\r\n            params = params || {};\r\n            return (this.lastReturnValue == null || (params.timestamp != null && this.timestamp !== params.timestamp)) ? this.compute(params) : this.lastReturnValue;\r\n        };\r\n\r\n        this.setPosition = function(x, y, ox, oy, overrideLock) {\r\n            if (!locked || overrideLock) {\r\n                this.x = x;\r\n                this.y = y;\r\n                this.orientation = [ ox, oy ];\r\n                this.lastReturnValue = null;\r\n            }\r\n        };\r\n    };\r\n    _ju.extend(_jp.Anchor, _ju.EventGenerator, {\r\n        equals: function (anchor) {\r\n            if (!anchor) {\r\n                return false;\r\n            }\r\n            var ao = anchor.getOrientation(),\r\n                o = this.getOrientation();\r\n            return this.x === anchor.x && this.y === anchor.y && this.offsets[0] === anchor.offsets[0] && this.offsets[1] === anchor.offsets[1] && o[0] === ao[0] && o[1] === ao[1];\r\n        },\r\n        getUserDefinedLocation: function () {\r\n            return this.userDefinedLocation;\r\n        },\r\n        setUserDefinedLocation: function (l) {\r\n            this.userDefinedLocation = l;\r\n        },\r\n        clearUserDefinedLocation: function () {\r\n            this.userDefinedLocation = null;\r\n        },\r\n        getOrientation: function () {\r\n            return this.orientation;\r\n        },\r\n        getCssClass: function () {\r\n            return this.cssClass;\r\n        }\r\n    });\r\n\r\n    /**\r\n     * An Anchor that floats. its orientation is computed dynamically from\r\n     * its position relative to the anchor it is floating relative to.  It is used when creating\r\n     * a connection through drag and drop.\r\n     *\r\n     * TODO FloatingAnchor could totally be refactored to extend Anchor just slightly.\r\n     */\r\n    _jp.FloatingAnchor = function (params) {\r\n\r\n        _jp.Anchor.apply(this, arguments);\r\n\r\n        // this is the anchor that this floating anchor is referenced to for\r\n        // purposes of calculating the orientation.\r\n        var ref = params.reference,\r\n            // the canvas this refers to.\r\n            refCanvas = params.referenceCanvas,\r\n            size = _jp.getSize(refCanvas),\r\n            // these are used to store the current relative position of our\r\n            // anchor wrt the reference anchor. they only indicate\r\n            // direction, so have a value of 1 or -1 (or, very rarely, 0). these\r\n            // values are written by the compute method, and read\r\n            // by the getOrientation method.\r\n            xDir = 0, yDir = 0,\r\n            // temporary member used to store an orientation when the floating\r\n            // anchor is hovering over another anchor.\r\n            orientation = null,\r\n            _lastResult = null;\r\n\r\n        // clear from parent. we want floating anchor orientation to always be computed.\r\n        this.orientation = null;\r\n\r\n        // set these to 0 each; they are used by certain types of connectors in the loopback case,\r\n        // when the connector is trying to clear the element it is on. but for floating anchor it's not\r\n        // very important.\r\n        this.x = 0;\r\n        this.y = 0;\r\n\r\n        this.isFloating = true;\r\n\r\n        this.compute = function (params) {\r\n            var xy = params.xy,\r\n                result = [ xy[0] + (size[0] / 2), xy[1] + (size[1] / 2) ]; // return origin of the element. we may wish to improve this so that any object can be the drag proxy.\r\n            _lastResult = result;\r\n            return result;\r\n        };\r\n\r\n        this.getOrientation = function (_endpoint) {\r\n            if (orientation) {\r\n                return orientation;\r\n            }\r\n            else {\r\n                var o = ref.getOrientation(_endpoint);\r\n                // here we take into account the orientation of the other\r\n                // anchor: if it declares zero for some direction, we declare zero too. this might not be the most awesome. perhaps we can come\r\n                // up with a better way. it's just so that the line we draw looks like it makes sense. maybe this wont make sense.\r\n                return [ Math.abs(o[0]) * xDir * -1,\r\n                    Math.abs(o[1]) * yDir * -1 ];\r\n            }\r\n        };\r\n\r\n        /**\r\n         * notification the endpoint associated with this anchor is hovering\r\n         * over another anchor; we want to assume that anchor's orientation\r\n         * for the duration of the hover.\r\n         */\r\n        this.over = function (anchor, endpoint) {\r\n            orientation = anchor.getOrientation(endpoint);\r\n        };\r\n\r\n        /**\r\n         * notification the endpoint associated with this anchor is no\r\n         * longer hovering over another anchor; we should resume calculating\r\n         * orientation as we normally do.\r\n         */\r\n        this.out = function () {\r\n            orientation = null;\r\n        };\r\n\r\n        this.getCurrentLocation = function (params) {\r\n            return _lastResult == null ? this.compute(params) : _lastResult;\r\n        };\r\n    };\r\n    _ju.extend(_jp.FloatingAnchor, _jp.Anchor);\r\n\r\n    var _convertAnchor = function (anchor, jsPlumbInstance, elementId) {\r\n        return anchor.constructor === _jp.Anchor ? anchor : jsPlumbInstance.makeAnchor(anchor, elementId, jsPlumbInstance);\r\n    };\r\n\r\n    /*\r\n     * A DynamicAnchor is an Anchor that contains a list of other Anchors, which it cycles\r\n     * through at compute time to find the one that is located closest to\r\n     * the center of the target element, and returns that Anchor's compute\r\n     * method result. this causes endpoints to follow each other with\r\n     * respect to the orientation of their target elements, which is a useful\r\n     * feature for some applications.\r\n     *\r\n     */\r\n    _jp.DynamicAnchor = function (params) {\r\n        _jp.Anchor.apply(this, arguments);\r\n\r\n        this.isDynamic = true;\r\n        this.anchors = [];\r\n        this.elementId = params.elementId;\r\n        this.jsPlumbInstance = params.jsPlumbInstance;\r\n\r\n        for (var i = 0; i < params.anchors.length; i++) {\r\n            this.anchors[i] = _convertAnchor(params.anchors[i], this.jsPlumbInstance, this.elementId);\r\n        }\r\n\r\n        this.getAnchors = function () {\r\n            return this.anchors;\r\n        };\r\n\r\n        var _curAnchor = this.anchors.length > 0 ? this.anchors[0] : null,\r\n            _lastAnchor = _curAnchor,\r\n            self = this,\r\n\r\n            // helper method to calculate the distance between the centers of the two elements.\r\n            _distance = function (anchor, cx, cy, xy, wh) {\r\n                var ax = xy[0] + (anchor.x * wh[0]), ay = xy[1] + (anchor.y * wh[1]),\r\n                    acx = xy[0] + (wh[0] / 2), acy = xy[1] + (wh[1] / 2);\r\n                return (Math.sqrt(Math.pow(cx - ax, 2) + Math.pow(cy - ay, 2)) +\r\n                    Math.sqrt(Math.pow(acx - ax, 2) + Math.pow(acy - ay, 2)));\r\n            },\r\n            // default method uses distance between element centers.  you can provide your own method in the dynamic anchor\r\n            // constructor (and also to jsPlumb.makeDynamicAnchor). the arguments to it are four arrays:\r\n            // xy - xy loc of the anchor's element\r\n            // wh - anchor's element's dimensions\r\n            // txy - xy loc of the element of the other anchor in the connection\r\n            // twh - dimensions of the element of the other anchor in the connection.\r\n            // anchors - the list of selectable anchors\r\n            _anchorSelector = params.selector || function (xy, wh, txy, twh, anchors) {\r\n                var cx = txy[0] + (twh[0] / 2), cy = txy[1] + (twh[1] / 2);\r\n                var minIdx = -1, minDist = Infinity;\r\n                for (var i = 0; i < anchors.length; i++) {\r\n                    var d = _distance(anchors[i], cx, cy, xy, wh);\r\n                    if (d < minDist) {\r\n                        minIdx = i + 0;\r\n                        minDist = d;\r\n                    }\r\n                }\r\n                return anchors[minIdx];\r\n            };\r\n\r\n        this.compute = function (params) {\r\n            var xy = params.xy, wh = params.wh, txy = params.txy, twh = params.twh;\r\n\r\n            this.timestamp = params.timestamp;\r\n\r\n            var udl = self.getUserDefinedLocation();\r\n            if (udl != null) {\r\n                return udl;\r\n            }\r\n\r\n            // if anchor is locked or an opposite element was not given, we\r\n            // maintain our state. anchor will be locked\r\n            // if it is the source of a drag and drop.\r\n            if (this.isLocked() || txy == null || twh == null) {\r\n                return _curAnchor.compute(params);\r\n            }\r\n            else {\r\n                params.timestamp = null; // otherwise clear this, i think. we want the anchor to compute.\r\n            }\r\n\r\n            _curAnchor = _anchorSelector(xy, wh, txy, twh, this.anchors);\r\n            this.x = _curAnchor.x;\r\n            this.y = _curAnchor.y;\r\n\r\n            if (_curAnchor !== _lastAnchor) {\r\n                this.fire(\"anchorChanged\", _curAnchor);\r\n            }\r\n\r\n            _lastAnchor = _curAnchor;\r\n\r\n            return _curAnchor.compute(params);\r\n        };\r\n\r\n        this.getCurrentLocation = function (params) {\r\n            return this.getUserDefinedLocation() || (_curAnchor != null ? _curAnchor.getCurrentLocation(params) : null);\r\n        };\r\n\r\n        this.getOrientation = function (_endpoint) {\r\n            return _curAnchor != null ? _curAnchor.getOrientation(_endpoint) : [ 0, 0 ];\r\n        };\r\n        this.over = function (anchor, endpoint) {\r\n            if (_curAnchor != null) {\r\n                _curAnchor.over(anchor, endpoint);\r\n            }\r\n        };\r\n        this.out = function () {\r\n            if (_curAnchor != null) {\r\n                _curAnchor.out();\r\n            }\r\n        };\r\n\r\n        this.setAnchor = function(a) {\r\n            _curAnchor = a;\r\n        };\r\n\r\n        this.getCssClass = function () {\r\n            return (_curAnchor && _curAnchor.getCssClass()) || \"\";\r\n        };\r\n\r\n        /**\r\n         * Attempt to match an anchor with the given coordinates and then set it.\r\n         * @param coords\r\n         * @returns true if matching anchor found, false otherwise.\r\n         */\r\n        this.setAnchorCoordinates = function(coords) {\r\n            var idx = jsPlumbUtil.findWithFunction(this.anchors, function(a) {\r\n                return a.x === coords[0] && a.y === coords[1];\r\n            });\r\n            if (idx !== -1) {\r\n                this.setAnchor(this.anchors[idx]);\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        };\r\n    };\r\n    _ju.extend(_jp.DynamicAnchor, _jp.Anchor);\r\n\r\n// -------- basic anchors ------------------\r\n    var _curryAnchor = function (x, y, ox, oy, type, fnInit) {\r\n        _jp.Anchors[type] = function (params) {\r\n            var a = params.jsPlumbInstance.makeAnchor([ x, y, ox, oy, 0, 0 ], params.elementId, params.jsPlumbInstance);\r\n            a.type = type;\r\n            if (fnInit) {\r\n                fnInit(a, params);\r\n            }\r\n            return a;\r\n        };\r\n    };\r\n\r\n    _curryAnchor(0.5, 0, 0, -1, \"TopCenter\");\r\n    _curryAnchor(0.5, 1, 0, 1, \"BottomCenter\");\r\n    _curryAnchor(0, 0.5, -1, 0, \"LeftMiddle\");\r\n    _curryAnchor(1, 0.5, 1, 0, \"RightMiddle\");\r\n\r\n    _curryAnchor(0.5, 0, 0, -1, \"Top\");\r\n    _curryAnchor(0.5, 1, 0, 1, \"Bottom\");\r\n    _curryAnchor(0, 0.5, -1, 0, \"Left\");\r\n    _curryAnchor(1, 0.5, 1, 0, \"Right\");\r\n    _curryAnchor(0.5, 0.5, 0, 0, \"Center\");\r\n    _curryAnchor(1, 0, 0, -1, \"TopRight\");\r\n    _curryAnchor(1, 1, 0, 1, \"BottomRight\");\r\n    _curryAnchor(0, 0, 0, -1, \"TopLeft\");\r\n    _curryAnchor(0, 1, 0, 1, \"BottomLeft\");\r\n\r\n// ------- dynamic anchors -------------------\r\n\r\n    // default dynamic anchors chooses from Top, Right, Bottom, Left\r\n    _jp.Defaults.DynamicAnchors = function (params) {\r\n        return params.jsPlumbInstance.makeAnchors([\"TopCenter\", \"RightMiddle\", \"BottomCenter\", \"LeftMiddle\"], params.elementId, params.jsPlumbInstance);\r\n    };\r\n\r\n    // default dynamic anchors bound to name 'AutoDefault'\r\n    _jp.Anchors.AutoDefault = function (params) {\r\n        var a = params.jsPlumbInstance.makeDynamicAnchor(_jp.Defaults.DynamicAnchors(params));\r\n        a.type = \"AutoDefault\";\r\n        return a;\r\n    };\r\n\r\n// ------- continuous anchors -------------------\r\n\r\n    var _curryContinuousAnchor = function (type, faces) {\r\n        _jp.Anchors[type] = function (params) {\r\n            var a = params.jsPlumbInstance.makeAnchor([\"Continuous\", { faces: faces }], params.elementId, params.jsPlumbInstance);\r\n            a.type = type;\r\n            return a;\r\n        };\r\n    };\r\n\r\n    _jp.Anchors.Continuous = function (params) {\r\n        return params.jsPlumbInstance.continuousAnchorFactory.get(params);\r\n    };\r\n\r\n    _curryContinuousAnchor(\"ContinuousLeft\", [\"left\"]);\r\n    _curryContinuousAnchor(\"ContinuousTop\", [\"top\"]);\r\n    _curryContinuousAnchor(\"ContinuousBottom\", [\"bottom\"]);\r\n    _curryContinuousAnchor(\"ContinuousRight\", [\"right\"]);\r\n\r\n// ------- position assign anchors -------------------\r\n\r\n    // this anchor type lets you assign the position at connection time.\r\n    _curryAnchor(0, 0, 0, 0, \"Assign\", function (anchor, params) {\r\n        // find what to use as the \"position finder\". the user may have supplied a String which represents\r\n        // the id of a position finder in jsPlumb.AnchorPositionFinders, or the user may have supplied the\r\n        // position finder as a function.  we find out what to use and then set it on the anchor.\r\n        var pf = params.position || \"Fixed\";\r\n        anchor.positionFinder = pf.constructor === String ? params.jsPlumbInstance.AnchorPositionFinders[pf] : pf;\r\n        // always set the constructor params; the position finder might need them later (the Grid one does,\r\n        // for example)\r\n        anchor.constructorParams = params;\r\n    });\r\n\r\n    // these are the default anchor positions finders, which are used by the makeTarget function.  supplying\r\n    // a position finder argument to that function allows you to specify where the resulting anchor will\r\n    // be located\r\n    root.jsPlumbInstance.prototype.AnchorPositionFinders = {\r\n        \"Fixed\": function (dp, ep, es) {\r\n            return [ (dp.left - ep.left) / es[0], (dp.top - ep.top) / es[1] ];\r\n        },\r\n        \"Grid\": function (dp, ep, es, params) {\r\n            var dx = dp.left - ep.left, dy = dp.top - ep.top,\r\n                gx = es[0] / (params.grid[0]), gy = es[1] / (params.grid[1]),\r\n                mx = Math.floor(dx / gx), my = Math.floor(dy / gy);\r\n            return [ ((mx * gx) + (gx / 2)) / es[0], ((my * gy) + (gy / 2)) / es[1] ];\r\n        }\r\n    };\r\n\r\n// ------- perimeter anchors -------------------\r\n\r\n    _jp.Anchors.Perimeter = function (params) {\r\n        params = params || {};\r\n        var anchorCount = params.anchorCount || 60,\r\n            shape = params.shape;\r\n\r\n        if (!shape) {\r\n            throw new Error(\"no shape supplied to Perimeter Anchor type\");\r\n        }\r\n\r\n        var _circle = function () {\r\n                var r = 0.5, step = Math.PI * 2 / anchorCount, current = 0, a = [];\r\n                for (var i = 0; i < anchorCount; i++) {\r\n                    var x = r + (r * Math.sin(current)),\r\n                        y = r + (r * Math.cos(current));\r\n                    a.push([ x, y, 0, 0 ]);\r\n                    current += step;\r\n                }\r\n                return a;\r\n            },\r\n            _path = function (segments) {\r\n                var anchorsPerFace = anchorCount / segments.length, a = [],\r\n                    _computeFace = function (x1, y1, x2, y2, fractionalLength, ox, oy) {\r\n                        anchorsPerFace = anchorCount * fractionalLength;\r\n                        var dx = (x2 - x1) / anchorsPerFace, dy = (y2 - y1) / anchorsPerFace;\r\n                        for (var i = 0; i < anchorsPerFace; i++) {\r\n                            a.push([\r\n                                x1 + (dx * i),\r\n                                y1 + (dy * i),\r\n                                ox == null ? 0 : ox,\r\n                                oy == null ? 0 : oy\r\n                            ]);\r\n                        }\r\n                    };\r\n\r\n                for (var i = 0; i < segments.length; i++) {\r\n                    _computeFace.apply(null, segments[i]);\r\n                }\r\n\r\n                return a;\r\n            },\r\n            _shape = function (faces) {\r\n                var s = [];\r\n                for (var i = 0; i < faces.length; i++) {\r\n                    s.push([faces[i][0], faces[i][1], faces[i][2], faces[i][3], 1 / faces.length, faces[i][4], faces[i][5]]);\r\n                }\r\n                return _path(s);\r\n            },\r\n            _rectangle = function () {\r\n                return _shape([\r\n                    [ 0, 0, 1, 0, 0, -1 ],\r\n                    [ 1, 0, 1, 1, 1, 0 ],\r\n                    [ 1, 1, 0, 1, 0, 1 ],\r\n                    [ 0, 1, 0, 0, -1, 0 ]\r\n                ]);\r\n            };\r\n\r\n        var _shapes = {\r\n                \"Circle\": _circle,\r\n                \"Ellipse\": _circle,\r\n                \"Diamond\": function () {\r\n                    return _shape([\r\n                        [ 0.5, 0, 1, 0.5 ],\r\n                        [ 1, 0.5, 0.5, 1 ],\r\n                        [ 0.5, 1, 0, 0.5 ],\r\n                        [ 0, 0.5, 0.5, 0 ]\r\n                    ]);\r\n                },\r\n                \"Rectangle\": _rectangle,\r\n                \"Square\": _rectangle,\r\n                \"Triangle\": function () {\r\n                    return _shape([\r\n                        [ 0.5, 0, 1, 1 ],\r\n                        [ 1, 1, 0, 1 ],\r\n                        [ 0, 1, 0.5, 0]\r\n                    ]);\r\n                },\r\n                \"Path\": function (params) {\r\n                    var points = params.points, p = [], tl = 0;\r\n                    for (var i = 0; i < points.length - 1; i++) {\r\n                        var l = Math.sqrt(Math.pow(points[i][2] - points[i][0]) + Math.pow(points[i][3] - points[i][1]));\r\n                        tl += l;\r\n                        p.push([points[i][0], points[i][1], points[i + 1][0], points[i + 1][1], l]);\r\n                    }\r\n                    for (var j = 0; j < p.length; j++) {\r\n                        p[j][4] = p[j][4] / tl;\r\n                    }\r\n                    return _path(p);\r\n                }\r\n            },\r\n            _rotate = function (points, amountInDegrees) {\r\n                var o = [], theta = amountInDegrees / 180 * Math.PI;\r\n                for (var i = 0; i < points.length; i++) {\r\n                    var _x = points[i][0] - 0.5,\r\n                        _y = points[i][1] - 0.5;\r\n\r\n                    o.push([\r\n                        0.5 + ((_x * Math.cos(theta)) - (_y * Math.sin(theta))),\r\n                        0.5 + ((_x * Math.sin(theta)) + (_y * Math.cos(theta))),\r\n                        points[i][2],\r\n                        points[i][3]\r\n                    ]);\r\n                }\r\n                return o;\r\n            };\r\n\r\n        if (!_shapes[shape]) {\r\n            throw new Error(\"Shape [\" + shape + \"] is unknown by Perimeter Anchor type\");\r\n        }\r\n\r\n        var da = _shapes[shape](params);\r\n        if (params.rotation) {\r\n            da = _rotate(da, params.rotation);\r\n        }\r\n        var a = params.jsPlumbInstance.makeDynamicAnchor(da);\r\n        a.type = \"Perimeter\";\r\n        return a;\r\n    };\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n/*\r\n * This file contains the default Connectors, Endpoint and Overlay definitions.\r\n *\r\n * Copyright (c) 2010 - 2018 jsPlumb (hello@jsplumbtoolkit.com)\r\n *\r\n * https://jsplumbtoolkit.com\r\n * https://github.com/jsplumb/jsplumb\r\n *\r\n * Dual licensed under the MIT and GPL2 licenses.\r\n */\r\n;\r\n(function () {\r\n\r\n    \"use strict\";\r\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil, _jg = root.Biltong;\r\n\r\n    _jp.Segments = {\r\n\r\n        /*\r\n         * Class: AbstractSegment\r\n         * A Connector is made up of 1..N Segments, each of which has a Type, such as 'Straight', 'Arc',\r\n         * 'Bezier'. This is new from 1.4.2, and gives us a lot more flexibility when drawing connections: things such\r\n         * as rounded corners for flowchart connectors, for example, or a straight line stub for Bezier connections, are\r\n         * much easier to do now.\r\n         *\r\n         * A Segment is responsible for providing coordinates for painting it, and also must be able to report its length.\r\n         *\r\n         */\r\n        AbstractSegment: function (params) {\r\n            this.params = params;\r\n\r\n            /**\r\n             * Function: findClosestPointOnPath\r\n             * Finds the closest point on this segment to the given [x, y],\r\n             * returning both the x and y of the point plus its distance from\r\n             * the supplied point, and its location along the length of the\r\n             * path inscribed by the segment.  This implementation returns\r\n             * Infinity for distance and null values for everything else;\r\n             * subclasses are expected to override.\r\n             */\r\n            this.findClosestPointOnPath = function (x, y) {\r\n                return {\r\n                    d: Infinity,\r\n                    x: null,\r\n                    y: null,\r\n                    l: null\r\n                };\r\n            };\r\n\r\n            this.getBounds = function () {\r\n                return {\r\n                    minX: Math.min(params.x1, params.x2),\r\n                    minY: Math.min(params.y1, params.y2),\r\n                    maxX: Math.max(params.x1, params.x2),\r\n                    maxY: Math.max(params.y1, params.y2)\r\n                };\r\n            };\r\n\r\n            /**\r\n             * Computes the list of points on the segment that intersect the given line.\r\n             * @method lineIntersection\r\n             * @param {number} x1\r\n             * @param {number} y1\r\n             * @param {number} x2\r\n             * @param {number} y2\r\n             * @returns {Array<[number, number]>}\r\n             */\r\n            this.lineIntersection = function(x1, y1, x2, y2) {\r\n                return [];\r\n            };\r\n\r\n            /**\r\n             * Computes the list of points on the segment that intersect the box with the given origin and size.\r\n             * @method boxIntersection\r\n             * @param {number} x1\r\n             * @param {number} y1\r\n             * @param {number} w\r\n             * @param {number} h\r\n             * @returns {Array<[number, number]>}\r\n             */\r\n            this.boxIntersection = function(x, y, w, h) {\r\n                var a = [];\r\n                a.push.apply(a, this.lineIntersection(x, y, x + w, y));\r\n                a.push.apply(a, this.lineIntersection(x + w, y, x + w, y + h));\r\n                a.push.apply(a, this.lineIntersection(x + w, y + h, x, y + h));\r\n                a.push.apply(a, this.lineIntersection(x, y + h, x, y));\r\n                return a;\r\n            };\r\n\r\n            /**\r\n             * Computes the list of points on the segment that intersect the given bounding box, which is an object of the form { x:.., y:.., w:.., h:.. }.\r\n             * @method lineIntersection\r\n             * @param {BoundingRectangle} box\r\n             * @returns {Array<[number, number]>}\r\n             */\r\n            this.boundingBoxIntersection = function(box) {\r\n                return this.boxIntersection(box.x, box.y, box.w, box.y);\r\n            };\r\n        },\r\n        Straight: function (params) {\r\n            var _super = _jp.Segments.AbstractSegment.apply(this, arguments),\r\n                length, m, m2, x1, x2, y1, y2,\r\n                _recalc = function () {\r\n                    length = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\r\n                    m = _jg.gradient({x: x1, y: y1}, {x: x2, y: y2});\r\n                    m2 = -1 / m;\r\n                };\r\n\r\n            this.type = \"Straight\";\r\n\r\n            this.getLength = function () {\r\n                return length;\r\n            };\r\n            this.getGradient = function () {\r\n                return m;\r\n            };\r\n\r\n            this.getCoordinates = function () {\r\n                return { x1: x1, y1: y1, x2: x2, y2: y2 };\r\n            };\r\n            this.setCoordinates = function (coords) {\r\n                x1 = coords.x1;\r\n                y1 = coords.y1;\r\n                x2 = coords.x2;\r\n                y2 = coords.y2;\r\n                _recalc();\r\n            };\r\n            this.setCoordinates({x1: params.x1, y1: params.y1, x2: params.x2, y2: params.y2});\r\n\r\n            this.getBounds = function () {\r\n                return {\r\n                    minX: Math.min(x1, x2),\r\n                    minY: Math.min(y1, y2),\r\n                    maxX: Math.max(x1, x2),\r\n                    maxY: Math.max(y1, y2)\r\n                };\r\n            };\r\n\r\n            /**\r\n             * returns the point on the segment's path that is 'location' along the length of the path, where 'location' is a decimal from\r\n             * 0 to 1 inclusive. for the straight line segment this is simple maths.\r\n             */\r\n            this.pointOnPath = function (location, absolute) {\r\n                if (location === 0 && !absolute) {\r\n                    return { x: x1, y: y1 };\r\n                }\r\n                else if (location === 1 && !absolute) {\r\n                    return { x: x2, y: y2 };\r\n                }\r\n                else {\r\n                    var l = absolute ? location > 0 ? location : length + location : location * length;\r\n                    return _jg.pointOnLine({x: x1, y: y1}, {x: x2, y: y2}, l);\r\n                }\r\n            };\r\n\r\n            /**\r\n             * returns the gradient of the segment at the given point - which for us is constant.\r\n             */\r\n            this.gradientAtPoint = function (_) {\r\n                return m;\r\n            };\r\n\r\n            /**\r\n             * returns the point on the segment's path that is 'distance' along the length of the path from 'location', where\r\n             * 'location' is a decimal from 0 to 1 inclusive, and 'distance' is a number of pixels.\r\n             * this hands off to jsPlumbUtil to do the maths, supplying two points and the distance.\r\n             */\r\n            this.pointAlongPathFrom = function (location, distance, absolute) {\r\n                var p = this.pointOnPath(location, absolute),\r\n                    farAwayPoint = distance <= 0 ? {x: x1, y: y1} : {x: x2, y: y2 };\r\n\r\n                /*\r\n                 location == 1 ? {\r\n                 x:x1 + ((x2 - x1) * 10),\r\n                 y:y1 + ((y1 - y2) * 10)\r\n                 } :\r\n                 */\r\n\r\n                if (distance <= 0 && Math.abs(distance) > 1) {\r\n                    distance *= -1;\r\n                }\r\n\r\n                return _jg.pointOnLine(p, farAwayPoint, distance);\r\n            };\r\n\r\n            // is c between a and b?\r\n            var within = function (a, b, c) {\r\n                return c >= Math.min(a, b) && c <= Math.max(a, b);\r\n            };\r\n            // find which of a and b is closest to c\r\n            var closest = function (a, b, c) {\r\n                return Math.abs(c - a) < Math.abs(c - b) ? a : b;\r\n            };\r\n\r\n            /**\r\n             Function: findClosestPointOnPath\r\n             Finds the closest point on this segment to [x,y]. See\r\n             notes on this method in AbstractSegment.\r\n             */\r\n            this.findClosestPointOnPath = function (x, y) {\r\n                var out = {\r\n                    d: Infinity,\r\n                    x: null,\r\n                    y: null,\r\n                    l: null,\r\n                    x1: x1,\r\n                    x2: x2,\r\n                    y1: y1,\r\n                    y2: y2\r\n                };\r\n\r\n                if (m === 0) {\r\n                    out.y = y1;\r\n                    out.x = within(x1, x2, x) ? x : closest(x1, x2, x);\r\n                }\r\n                else if (m === Infinity || m === -Infinity) {\r\n                    out.x = x1;\r\n                    out.y = within(y1, y2, y) ? y : closest(y1, y2, y);\r\n                }\r\n                else {\r\n                    // closest point lies on normal from given point to this line.\r\n                    var b = y1 - (m * x1),\r\n                        b2 = y - (m2 * x),\r\n                        // y1 = m.x1 + b and y1 = m2.x1 + b2\r\n                        // so m.x1 + b = m2.x1 + b2\r\n                        // x1(m - m2) = b2 - b\r\n                        // x1 = (b2 - b) / (m - m2)\r\n                        _x1 = (b2 - b) / (m - m2),\r\n                        _y1 = (m * _x1) + b;\r\n\r\n                    out.x = within(x1, x2, _x1) ? _x1 : closest(x1, x2, _x1);//_x1;\r\n                    out.y = within(y1, y2, _y1) ? _y1 : closest(y1, y2, _y1);//_y1;\r\n                }\r\n\r\n                var fractionInSegment = _jg.lineLength([ out.x, out.y ], [ x1, y1 ]);\r\n                out.d = _jg.lineLength([x, y], [out.x, out.y]);\r\n                out.l = fractionInSegment / length;\r\n                return out;\r\n            };\r\n\r\n            var _pointLiesBetween = function(q, p1, p2) {\r\n                return (p2 > p1) ? (p1 <= q && q <= p2) : (p1 >= q && q >= p2);\r\n            }, _plb = _pointLiesBetween;\r\n\r\n            /**\r\n             * Calculates all intersections of the given line with this segment.\r\n             * @param _x1\r\n             * @param _y1\r\n             * @param _x2\r\n             * @param _y2\r\n             * @returns {Array}\r\n             */\r\n            this.lineIntersection = function(_x1, _y1, _x2, _y2) {\r\n                var m2 = Math.abs(_jg.gradient({x: _x1, y: _y1}, {x: _x2, y: _y2})),\r\n                    m1 = Math.abs(m),\r\n                    b = m1 === Infinity ? x1 : y1 - (m1 * x1),\r\n                    out = [],\r\n                    b2 = m2 === Infinity ? _x1 : _y1 - (m2 * _x1);\r\n\r\n                // if lines parallel, no intersection\r\n                if  (m2 !== m1) {\r\n                    // perpendicular, segment horizontal\r\n                    if(m2 === Infinity  && m1 === 0) {\r\n                        if (_plb(_x1, x1, x2) && _plb(y1, _y1, _y2)) {\r\n                            out = [ _x1, y1 ];  // we return X on the incident line and Y from the segment\r\n                        }\r\n                    } else if(m2 === 0 && m1 === Infinity) {\r\n                        // perpendicular, segment vertical\r\n                        if(_plb(_y1, y1, y2) && _plb(x1, _x1, _x2)) {\r\n                            out = [x1, _y1];  // we return X on the segment and Y from the incident line\r\n                        }\r\n                    } else {\r\n                        var X, Y;\r\n                        if (m2 === Infinity) {\r\n                            // test line is a vertical line. where does it cross the segment?\r\n                            X = _x1;\r\n                            if (_plb(X, x1, x2)) {\r\n                                Y = (m1 * _x1) + b;\r\n                                if (_plb(Y, _y1, _y2)) {\r\n                                    out = [ X, Y ];\r\n                                }\r\n                            }\r\n                        } else if (m2 === 0) {\r\n                            Y = _y1;\r\n                            // test line is a horizontal line. where does it cross the segment?\r\n                            if (_plb(Y, y1, y2)) {\r\n                                X = (_y1 - b) / m1;\r\n                                if (_plb(X, _x1, _x2)) {\r\n                                    out = [ X, Y ];\r\n                                }\r\n                            }\r\n                        } else {\r\n                            // mX + b = m2X + b2\r\n                            // mX - m2X = b2 - b\r\n                            // X(m - m2) = b2 - b\r\n                            // X = (b2 - b) / (m - m2)\r\n                            // Y = mX + b\r\n                            X = (b2 - b) / (m1 - m2);\r\n                            Y = (m1 * X) + b;\r\n                            if(_plb(X, x1, x2) && _plb(Y, y1, y2)) {\r\n                                out = [ X,  Y];\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return out;\r\n            };\r\n\r\n            /**\r\n             * Calculates all intersections of the given box with this segment. By default this method simply calls `lineIntersection` with each of the four\r\n             * faces of the box; subclasses can override this if they think there's a faster way to compute the entire box at once.\r\n             * @param x X position of top left corner of box\r\n             * @param y Y position of top left corner of box\r\n             * @param w width of box\r\n             * @param h height of box\r\n             * @returns {Array}\r\n             */\r\n            this.boxIntersection = function(x, y, w, h) {\r\n                var a = [];\r\n                a.push.apply(a, this.lineIntersection(x, y, x + w, y));\r\n                a.push.apply(a, this.lineIntersection(x + w, y, x + w, y + h));\r\n                a.push.apply(a, this.lineIntersection(x + w, y + h, x, y + h));\r\n                a.push.apply(a, this.lineIntersection(x, y + h, x, y));\r\n                return a;\r\n            };\r\n\r\n            /**\r\n             * Calculates all intersections of the given bounding box with this segment. By default this method simply calls `lineIntersection` with each of the four\r\n             * faces of the box; subclasses can override this if they think there's a faster way to compute the entire box at once.\r\n             * @param box Bounding box, in { x:.., y:..., w:..., h:... } format.\r\n             * @returns {Array}\r\n             */\r\n            this.boundingBoxIntersection = function(box) {\r\n                return this.boxIntersection(box.x, box.y, box.w, box.h);\r\n            };\r\n        },\r\n\r\n        /*\r\n         Arc Segment. You need to supply:\r\n\r\n         r   -   radius\r\n         cx  -   center x for the arc\r\n         cy  -   center y for the arc\r\n         ac  -   whether the arc is anticlockwise or not. default is clockwise.\r\n\r\n         and then either:\r\n\r\n         startAngle  -   startAngle for the arc.\r\n         endAngle    -   endAngle for the arc.\r\n\r\n         or:\r\n\r\n         x1          -   x for start point\r\n         y1          -   y for start point\r\n         x2          -   x for end point\r\n         y2          -   y for end point\r\n\r\n         */\r\n        Arc: function (params) {\r\n            var _super = _jp.Segments.AbstractSegment.apply(this, arguments),\r\n                _calcAngle = function (_x, _y) {\r\n                    return _jg.theta([params.cx, params.cy], [_x, _y]);\r\n                },\r\n                _calcAngleForLocation = function (segment, location) {\r\n                    if (segment.anticlockwise) {\r\n                        var sa = segment.startAngle < segment.endAngle ? segment.startAngle + TWO_PI : segment.startAngle,\r\n                            s = Math.abs(sa - segment.endAngle);\r\n                        return sa - (s * location);\r\n                    }\r\n                    else {\r\n                        var ea = segment.endAngle < segment.startAngle ? segment.endAngle + TWO_PI : segment.endAngle,\r\n                            ss = Math.abs(ea - segment.startAngle);\r\n\r\n                        return segment.startAngle + (ss * location);\r\n                    }\r\n                },\r\n                TWO_PI = 2 * Math.PI;\r\n\r\n            this.radius = params.r;\r\n            this.anticlockwise = params.ac;\r\n            this.type = \"Arc\";\r\n\r\n            if (params.startAngle && params.endAngle) {\r\n                this.startAngle = params.startAngle;\r\n                this.endAngle = params.endAngle;\r\n                this.x1 = params.cx + (this.radius * Math.cos(params.startAngle));\r\n                this.y1 = params.cy + (this.radius * Math.sin(params.startAngle));\r\n                this.x2 = params.cx + (this.radius * Math.cos(params.endAngle));\r\n                this.y2 = params.cy + (this.radius * Math.sin(params.endAngle));\r\n            }\r\n            else {\r\n                this.startAngle = _calcAngle(params.x1, params.y1);\r\n                this.endAngle = _calcAngle(params.x2, params.y2);\r\n                this.x1 = params.x1;\r\n                this.y1 = params.y1;\r\n                this.x2 = params.x2;\r\n                this.y2 = params.y2;\r\n            }\r\n\r\n            if (this.endAngle < 0) {\r\n                this.endAngle += TWO_PI;\r\n            }\r\n            if (this.startAngle < 0) {\r\n                this.startAngle += TWO_PI;\r\n            }\r\n\r\n            // segment is used by vml\r\n            //this.segment = _jg.quadrant([this.x1, this.y1], [this.x2, this.y2]);\r\n\r\n            // we now have startAngle and endAngle as positive numbers, meaning the\r\n            // absolute difference (|d|) between them is the sweep (s) of this arc, unless the\r\n            // arc is 'anticlockwise' in which case 's' is given by 2PI - |d|.\r\n\r\n            var ea = this.endAngle < this.startAngle ? this.endAngle + TWO_PI : this.endAngle;\r\n            this.sweep = Math.abs(ea - this.startAngle);\r\n            if (this.anticlockwise) {\r\n                this.sweep = TWO_PI - this.sweep;\r\n            }\r\n            var circumference = 2 * Math.PI * this.radius,\r\n                frac = this.sweep / TWO_PI,\r\n                length = circumference * frac;\r\n\r\n            this.getLength = function () {\r\n                return length;\r\n            };\r\n\r\n            this.getBounds = function () {\r\n                return {\r\n                    minX: params.cx - params.r,\r\n                    maxX: params.cx + params.r,\r\n                    minY: params.cy - params.r,\r\n                    maxY: params.cy + params.r\r\n                };\r\n            };\r\n\r\n            var VERY_SMALL_VALUE = 0.0000000001,\r\n                gentleRound = function (n) {\r\n                    var f = Math.floor(n), r = Math.ceil(n);\r\n                    if (n - f < VERY_SMALL_VALUE) {\r\n                        return f;\r\n                    }\r\n                    else if (r - n < VERY_SMALL_VALUE) {\r\n                        return r;\r\n                    }\r\n                    return n;\r\n                };\r\n\r\n            /**\r\n             * returns the point on the segment's path that is 'location' along the length of the path, where 'location' is a decimal from\r\n             * 0 to 1 inclusive.\r\n             */\r\n            this.pointOnPath = function (location, absolute) {\r\n\r\n                if (location === 0) {\r\n                    return { x: this.x1, y: this.y1, theta: this.startAngle };\r\n                }\r\n                else if (location === 1) {\r\n                    return { x: this.x2, y: this.y2, theta: this.endAngle };\r\n                }\r\n\r\n                if (absolute) {\r\n                    location = location / length;\r\n                }\r\n\r\n                var angle = _calcAngleForLocation(this, location),\r\n                    _x = params.cx + (params.r * Math.cos(angle)),\r\n                    _y = params.cy + (params.r * Math.sin(angle));\r\n\r\n                return { x: gentleRound(_x), y: gentleRound(_y), theta: angle };\r\n            };\r\n\r\n            /**\r\n             * returns the gradient of the segment at the given point.\r\n             */\r\n            this.gradientAtPoint = function (location, absolute) {\r\n                var p = this.pointOnPath(location, absolute);\r\n                var m = _jg.normal([ params.cx, params.cy ], [p.x, p.y ]);\r\n                if (!this.anticlockwise && (m === Infinity || m === -Infinity)) {\r\n                    m *= -1;\r\n                }\r\n                return m;\r\n            };\r\n\r\n            this.pointAlongPathFrom = function (location, distance, absolute) {\r\n                var p = this.pointOnPath(location, absolute),\r\n                    arcSpan = distance / circumference * 2 * Math.PI,\r\n                    dir = this.anticlockwise ? -1 : 1,\r\n                    startAngle = p.theta + (dir * arcSpan),\r\n                    startX = params.cx + (this.radius * Math.cos(startAngle)),\r\n                    startY = params.cy + (this.radius * Math.sin(startAngle));\r\n\r\n                return {x: startX, y: startY};\r\n            };\r\n\r\n            // TODO: lineIntersection\r\n        },\r\n\r\n        Bezier: function (params) {\r\n            this.curve = [\r\n                { x: params.x1, y: params.y1},\r\n                { x: params.cp1x, y: params.cp1y },\r\n                { x: params.cp2x, y: params.cp2y },\r\n                { x: params.x2, y: params.y2 }\r\n            ];\r\n\r\n            var _super = _jp.Segments.AbstractSegment.apply(this, arguments);\r\n            // although this is not a strictly rigorous determination of bounds\r\n            // of a bezier curve, it works for the types of curves that this segment\r\n            // type produces.\r\n            this.bounds = {\r\n                minX: Math.min(params.x1, params.x2, params.cp1x, params.cp2x),\r\n                minY: Math.min(params.y1, params.y2, params.cp1y, params.cp2y),\r\n                maxX: Math.max(params.x1, params.x2, params.cp1x, params.cp2x),\r\n                maxY: Math.max(params.y1, params.y2, params.cp1y, params.cp2y)\r\n            };\r\n\r\n            this.type = \"Bezier\";\r\n\r\n            var _translateLocation = function (_curve, location, absolute) {\r\n                if (absolute) {\r\n                    location = root.jsBezier.locationAlongCurveFrom(_curve, location > 0 ? 0 : 1, location);\r\n                }\r\n\r\n                return location;\r\n            };\r\n\r\n            /**\r\n             * returns the point on the segment's path that is 'location' along the length of the path, where 'location' is a decimal from\r\n             * 0 to 1 inclusive.\r\n             */\r\n            this.pointOnPath = function (location, absolute) {\r\n                location = _translateLocation(this.curve, location, absolute);\r\n                return root.jsBezier.pointOnCurve(this.curve, location);\r\n            };\r\n\r\n            /**\r\n             * returns the gradient of the segment at the given point.\r\n             */\r\n            this.gradientAtPoint = function (location, absolute) {\r\n                location = _translateLocation(this.curve, location, absolute);\r\n                return root.jsBezier.gradientAtPoint(this.curve, location);\r\n            };\r\n\r\n            this.pointAlongPathFrom = function (location, distance, absolute) {\r\n                location = _translateLocation(this.curve, location, absolute);\r\n                return root.jsBezier.pointAlongCurveFrom(this.curve, location, distance);\r\n            };\r\n\r\n            this.getLength = function () {\r\n                return root.jsBezier.getLength(this.curve);\r\n            };\r\n\r\n            this.getBounds = function () {\r\n                return this.bounds;\r\n            };\r\n\r\n            this.findClosestPointOnPath = function (x, y) {\r\n                var p = root.jsBezier.nearestPointOnCurve({x:x,y:y}, this.curve);\r\n                return {\r\n                    d:Math.sqrt(Math.pow(p.point.x - x, 2) + Math.pow(p.point.y - y, 2)),\r\n                    x:p.point.x,\r\n                    y:p.point.y,\r\n                    l:1 - p.location,\r\n                    s:this\r\n                };\r\n            };\r\n\r\n            this.lineIntersection = function(x1, y1, x2, y2) {\r\n                return root.jsBezier.lineIntersection(x1, y1, x2, y2, this.curve);\r\n            };\r\n        }\r\n    };\r\n\r\n    _jp.SegmentRenderer = {\r\n        getPath: function (segment, isFirstSegment) {\r\n            return ({\r\n                \"Straight\": function (isFirstSegment) {\r\n                    var d = segment.getCoordinates();\r\n                    return (isFirstSegment ? \"M \" + d.x1 + \" \" + d.y1 + \" \" : \"\") + \"L \" + d.x2 + \" \" + d.y2;\r\n                },\r\n                \"Bezier\": function (isFirstSegment) {\r\n                    var d = segment.params;\r\n                    return (isFirstSegment ? \"M \" + d.x2 + \" \" + d.y2 + \" \" : \"\") +\r\n                        \"C \" + d.cp2x + \" \" + d.cp2y + \" \" + d.cp1x + \" \" + d.cp1y + \" \" + d.x1 + \" \" + d.y1;\r\n                },\r\n                \"Arc\": function (isFirstSegment) {\r\n                    var d = segment.params,\r\n                        laf = segment.sweep > Math.PI ? 1 : 0,\r\n                        sf = segment.anticlockwise ? 0 : 1;\r\n\r\n                    return  (isFirstSegment ? \"M\" + segment.x1 + \" \" + segment.y1  + \" \" : \"\")  + \"A \" + segment.radius + \" \" + d.r + \" 0 \" + laf + \",\" + sf + \" \" + segment.x2 + \" \" + segment.y2;\r\n                }\r\n            })[segment.type](isFirstSegment);\r\n        }\r\n    };\r\n\r\n    /*\r\n     Class: UIComponent\r\n     Superclass for Connector and AbstractEndpoint.\r\n     */\r\n    var AbstractComponent = function () {\r\n        this.resetBounds = function () {\r\n            this.bounds = { minX: Infinity, minY: Infinity, maxX: -Infinity, maxY: -Infinity };\r\n        };\r\n        this.resetBounds();\r\n    };\r\n\r\n    /*\r\n     * Class: Connector\r\n     * Superclass for all Connectors; here is where Segments are managed.  This is exposed on jsPlumb just so it\r\n     * can be accessed from other files. You should not try to instantiate one of these directly.\r\n     *\r\n     * When this class is asked for a pointOnPath, or gradient etc, it must first figure out which segment to dispatch\r\n     * that request to. This is done by keeping track of the total connector length as segments are added, and also\r\n     * their cumulative ratios to the total length.  Then when the right segment is found it is a simple case of dispatching\r\n     * the request to it (and adjusting 'location' so that it is relative to the beginning of that segment.)\r\n     */\r\n    _jp.Connectors.AbstractConnector = function (params) {\r\n\r\n        AbstractComponent.apply(this, arguments);\r\n\r\n        var segments = [],\r\n            totalLength = 0,\r\n            segmentProportions = [],\r\n            segmentProportionalLengths = [],\r\n            stub = params.stub || 0,\r\n            sourceStub = _ju.isArray(stub) ? stub[0] : stub,\r\n            targetStub = _ju.isArray(stub) ? stub[1] : stub,\r\n            gap = params.gap || 0,\r\n            sourceGap = _ju.isArray(gap) ? gap[0] : gap,\r\n            targetGap = _ju.isArray(gap) ? gap[1] : gap,\r\n            userProvidedSegments = null,\r\n            paintInfo = null;\r\n\r\n        this.getPathData = function() {\r\n            var p = \"\";\r\n            for (var i = 0; i < segments.length; i++) {\r\n                p += _jp.SegmentRenderer.getPath(segments[i], i === 0);\r\n                p += \" \";\r\n            }\r\n            return p;\r\n        };\r\n\r\n        /**\r\n         * Function: findSegmentForPoint\r\n         * Returns the segment that is closest to the given [x,y],\r\n         * null if nothing found.  This function returns a JS\r\n         * object with:\r\n         *\r\n         *   d   -   distance from segment\r\n         *   l   -   proportional location in segment\r\n         *   x   -   x point on the segment\r\n         *   y   -   y point on the segment\r\n         *   s   -   the segment itself.\r\n         *   connectorLocation - the location on the connector of the point, expressed as a decimal between 0 and 1 inclusive.\r\n         */\r\n        this.findSegmentForPoint = function (x, y) {\r\n            var out = { d: Infinity, s: null, x: null, y: null, l: null };\r\n            for (var i = 0; i < segments.length; i++) {\r\n                var _s = segments[i].findClosestPointOnPath(x, y);\r\n                if (_s.d < out.d) {\r\n                    out.d = _s.d;\r\n                    out.l = _s.l;\r\n                    out.x = _s.x;\r\n                    out.y = _s.y;\r\n                    out.s = segments[i];\r\n                    out.x1 = _s.x1;\r\n                    out.x2 = _s.x2;\r\n                    out.y1 = _s.y1;\r\n                    out.y2 = _s.y2;\r\n                    out.index = i;\r\n                    out.connectorLocation = segmentProportions[i][0] + (_s.l * (segmentProportions[i][1] - segmentProportions[i][0]));\r\n                }\r\n            }\r\n\r\n            return out;\r\n        };\r\n\r\n        this.lineIntersection = function(x1, y1, x2, y2) {\r\n            var out = [];\r\n            for (var i = 0; i < segments.length; i++) {\r\n                out.push.apply(out, segments[i].lineIntersection(x1, y1, x2, y2));\r\n            }\r\n            return out;\r\n        };\r\n\r\n        this.boxIntersection = function(x, y, w, h) {\r\n            var out = [];\r\n            for (var i = 0; i < segments.length; i++) {\r\n                out.push.apply(out, segments[i].boxIntersection(x, y, w, h));\r\n            }\r\n            return out;\r\n        };\r\n\r\n        this.boundingBoxIntersection = function(box) {\r\n            var out = [];\r\n            for (var i = 0; i < segments.length; i++) {\r\n                out.push.apply(out, segments[i].boundingBoxIntersection(box));\r\n            }\r\n            return out;\r\n        };\r\n\r\n        var _updateSegmentProportions = function () {\r\n                var curLoc = 0;\r\n                for (var i = 0; i < segments.length; i++) {\r\n                    var sl = segments[i].getLength();\r\n                    segmentProportionalLengths[i] = sl / totalLength;\r\n                    segmentProportions[i] = [curLoc, (curLoc += (sl / totalLength)) ];\r\n                }\r\n            },\r\n\r\n            /**\r\n             * returns [segment, proportion of travel in segment, segment index] for the segment\r\n             * that contains the point which is 'location' distance along the entire path, where\r\n             * 'location' is a decimal between 0 and 1 inclusive. in this connector type, paths\r\n             * are made up of a list of segments, each of which contributes some fraction to\r\n             * the total length.\r\n             * From 1.3.10 this also supports the 'absolute' property, which lets us specify a location\r\n             * as the absolute distance in pixels, rather than a proportion of the total path.\r\n             */\r\n            _findSegmentForLocation = function (location, absolute) {\r\n                if (absolute) {\r\n                    location = location > 0 ? location / totalLength : (totalLength + location) / totalLength;\r\n                }\r\n                var idx = segmentProportions.length - 1, inSegmentProportion = 1;\r\n                for (var i = 0; i < segmentProportions.length; i++) {\r\n                    if (segmentProportions[i][1] >= location) {\r\n                        idx = i;\r\n                        // todo is this correct for all connector path types?\r\n                        inSegmentProportion = location === 1 ? 1 : location === 0 ? 0 : (location - segmentProportions[i][0]) / segmentProportionalLengths[i];\r\n                        break;\r\n                    }\r\n                }\r\n                return { segment: segments[idx], proportion: inSegmentProportion, index: idx };\r\n            },\r\n            _addSegment = function (conn, type, params) {\r\n                if (params.x1 === params.x2 && params.y1 === params.y2) {\r\n                    return;\r\n                }\r\n                var s = new _jp.Segments[type](params);\r\n                segments.push(s);\r\n                totalLength += s.getLength();\r\n                conn.updateBounds(s);\r\n            },\r\n            _clearSegments = function () {\r\n                totalLength = segments.length = segmentProportions.length = segmentProportionalLengths.length = 0;\r\n            };\r\n\r\n        this.setSegments = function (_segs) {\r\n            userProvidedSegments = [];\r\n            totalLength = 0;\r\n            for (var i = 0; i < _segs.length; i++) {\r\n                userProvidedSegments.push(_segs[i]);\r\n                totalLength += _segs[i].getLength();\r\n            }\r\n        };\r\n\r\n        this.getLength = function() {\r\n            return totalLength;\r\n        };\r\n\r\n        var _prepareCompute = function (params) {\r\n            this.strokeWidth = params.strokeWidth;\r\n            var segment = _jg.quadrant(params.sourcePos, params.targetPos),\r\n                swapX = params.targetPos[0] < params.sourcePos[0],\r\n                swapY = params.targetPos[1] < params.sourcePos[1],\r\n                lw = params.strokeWidth || 1,\r\n                so = params.sourceEndpoint.anchor.getOrientation(params.sourceEndpoint),\r\n                to = params.targetEndpoint.anchor.getOrientation(params.targetEndpoint),\r\n                x = swapX ? params.targetPos[0] : params.sourcePos[0],\r\n                y = swapY ? params.targetPos[1] : params.sourcePos[1],\r\n                w = Math.abs(params.targetPos[0] - params.sourcePos[0]),\r\n                h = Math.abs(params.targetPos[1] - params.sourcePos[1]);\r\n\r\n            // if either anchor does not have an orientation set, we derive one from their relative\r\n            // positions.  we fix the axis to be the one in which the two elements are further apart, and\r\n            // point each anchor at the other element.  this is also used when dragging a new connection.\r\n            if (so[0] === 0 && so[1] === 0 || to[0] === 0 && to[1] === 0) {\r\n                var index = w > h ? 0 : 1, oIndex = [1, 0][index];\r\n                so = [];\r\n                to = [];\r\n                so[index] = params.sourcePos[index] > params.targetPos[index] ? -1 : 1;\r\n                to[index] = params.sourcePos[index] > params.targetPos[index] ? 1 : -1;\r\n                so[oIndex] = 0;\r\n                to[oIndex] = 0;\r\n            }\r\n\r\n            var sx = swapX ? w + (sourceGap * so[0]) : sourceGap * so[0],\r\n                sy = swapY ? h + (sourceGap * so[1]) : sourceGap * so[1],\r\n                tx = swapX ? targetGap * to[0] : w + (targetGap * to[0]),\r\n                ty = swapY ? targetGap * to[1] : h + (targetGap * to[1]),\r\n                oProduct = ((so[0] * to[0]) + (so[1] * to[1]));\r\n\r\n            var result = {\r\n                sx: sx, sy: sy, tx: tx, ty: ty, lw: lw,\r\n                xSpan: Math.abs(tx - sx),\r\n                ySpan: Math.abs(ty - sy),\r\n                mx: (sx + tx) / 2,\r\n                my: (sy + ty) / 2,\r\n                so: so, to: to, x: x, y: y, w: w, h: h,\r\n                segment: segment,\r\n                startStubX: sx + (so[0] * sourceStub),\r\n                startStubY: sy + (so[1] * sourceStub),\r\n                endStubX: tx + (to[0] * targetStub),\r\n                endStubY: ty + (to[1] * targetStub),\r\n                isXGreaterThanStubTimes2: Math.abs(sx - tx) > (sourceStub + targetStub),\r\n                isYGreaterThanStubTimes2: Math.abs(sy - ty) > (sourceStub + targetStub),\r\n                opposite: oProduct === -1,\r\n                perpendicular: oProduct === 0,\r\n                orthogonal: oProduct === 1,\r\n                sourceAxis: so[0] === 0 ? \"y\" : \"x\",\r\n                points: [x, y, w, h, sx, sy, tx, ty ],\r\n                stubs:[sourceStub, targetStub]\r\n            };\r\n            result.anchorOrientation = result.opposite ? \"opposite\" : result.orthogonal ? \"orthogonal\" : \"perpendicular\";\r\n            return result;\r\n        };\r\n\r\n        this.getSegments = function () {\r\n            return segments;\r\n        };\r\n\r\n        this.updateBounds = function (segment) {\r\n            var segBounds = segment.getBounds();\r\n            this.bounds.minX = Math.min(this.bounds.minX, segBounds.minX);\r\n            this.bounds.maxX = Math.max(this.bounds.maxX, segBounds.maxX);\r\n            this.bounds.minY = Math.min(this.bounds.minY, segBounds.minY);\r\n            this.bounds.maxY = Math.max(this.bounds.maxY, segBounds.maxY);\r\n        };\r\n\r\n        var dumpSegmentsToConsole = function () {\r\n            console.log(\"SEGMENTS:\");\r\n            for (var i = 0; i < segments.length; i++) {\r\n                console.log(segments[i].type, segments[i].getLength(), segmentProportions[i]);\r\n            }\r\n        };\r\n\r\n        this.pointOnPath = function (location, absolute) {\r\n            var seg = _findSegmentForLocation(location, absolute);\r\n            return seg.segment && seg.segment.pointOnPath(seg.proportion, false) || [0, 0];\r\n        };\r\n\r\n        this.gradientAtPoint = function (location, absolute) {\r\n            var seg = _findSegmentForLocation(location, absolute);\r\n            return seg.segment && seg.segment.gradientAtPoint(seg.proportion, false) || 0;\r\n        };\r\n\r\n        this.pointAlongPathFrom = function (location, distance, absolute) {\r\n            var seg = _findSegmentForLocation(location, absolute);\r\n            // TODO what happens if this crosses to the next segment?\r\n            return seg.segment && seg.segment.pointAlongPathFrom(seg.proportion, distance, false) || [0, 0];\r\n        };\r\n\r\n        this.compute = function (params) {\r\n            paintInfo = _prepareCompute.call(this, params);\r\n\r\n            _clearSegments();\r\n            this._compute(paintInfo, params);\r\n            this.x = paintInfo.points[0];\r\n            this.y = paintInfo.points[1];\r\n            this.w = paintInfo.points[2];\r\n            this.h = paintInfo.points[3];\r\n            this.segment = paintInfo.segment;\r\n            _updateSegmentProportions();\r\n        };\r\n\r\n        return {\r\n            addSegment: _addSegment,\r\n            prepareCompute: _prepareCompute,\r\n            sourceStub: sourceStub,\r\n            targetStub: targetStub,\r\n            maxStub: Math.max(sourceStub, targetStub),\r\n            sourceGap: sourceGap,\r\n            targetGap: targetGap,\r\n            maxGap: Math.max(sourceGap, targetGap)\r\n        };\r\n    };\r\n    _ju.extend(_jp.Connectors.AbstractConnector, AbstractComponent);\r\n\r\n\r\n    // ********************************* END OF CONNECTOR TYPES *******************************************************************\r\n\r\n    // ********************************* ENDPOINT TYPES *******************************************************************\r\n\r\n    _jp.Endpoints.AbstractEndpoint = function (params) {\r\n        AbstractComponent.apply(this, arguments);\r\n        var compute = this.compute = function (anchorPoint, orientation, endpointStyle, connectorPaintStyle) {\r\n            var out = this._compute.apply(this, arguments);\r\n            this.x = out[0];\r\n            this.y = out[1];\r\n            this.w = out[2];\r\n            this.h = out[3];\r\n            this.bounds.minX = this.x;\r\n            this.bounds.minY = this.y;\r\n            this.bounds.maxX = this.x + this.w;\r\n            this.bounds.maxY = this.y + this.h;\r\n            return out;\r\n        };\r\n        return {\r\n            compute: compute,\r\n            cssClass: params.cssClass\r\n        };\r\n    };\r\n    _ju.extend(_jp.Endpoints.AbstractEndpoint, AbstractComponent);\r\n\r\n    /**\r\n     * Class: Endpoints.Dot\r\n     * A round endpoint, with default radius 10 pixels.\r\n     */\r\n\r\n    /**\r\n     * Function: Constructor\r\n     *\r\n     * Parameters:\r\n     *\r\n     *    radius    -    radius of the endpoint.  defaults to 10 pixels.\r\n     */\r\n    _jp.Endpoints.Dot = function (params) {\r\n        this.type = \"Dot\";\r\n        var _super = _jp.Endpoints.AbstractEndpoint.apply(this, arguments);\r\n        params = params || {};\r\n        this.radius = params.radius || 10;\r\n        this.defaultOffset = 0.5 * this.radius;\r\n        this.defaultInnerRadius = this.radius / 3;\r\n\r\n        this._compute = function (anchorPoint, orientation, endpointStyle, connectorPaintStyle) {\r\n            this.radius = endpointStyle.radius || this.radius;\r\n            var x = anchorPoint[0] - this.radius,\r\n                y = anchorPoint[1] - this.radius,\r\n                w = this.radius * 2,\r\n                h = this.radius * 2;\r\n\r\n            if (endpointStyle.stroke) {\r\n                var lw = endpointStyle.strokeWidth || 1;\r\n                x -= lw;\r\n                y -= lw;\r\n                w += (lw * 2);\r\n                h += (lw * 2);\r\n            }\r\n            return [ x, y, w, h, this.radius ];\r\n        };\r\n    };\r\n    _ju.extend(_jp.Endpoints.Dot, _jp.Endpoints.AbstractEndpoint);\r\n\r\n    _jp.Endpoints.Rectangle = function (params) {\r\n        this.type = \"Rectangle\";\r\n        var _super = _jp.Endpoints.AbstractEndpoint.apply(this, arguments);\r\n        params = params || {};\r\n        this.width = params.width || 20;\r\n        this.height = params.height || 20;\r\n\r\n        this._compute = function (anchorPoint, orientation, endpointStyle, connectorPaintStyle) {\r\n            var width = endpointStyle.width || this.width,\r\n                height = endpointStyle.height || this.height,\r\n                x = anchorPoint[0] - (width / 2),\r\n                y = anchorPoint[1] - (height / 2);\r\n\r\n            return [ x, y, width, height];\r\n        };\r\n    };\r\n    _ju.extend(_jp.Endpoints.Rectangle, _jp.Endpoints.AbstractEndpoint);\r\n\r\n    var DOMElementEndpoint = function (params) {\r\n        _jp.jsPlumbUIComponent.apply(this, arguments);\r\n        this._jsPlumb.displayElements = [];\r\n    };\r\n    _ju.extend(DOMElementEndpoint, _jp.jsPlumbUIComponent, {\r\n        getDisplayElements: function () {\r\n            return this._jsPlumb.displayElements;\r\n        },\r\n        appendDisplayElement: function (el) {\r\n            this._jsPlumb.displayElements.push(el);\r\n        }\r\n    });\r\n\r\n    /**\r\n     * Class: Endpoints.Image\r\n     * Draws an image as the Endpoint.\r\n     */\r\n    /**\r\n     * Function: Constructor\r\n     *\r\n     * Parameters:\r\n     *\r\n     *    src    -    location of the image to use.\r\n\r\n     TODO: multiple references to self. not sure quite how to get rid of them entirely. perhaps self = null in the cleanup\r\n     function will suffice\r\n\r\n     TODO this class still might leak memory.\r\n\r\n     */\r\n    _jp.Endpoints.Image = function (params) {\r\n\r\n        this.type = \"Image\";\r\n        DOMElementEndpoint.apply(this, arguments);\r\n        _jp.Endpoints.AbstractEndpoint.apply(this, arguments);\r\n\r\n        var _onload = params.onload,\r\n            src = params.src || params.url,\r\n            clazz = params.cssClass ? \" \" + params.cssClass : \"\";\r\n\r\n        this._jsPlumb.img = new Image();\r\n        this._jsPlumb.ready = false;\r\n        this._jsPlumb.initialized = false;\r\n        this._jsPlumb.deleted = false;\r\n        this._jsPlumb.widthToUse = params.width;\r\n        this._jsPlumb.heightToUse = params.height;\r\n        this._jsPlumb.endpoint = params.endpoint;\r\n\r\n        this._jsPlumb.img.onload = function () {\r\n            if (this._jsPlumb != null) {\r\n                this._jsPlumb.ready = true;\r\n                this._jsPlumb.widthToUse = this._jsPlumb.widthToUse || this._jsPlumb.img.width;\r\n                this._jsPlumb.heightToUse = this._jsPlumb.heightToUse || this._jsPlumb.img.height;\r\n                if (_onload) {\r\n                    _onload(this);\r\n                }\r\n            }\r\n        }.bind(this);\r\n\r\n        /*\r\n         Function: setImage\r\n         Sets the Image to use in this Endpoint.\r\n\r\n         Parameters:\r\n         img         -   may be a URL or an Image object\r\n         onload      -   optional; a callback to execute once the image has loaded.\r\n         */\r\n        this._jsPlumb.endpoint.setImage = function (_img, onload) {\r\n            var s = _img.constructor === String ? _img : _img.src;\r\n            _onload = onload;\r\n            this._jsPlumb.img.src = s;\r\n\r\n            if (this.canvas != null) {\r\n                this.canvas.setAttribute(\"src\", this._jsPlumb.img.src);\r\n            }\r\n        }.bind(this);\r\n\r\n        this._jsPlumb.endpoint.setImage(src, _onload);\r\n        this._compute = function (anchorPoint, orientation, endpointStyle, connectorPaintStyle) {\r\n            this.anchorPoint = anchorPoint;\r\n            if (this._jsPlumb.ready) {\r\n                return [anchorPoint[0] - this._jsPlumb.widthToUse / 2, anchorPoint[1] - this._jsPlumb.heightToUse / 2,\r\n                    this._jsPlumb.widthToUse, this._jsPlumb.heightToUse];\r\n            }\r\n            else {\r\n                return [0, 0, 0, 0];\r\n            }\r\n        };\r\n\r\n        this.canvas = _jp.createElement(\"img\", {\r\n            position:\"absolute\",\r\n            margin:0,\r\n            padding:0,\r\n            outline:0\r\n        }, this._jsPlumb.instance.endpointClass + clazz);\r\n\r\n        if (this._jsPlumb.widthToUse) {\r\n            this.canvas.setAttribute(\"width\", this._jsPlumb.widthToUse);\r\n        }\r\n        if (this._jsPlumb.heightToUse) {\r\n            this.canvas.setAttribute(\"height\", this._jsPlumb.heightToUse);\r\n        }\r\n        this._jsPlumb.instance.appendElement(this.canvas);\r\n\r\n        this.actuallyPaint = function (d, style, anchor) {\r\n            if (!this._jsPlumb.deleted) {\r\n                if (!this._jsPlumb.initialized) {\r\n                    this.canvas.setAttribute(\"src\", this._jsPlumb.img.src);\r\n                    this.appendDisplayElement(this.canvas);\r\n                    this._jsPlumb.initialized = true;\r\n                }\r\n                var x = this.anchorPoint[0] - (this._jsPlumb.widthToUse / 2),\r\n                    y = this.anchorPoint[1] - (this._jsPlumb.heightToUse / 2);\r\n                _ju.sizeElement(this.canvas, x, y, this._jsPlumb.widthToUse, this._jsPlumb.heightToUse);\r\n            }\r\n        };\r\n\r\n        this.paint = function (style, anchor) {\r\n            if (this._jsPlumb != null) {  // may have been deleted\r\n                if (this._jsPlumb.ready) {\r\n                    this.actuallyPaint(style, anchor);\r\n                }\r\n                else {\r\n                    root.setTimeout(function () {\r\n                        this.paint(style, anchor);\r\n                    }.bind(this), 200);\r\n                }\r\n            }\r\n        };\r\n    };\r\n    _ju.extend(_jp.Endpoints.Image, [ DOMElementEndpoint, _jp.Endpoints.AbstractEndpoint ], {\r\n        cleanup: function (force) {\r\n            if (force) {\r\n                this._jsPlumb.deleted = true;\r\n                if (this.canvas) {\r\n                    this.canvas.parentNode.removeChild(this.canvas);\r\n                }\r\n                this.canvas = null;\r\n            }\r\n        }\r\n    });\r\n\r\n    /*\r\n     * Class: Endpoints.Blank\r\n     * An Endpoint that paints nothing (visible) on the screen.  Supports cssClass and hoverClass parameters like all Endpoints.\r\n     */\r\n    _jp.Endpoints.Blank = function (params) {\r\n        var _super = _jp.Endpoints.AbstractEndpoint.apply(this, arguments);\r\n        this.type = \"Blank\";\r\n        DOMElementEndpoint.apply(this, arguments);\r\n        this._compute = function (anchorPoint, orientation, endpointStyle, connectorPaintStyle) {\r\n            return [anchorPoint[0], anchorPoint[1], 10, 0];\r\n        };\r\n\r\n        var clazz = params.cssClass ? \" \" + params.cssClass : \"\";\r\n\r\n        this.canvas = _jp.createElement(\"div\", {\r\n            display: \"block\",\r\n            width: \"1px\",\r\n            height: \"1px\",\r\n            background: \"transparent\",\r\n            position: \"absolute\"\r\n        }, this._jsPlumb.instance.endpointClass + clazz);\r\n\r\n        this._jsPlumb.instance.appendElement(this.canvas);\r\n\r\n        this.paint = function (style, anchor) {\r\n            _ju.sizeElement(this.canvas, this.x, this.y, this.w, this.h);\r\n        };\r\n    };\r\n    _ju.extend(_jp.Endpoints.Blank, [_jp.Endpoints.AbstractEndpoint, DOMElementEndpoint], {\r\n        cleanup: function () {\r\n            if (this.canvas && this.canvas.parentNode) {\r\n                this.canvas.parentNode.removeChild(this.canvas);\r\n            }\r\n        }\r\n    });\r\n\r\n    /*\r\n     * Class: Endpoints.Triangle\r\n     * A triangular Endpoint.\r\n     */\r\n    /*\r\n     * Function: Constructor\r\n     *\r\n     * Parameters:\r\n     *\r\n     * width   width of the triangle's base.  defaults to 55 pixels.\r\n     * height  height of the triangle from base to apex.  defaults to 55 pixels.\r\n     */\r\n    _jp.Endpoints.Triangle = function (params) {\r\n        this.type = \"Triangle\";\r\n        _jp.Endpoints.AbstractEndpoint.apply(this, arguments);\r\n        var self = this;\r\n        params = params || {  };\r\n        params.width = params.width || 55;\r\n        params.height = params.height || 55;\r\n        this.width = params.width;\r\n        this.height = params.height;\r\n        this._compute = function (anchorPoint, orientation, endpointStyle, connectorPaintStyle) {\r\n            var width = endpointStyle.width || self.width,\r\n                height = endpointStyle.height || self.height,\r\n                x = anchorPoint[0] - (width / 2),\r\n                y = anchorPoint[1] - (height / 2);\r\n            return [ x, y, width, height ];\r\n        };\r\n    };\r\n// ********************************* END OF ENDPOINT TYPES *******************************************************************\r\n\r\n\r\n// ********************************* OVERLAY DEFINITIONS ***********************************************************************\r\n\r\n    var AbstractOverlay = _jp.Overlays.AbstractOverlay = function (params) {\r\n        this.visible = true;\r\n        this.isAppendedAtTopLevel = true;\r\n        this.component = params.component;\r\n        this.loc = params.location == null ? 0.5 : params.location;\r\n        this.endpointLoc = params.endpointLocation == null ? [ 0.5, 0.5] : params.endpointLocation;\r\n        this.visible = params.visible !== false;\r\n    };\r\n    AbstractOverlay.prototype = {\r\n        cleanup: function (force) {\r\n            if (force) {\r\n                this.component = null;\r\n                this.canvas = null;\r\n                this.endpointLoc = null;\r\n            }\r\n        },\r\n        reattach:function(instance, component) { },\r\n        setVisible: function (val) {\r\n            this.visible = val;\r\n            this.component.repaint();\r\n        },\r\n        isVisible: function () {\r\n            return this.visible;\r\n        },\r\n        hide: function () {\r\n            this.setVisible(false);\r\n        },\r\n        show: function () {\r\n            this.setVisible(true);\r\n        },\r\n        incrementLocation: function (amount) {\r\n            this.loc += amount;\r\n            this.component.repaint();\r\n        },\r\n        setLocation: function (l) {\r\n            this.loc = l;\r\n            this.component.repaint();\r\n        },\r\n        getLocation: function () {\r\n            return this.loc;\r\n        },\r\n        updateFrom:function() { }\r\n    };\r\n\r\n\r\n    /*\r\n     * Class: Overlays.Arrow\r\n     *\r\n     * An arrow overlay, defined by four points: the head, the two sides of the tail, and a 'foldback' point at some distance along the length\r\n     * of the arrow that lines from each tail point converge into.  The foldback point is defined using a decimal that indicates some fraction\r\n     * of the length of the arrow and has a default value of 0.623.  A foldback point value of 1 would mean that the arrow had a straight line\r\n     * across the tail.\r\n     */\r\n    /*\r\n     * @constructor\r\n     *\r\n     * @param {Object} params Constructor params.\r\n     * @param {Number} [params.length] Distance in pixels from head to tail baseline. default 20.\r\n     * @param {Number} [params.width] Width in pixels of the tail baseline. default 20.\r\n     * @param {String} [params.fill] Style to use when filling the arrow.  defaults to \"black\".\r\n     * @param {String} [params.stroke] Style to use when stroking the arrow. defaults to null, which means the arrow is not stroked.\r\n     * @param {Number} [params.stroke-width] Line width to use when stroking the arrow. defaults to 1, but only used if stroke is not null.\r\n     * @param {Number} [params.foldback] Distance (as a decimal from 0 to 1 inclusive) along the length of the arrow marking the point the tail points should fold back to.  defaults to 0.623.\r\n     * @param {Number} [params.location] Distance (as a decimal from 0 to 1 inclusive) marking where the arrow should sit on the connector. defaults to 0.5.\r\n     * @param {NUmber} [params.direction] Indicates the direction the arrow points in. valid values are -1 and 1; 1 is default.\r\n     */\r\n    _jp.Overlays.Arrow = function (params) {\r\n        this.type = \"Arrow\";\r\n        AbstractOverlay.apply(this, arguments);\r\n        this.isAppendedAtTopLevel = false;\r\n        params = params || {};\r\n        var self = this;\r\n\r\n        this.length = params.length || 20;\r\n        this.width = params.width || 20;\r\n        this.id = params.id;\r\n        this.direction = (params.direction || 1) < 0 ? -1 : 1;\r\n        var paintStyle = params.paintStyle || { \"stroke-width\": 1 },\r\n            // how far along the arrow the lines folding back in come to. default is 62.3%.\r\n            foldback = params.foldback || 0.623;\r\n\r\n        this.computeMaxSize = function () {\r\n            return self.width * 1.5;\r\n        };\r\n\r\n        this.elementCreated = function(p, component) {\r\n            this.path = p;\r\n            if (params.events) {\r\n                for (var i in params.events) {\r\n                    _jp.on(p, i, params.events[i]);\r\n                }\r\n            }\r\n        };\r\n\r\n        this.draw = function (component, currentConnectionPaintStyle) {\r\n\r\n            var hxy, mid, txy, tail, cxy;\r\n            if (component.pointAlongPathFrom) {\r\n\r\n                if (_ju.isString(this.loc) || this.loc > 1 || this.loc < 0) {\r\n                    var l = parseInt(this.loc, 10),\r\n                        fromLoc = this.loc < 0 ? 1 : 0;\r\n                    hxy = component.pointAlongPathFrom(fromLoc, l, false);\r\n                    mid = component.pointAlongPathFrom(fromLoc, l - (this.direction * this.length / 2), false);\r\n                    txy = _jg.pointOnLine(hxy, mid, this.length);\r\n                }\r\n                else if (this.loc === 1) {\r\n                    hxy = component.pointOnPath(this.loc);\r\n                    mid = component.pointAlongPathFrom(this.loc, -(this.length));\r\n                    txy = _jg.pointOnLine(hxy, mid, this.length);\r\n\r\n                    if (this.direction === -1) {\r\n                        var _ = txy;\r\n                        txy = hxy;\r\n                        hxy = _;\r\n                    }\r\n                }\r\n                else if (this.loc === 0) {\r\n                    txy = component.pointOnPath(this.loc);\r\n                    mid = component.pointAlongPathFrom(this.loc, this.length);\r\n                    hxy = _jg.pointOnLine(txy, mid, this.length);\r\n                    if (this.direction === -1) {\r\n                        var __ = txy;\r\n                        txy = hxy;\r\n                        hxy = __;\r\n                    }\r\n                }\r\n                else {\r\n                    hxy = component.pointAlongPathFrom(this.loc, this.direction * this.length / 2);\r\n                    mid = component.pointOnPath(this.loc);\r\n                    txy = _jg.pointOnLine(hxy, mid, this.length);\r\n                }\r\n\r\n                tail = _jg.perpendicularLineTo(hxy, txy, this.width);\r\n                cxy = _jg.pointOnLine(hxy, txy, foldback * this.length);\r\n\r\n                var d = { hxy: hxy, tail: tail, cxy: cxy },\r\n                    stroke = paintStyle.stroke || currentConnectionPaintStyle.stroke,\r\n                    fill = paintStyle.fill || currentConnectionPaintStyle.stroke,\r\n                    lineWidth = paintStyle.strokeWidth || currentConnectionPaintStyle.strokeWidth;\r\n\r\n                return {\r\n                    component: component,\r\n                    d: d,\r\n                    \"stroke-width\": lineWidth,\r\n                    stroke: stroke,\r\n                    fill: fill,\r\n                    minX: Math.min(hxy.x, tail[0].x, tail[1].x),\r\n                    maxX: Math.max(hxy.x, tail[0].x, tail[1].x),\r\n                    minY: Math.min(hxy.y, tail[0].y, tail[1].y),\r\n                    maxY: Math.max(hxy.y, tail[0].y, tail[1].y)\r\n                };\r\n            }\r\n            else {\r\n                return {component: component, minX: 0, maxX: 0, minY: 0, maxY: 0};\r\n            }\r\n        };\r\n    };\r\n    _ju.extend(_jp.Overlays.Arrow, AbstractOverlay, {\r\n        updateFrom:function(d) {\r\n            this.length = d.length || this.length;\r\n            this.width = d.width|| this.width;\r\n            this.direction = d.direction != null ? d.direction : this.direction;\r\n            this.foldback = d.foldback|| this.foldback;\r\n        },\r\n        cleanup:function() {\r\n            if (this.path && this.canvas) {\r\n                this.canvas.removeChild(this.path);\r\n            }\r\n        }\r\n    });\r\n\r\n    /*\r\n     * Class: Overlays.PlainArrow\r\n     *\r\n     * A basic arrow.  This is in fact just one instance of the more generic case in which the tail folds back on itself to some\r\n     * point along the length of the arrow: in this case, that foldback point is the full length of the arrow.  so it just does\r\n     * a 'call' to Arrow with foldback set appropriately.\r\n     */\r\n    /*\r\n     * Function: Constructor\r\n     * See <Overlays.Arrow> for allowed parameters for this overlay.\r\n     */\r\n    _jp.Overlays.PlainArrow = function (params) {\r\n        params = params || {};\r\n        var p = _jp.extend(params, {foldback: 1});\r\n        _jp.Overlays.Arrow.call(this, p);\r\n        this.type = \"PlainArrow\";\r\n    };\r\n    _ju.extend(_jp.Overlays.PlainArrow, _jp.Overlays.Arrow);\r\n\r\n    /*\r\n     * Class: Overlays.Diamond\r\n     *\r\n     * A diamond. Like PlainArrow, this is a concrete case of the more generic case of the tail points converging on some point...it just\r\n     * happens that in this case, that point is greater than the length of the the arrow.\r\n     *\r\n     *      this could probably do with some help with positioning...due to the way it reuses the Arrow paint code, what Arrow thinks is the\r\n     *      center is actually 1/4 of the way along for this guy.  but we don't have any knowledge of pixels at this point, so we're kind of\r\n     *      stuck when it comes to helping out the Arrow class. possibly we could pass in a 'transpose' parameter or something. the value\r\n     *      would be -l/4 in this case - move along one quarter of the total length.\r\n     */\r\n    /*\r\n     * Function: Constructor\r\n     * See <Overlays.Arrow> for allowed parameters for this overlay.\r\n     */\r\n    _jp.Overlays.Diamond = function (params) {\r\n        params = params || {};\r\n        var l = params.length || 40,\r\n            p = _jp.extend(params, {length: l / 2, foldback: 2});\r\n        _jp.Overlays.Arrow.call(this, p);\r\n        this.type = \"Diamond\";\r\n    };\r\n    _ju.extend(_jp.Overlays.Diamond, _jp.Overlays.Arrow);\r\n\r\n    var _getDimensions = function (component, forceRefresh) {\r\n        if (component._jsPlumb.cachedDimensions == null || forceRefresh) {\r\n            component._jsPlumb.cachedDimensions = component.getDimensions();\r\n        }\r\n        return component._jsPlumb.cachedDimensions;\r\n    };\r\n\r\n    // abstract superclass for overlays that add an element to the DOM.\r\n    var AbstractDOMOverlay = function (params) {\r\n        _jp.jsPlumbUIComponent.apply(this, arguments);\r\n        AbstractOverlay.apply(this, arguments);\r\n\r\n        // hand off fired events to associated component.\r\n        var _f = this.fire;\r\n        this.fire = function () {\r\n            _f.apply(this, arguments);\r\n            if (this.component) {\r\n                this.component.fire.apply(this.component, arguments);\r\n            }\r\n        };\r\n\r\n        this.detached=false;\r\n        this.id = params.id;\r\n        this._jsPlumb.div = null;\r\n        this._jsPlumb.initialised = false;\r\n        this._jsPlumb.component = params.component;\r\n        this._jsPlumb.cachedDimensions = null;\r\n        this._jsPlumb.create = params.create;\r\n        this._jsPlumb.initiallyInvisible = params.visible === false;\r\n\r\n        this.getElement = function () {\r\n            if (this._jsPlumb.div == null) {\r\n                var div = this._jsPlumb.div = _jp.getElement(this._jsPlumb.create(this._jsPlumb.component));\r\n                div.style.position = \"absolute\";\r\n                jsPlumb.addClass(div, this._jsPlumb.instance.overlayClass + \" \" +\r\n                    (this.cssClass ? this.cssClass :\r\n                        params.cssClass ? params.cssClass : \"\"));\r\n                this._jsPlumb.instance.appendElement(div);\r\n                this._jsPlumb.instance.getId(div);\r\n                this.canvas = div;\r\n\r\n                // in IE the top left corner is what it placed at the desired location.  This will not\r\n                // be fixed. IE8 is not going to be supported for much longer.\r\n                var ts = \"translate(-50%, -50%)\";\r\n                div.style.webkitTransform = ts;\r\n                div.style.mozTransform = ts;\r\n                div.style.msTransform = ts;\r\n                div.style.oTransform = ts;\r\n                div.style.transform = ts;\r\n\r\n                // write the related component into the created element\r\n                div._jsPlumb = this;\r\n\r\n                if (params.visible === false) {\r\n                    div.style.display = \"none\";\r\n                }\r\n            }\r\n            return this._jsPlumb.div;\r\n        };\r\n\r\n        this.draw = function (component, currentConnectionPaintStyle, absolutePosition) {\r\n            var td = _getDimensions(this);\r\n            if (td != null && td.length === 2) {\r\n                var cxy = { x: 0, y: 0 };\r\n\r\n                // absolutePosition would have been set by a call to connection.setAbsoluteOverlayPosition.\r\n                if (absolutePosition) {\r\n                    cxy = { x: absolutePosition[0], y: absolutePosition[1] };\r\n                }\r\n                else if (component.pointOnPath) {\r\n                    var loc = this.loc, absolute = false;\r\n                    if (_ju.isString(this.loc) || this.loc < 0 || this.loc > 1) {\r\n                        loc = parseInt(this.loc, 10);\r\n                        absolute = true;\r\n                    }\r\n                    cxy = component.pointOnPath(loc, absolute);  // a connection\r\n                }\r\n                else {\r\n                    var locToUse = this.loc.constructor === Array ? this.loc : this.endpointLoc;\r\n                    cxy = { x: locToUse[0] * component.w,\r\n                        y: locToUse[1] * component.h };\r\n                }\r\n\r\n                var minx = cxy.x - (td[0] / 2),\r\n                    miny = cxy.y - (td[1] / 2);\r\n\r\n                return {\r\n                    component: component,\r\n                    d: { minx: minx, miny: miny, td: td, cxy: cxy },\r\n                    minX: minx,\r\n                    maxX: minx + td[0],\r\n                    minY: miny,\r\n                    maxY: miny + td[1]\r\n                };\r\n            }\r\n            else {\r\n                return {minX: 0, maxX: 0, minY: 0, maxY: 0};\r\n            }\r\n        };\r\n    };\r\n    _ju.extend(AbstractDOMOverlay, [_jp.jsPlumbUIComponent, AbstractOverlay], {\r\n        getDimensions: function () {\r\n            return [1,1];\r\n        },\r\n        setVisible: function (state) {\r\n            if (this._jsPlumb.div) {\r\n                this._jsPlumb.div.style.display = state ? \"block\" : \"none\";\r\n                // if initially invisible, dimensions are 0,0 and never get updated\r\n                if (state && this._jsPlumb.initiallyInvisible) {\r\n                    _getDimensions(this, true);\r\n                    this.component.repaint();\r\n                    this._jsPlumb.initiallyInvisible = false;\r\n                }\r\n            }\r\n        },\r\n        /*\r\n         * Function: clearCachedDimensions\r\n         * Clears the cached dimensions for the label. As a performance enhancement, label dimensions are\r\n         * cached from 1.3.12 onwards. The cache is cleared when you change the label text, of course, but\r\n         * there are other reasons why the text dimensions might change - if you make a change through CSS, for\r\n         * example, you might change the font size.  in that case you should explicitly call this method.\r\n         */\r\n        clearCachedDimensions: function () {\r\n            this._jsPlumb.cachedDimensions = null;\r\n        },\r\n        cleanup: function (force) {\r\n            if (force) {\r\n                if (this._jsPlumb.div != null) {\r\n                    this._jsPlumb.div._jsPlumb = null;\r\n                    this._jsPlumb.instance.removeElement(this._jsPlumb.div);\r\n                }\r\n            }\r\n            else {\r\n                // if not a forced cleanup, just detach child from parent for now.\r\n                if (this._jsPlumb && this._jsPlumb.div && this._jsPlumb.div.parentNode) {\r\n                    this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div);\r\n                }\r\n                this.detached = true;\r\n            }\r\n\r\n        },\r\n        reattach:function(instance, component) {\r\n            if (this._jsPlumb.div != null) {\r\n                instance.getContainer().appendChild(this._jsPlumb.div);\r\n            }\r\n            this.detached = false;\r\n        },\r\n        computeMaxSize: function () {\r\n            var td = _getDimensions(this);\r\n            return Math.max(td[0], td[1]);\r\n        },\r\n        paint: function (p, containerExtents) {\r\n            if (!this._jsPlumb.initialised) {\r\n                this.getElement();\r\n                p.component.appendDisplayElement(this._jsPlumb.div);\r\n                this._jsPlumb.initialised = true;\r\n                if (this.detached) {\r\n                    this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div);\r\n                }\r\n            }\r\n            this._jsPlumb.div.style.left = (p.component.x + p.d.minx) + \"px\";\r\n            this._jsPlumb.div.style.top = (p.component.y + p.d.miny) + \"px\";\r\n        }\r\n    });\r\n\r\n    /*\r\n     * Class: Overlays.Custom\r\n     * A Custom overlay. You supply a 'create' function which returns some DOM element, and jsPlumb positions it.\r\n     * The 'create' function is passed a Connection or Endpoint.\r\n     */\r\n    /*\r\n     * Function: Constructor\r\n     *\r\n     * Parameters:\r\n     * create - function for jsPlumb to call that returns a DOM element.\r\n     * location - distance (as a decimal from 0 to 1 inclusive) marking where the label should sit on the connector. defaults to 0.5.\r\n     * id - optional id to use for later retrieval of this overlay.\r\n     *\r\n     */\r\n    _jp.Overlays.Custom = function (params) {\r\n        this.type = \"Custom\";\r\n        AbstractDOMOverlay.apply(this, arguments);\r\n    };\r\n    _ju.extend(_jp.Overlays.Custom, AbstractDOMOverlay);\r\n\r\n    _jp.Overlays.GuideLines = function () {\r\n        var self = this;\r\n        self.length = 50;\r\n        self.strokeWidth = 5;\r\n        this.type = \"GuideLines\";\r\n        AbstractOverlay.apply(this, arguments);\r\n        _jp.jsPlumbUIComponent.apply(this, arguments);\r\n        this.draw = function (connector, currentConnectionPaintStyle) {\r\n\r\n            var head = connector.pointAlongPathFrom(self.loc, self.length / 2),\r\n                mid = connector.pointOnPath(self.loc),\r\n                tail = _jg.pointOnLine(head, mid, self.length),\r\n                tailLine = _jg.perpendicularLineTo(head, tail, 40),\r\n                headLine = _jg.perpendicularLineTo(tail, head, 20);\r\n\r\n            return {\r\n                connector: connector,\r\n                head: head,\r\n                tail: tail,\r\n                headLine: headLine,\r\n                tailLine: tailLine,\r\n                minX: Math.min(head.x, tail.x, headLine[0].x, headLine[1].x),\r\n                minY: Math.min(head.y, tail.y, headLine[0].y, headLine[1].y),\r\n                maxX: Math.max(head.x, tail.x, headLine[0].x, headLine[1].x),\r\n                maxY: Math.max(head.y, tail.y, headLine[0].y, headLine[1].y)\r\n            };\r\n        };\r\n\r\n        // this.cleanup = function() { };  // nothing to clean up for GuideLines\r\n    };\r\n\r\n    /*\r\n     * Class: Overlays.Label\r\n\r\n     */\r\n    /*\r\n     * Function: Constructor\r\n     *\r\n     * Parameters:\r\n     * cssClass - optional css class string to append to css class. This string is appended \"as-is\", so you can of course have multiple classes\r\n     *             defined.  This parameter is preferred to using labelStyle, borderWidth and borderStyle.\r\n     * label - the label to paint.  May be a string or a function that returns a string.  Nothing will be painted if your label is null or your\r\n     *         label function returns null.  empty strings _will_ be painted.\r\n     * location - distance (as a decimal from 0 to 1 inclusive) marking where the label should sit on the connector. defaults to 0.5.\r\n     * id - optional id to use for later retrieval of this overlay.\r\n     *\r\n     *\r\n     */\r\n    _jp.Overlays.Label = function (params) {\r\n        this.labelStyle = params.labelStyle;\r\n\r\n        var labelWidth = null, labelHeight = null, labelText = null, labelPadding = null;\r\n        this.cssClass = this.labelStyle != null ? this.labelStyle.cssClass : null;\r\n        var p = _jp.extend({\r\n            create: function () {\r\n                return _jp.createElement(\"div\");\r\n            }}, params);\r\n        _jp.Overlays.Custom.call(this, p);\r\n        this.type = \"Label\";\r\n        this.label = params.label || \"\";\r\n        this.labelText = null;\r\n        if (this.labelStyle) {\r\n            var el = this.getElement();\r\n            this.labelStyle.font = this.labelStyle.font || \"12px sans-serif\";\r\n            el.style.font = this.labelStyle.font;\r\n            el.style.color = this.labelStyle.color || \"black\";\r\n            if (this.labelStyle.fill) {\r\n                el.style.background = this.labelStyle.fill;\r\n            }\r\n            if (this.labelStyle.borderWidth > 0) {\r\n                var dStyle = this.labelStyle.borderStyle ? this.labelStyle.borderStyle : \"black\";\r\n                el.style.border = this.labelStyle.borderWidth + \"px solid \" + dStyle;\r\n            }\r\n            if (this.labelStyle.padding) {\r\n                el.style.padding = this.labelStyle.padding;\r\n            }\r\n        }\r\n\r\n    };\r\n    _ju.extend(_jp.Overlays.Label, _jp.Overlays.Custom, {\r\n        cleanup: function (force) {\r\n            if (force) {\r\n                this.div = null;\r\n                this.label = null;\r\n                this.labelText = null;\r\n                this.cssClass = null;\r\n                this.labelStyle = null;\r\n            }\r\n        },\r\n        getLabel: function () {\r\n            return this.label;\r\n        },\r\n        /*\r\n         * Function: setLabel\r\n         * sets the label's, um, label.  you would think i'd call this function\r\n         * 'setText', but you can pass either a Function or a String to this, so\r\n         * it makes more sense as 'setLabel'. This uses innerHTML on the label div, so keep\r\n         * that in mind if you need escaped HTML.\r\n         */\r\n        setLabel: function (l) {\r\n            this.label = l;\r\n            this.labelText = null;\r\n            this.clearCachedDimensions();\r\n            this.update();\r\n            this.component.repaint();\r\n        },\r\n        getDimensions: function () {\r\n            this.update();\r\n            return AbstractDOMOverlay.prototype.getDimensions.apply(this, arguments);\r\n        },\r\n        update: function () {\r\n            if (typeof this.label === \"function\") {\r\n                var lt = this.label(this);\r\n                this.getElement().innerHTML = lt.replace(/\\r\\n/g, \"<br/>\");\r\n            }\r\n            else {\r\n                if (this.labelText == null) {\r\n                    this.labelText = this.label;\r\n                    this.getElement().innerHTML = this.labelText.replace(/\\r\\n/g, \"<br/>\");\r\n                }\r\n            }\r\n        },\r\n        updateFrom:function(d) {\r\n            if(d.label != null){\r\n                this.setLabel(d.label);\r\n            }\r\n        }\r\n    });\r\n\r\n    // ********************************* END OF OVERLAY DEFINITIONS ***********************************************************************\r\n\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n\r\n/*\r\n * Copyright (c) 2010 - 2018 jsPlumb (hello@jsplumbtoolkit.com)\r\n *\r\n * https://jsplumbtoolkit.com\r\n * https://github.com/jsplumb/jsplumb\r\n *\r\n * Dual licensed under the MIT and GPL2 licenses.\r\n */\r\n;(function() {\r\n    \"use strict\";\r\n\r\n    var root = this,\r\n        _ju = root.jsPlumbUtil,\r\n        _jpi = root.jsPlumbInstance;\r\n\r\n    var GROUP_COLLAPSED_CLASS = \"jtk-group-collapsed\";\r\n    var GROUP_EXPANDED_CLASS = \"jtk-group-expanded\";\r\n    var GROUP_CONTAINER_SELECTOR = \"[jtk-group-content]\";\r\n    var ELEMENT_DRAGGABLE_EVENT = \"elementDraggable\";\r\n    var STOP = \"stop\";\r\n    var REVERT = \"revert\";\r\n    var GROUP_MANAGER = \"_groupManager\";\r\n    var GROUP = \"_jsPlumbGroup\";\r\n    var GROUP_DRAG_SCOPE = \"_jsPlumbGroupDrag\";\r\n    var EVT_CHILD_ADDED = \"group:addMember\";\r\n    var EVT_CHILD_REMOVED = \"group:removeMember\";\r\n    var EVT_GROUP_ADDED = \"group:add\";\r\n    var EVT_GROUP_REMOVED = \"group:remove\";\r\n    var EVT_EXPAND = \"group:expand\";\r\n    var EVT_COLLAPSE = \"group:collapse\";\r\n    var EVT_GROUP_DRAG_STOP = \"groupDragStop\";\r\n    var EVT_CONNECTION_MOVED = \"connectionMoved\";\r\n    var EVT_INTERNAL_CONNECTION_DETACHED = \"internal.connectionDetached\";\r\n\r\n    var CMD_REMOVE_ALL = \"removeAll\";\r\n    var CMD_ORPHAN_ALL = \"orphanAll\";\r\n    var CMD_SHOW = \"show\";\r\n    var CMD_HIDE = \"hide\";\r\n\r\n    var GroupManager = function(_jsPlumb) {\r\n        var _managedGroups = {}, _connectionSourceMap = {}, _connectionTargetMap = {}, self = this;\r\n\r\n        _jsPlumb.bind(\"connection\", function(p) {\r\n            if (p.source[GROUP] != null && p.target[GROUP] != null && p.source[GROUP] === p.target[GROUP]) {\r\n                _connectionSourceMap[p.connection.id] = p.source[GROUP];\r\n                _connectionTargetMap[p.connection.id] = p.source[GROUP];\r\n            }\r\n            else {\r\n                if (p.source[GROUP] != null) {\r\n                    _ju.suggest(p.source[GROUP].connections.source, p.connection);\r\n                    _connectionSourceMap[p.connection.id] = p.source[GROUP];\r\n                }\r\n                if (p.target[GROUP] != null) {\r\n                    _ju.suggest(p.target[GROUP].connections.target, p.connection);\r\n                    _connectionTargetMap[p.connection.id] = p.target[GROUP];\r\n                }\r\n            }\r\n        });\r\n\r\n        function _cleanupDetachedConnection(conn) {\r\n            delete conn.proxies;\r\n            var group = _connectionSourceMap[conn.id], f;\r\n            if (group != null) {\r\n                f = function(c) { return c.id === conn.id; };\r\n                _ju.removeWithFunction(group.connections.source, f);\r\n                _ju.removeWithFunction(group.connections.target, f);\r\n                delete _connectionSourceMap[conn.id];\r\n            }\r\n\r\n            group = _connectionTargetMap[conn.id];\r\n            if (group != null) {\r\n                f = function(c) { return c.id === conn.id; };\r\n                _ju.removeWithFunction(group.connections.source, f);\r\n                _ju.removeWithFunction(group.connections.target, f);\r\n                delete _connectionTargetMap[conn.id];\r\n            }\r\n        }\r\n\r\n        _jsPlumb.bind(EVT_INTERNAL_CONNECTION_DETACHED, function(p) {\r\n            _cleanupDetachedConnection(p.connection);\r\n        });\r\n\r\n        _jsPlumb.bind(EVT_CONNECTION_MOVED, function(p) {\r\n            var connMap = p.index === 0 ? _connectionSourceMap : _connectionTargetMap;\r\n            var group = connMap[p.connection.id];\r\n            if (group) {\r\n                var list = group.connections[p.index === 0 ? \"source\" : \"target\"];\r\n                var idx = list.indexOf(p.connection);\r\n                if (idx !== -1) {\r\n                    list.splice(idx, 1);\r\n                }\r\n            }\r\n        });\r\n\r\n        this.addGroup = function(group) {\r\n            _jsPlumb.addClass(group.getEl(), GROUP_EXPANDED_CLASS);\r\n            _managedGroups[group.id] = group;\r\n            group.manager = this;\r\n            _updateConnectionsForGroup(group);\r\n            _jsPlumb.fire(EVT_GROUP_ADDED, { group:group });\r\n        };\r\n\r\n        this.addToGroup = function(group, el, doNotFireEvent) {\r\n            group = this.getGroup(group);\r\n            if (group) {\r\n                var groupEl = group.getEl();\r\n\r\n                if (el._isJsPlumbGroup) {\r\n                    return;\r\n                }\r\n                var currentGroup = el._jsPlumbGroup;\r\n                // if already a member of this group, do nothing\r\n                if (currentGroup !== group) {\r\n                    var elpos = _jsPlumb.getOffset(el, true);\r\n                    var cpos = group.collapsed ? _jsPlumb.getOffset(groupEl, true) : _jsPlumb.getOffset(group.getDragArea(), true);\r\n\r\n                    // otherwise, transfer to this group.\r\n                    if (currentGroup != null) {\r\n                        currentGroup.remove(el, false, doNotFireEvent, false, group);\r\n                        self.updateConnectionsForGroup(currentGroup);\r\n                    }\r\n                    group.add(el, doNotFireEvent/*, currentGroup*/);\r\n\r\n                    var handleDroppedConnections = function (list, index) {\r\n                        var oidx = index === 0 ? 1 : 0;\r\n                        list.each(function (c) {\r\n                            c.setVisible(false);\r\n                            if (c.endpoints[oidx].element._jsPlumbGroup === group) {\r\n                                c.endpoints[oidx].setVisible(false);\r\n                                _expandConnection(c, oidx, group);\r\n                            }\r\n                            else {\r\n                                c.endpoints[index].setVisible(false);\r\n                                _collapseConnection(c, index, group);\r\n                            }\r\n                        });\r\n                    };\r\n\r\n                    if (group.collapsed) {\r\n                        handleDroppedConnections(_jsPlumb.select({source: el}), 0);\r\n                        handleDroppedConnections(_jsPlumb.select({target: el}), 1);\r\n                    }\r\n\r\n                    var elId = _jsPlumb.getId(el);\r\n                    _jsPlumb.dragManager.setParent(el, elId, groupEl, _jsPlumb.getId(groupEl), elpos);\r\n\r\n                    var newPosition = { left: elpos.left - cpos.left, top: elpos.top - cpos.top };\r\n\r\n                    _jsPlumb.setPosition(el, newPosition);\r\n\r\n                    _jsPlumb.dragManager.revalidateParent(el, elId, elpos);\r\n\r\n                    self.updateConnectionsForGroup(group);\r\n\r\n                    _jsPlumb.revalidate(elId);\r\n\r\n                    if (!doNotFireEvent) {\r\n                        var p = {group: group, el: el, pos:newPosition};\r\n                        if (currentGroup) {\r\n                            p.sourceGroup = currentGroup;\r\n                        }\r\n                        _jsPlumb.fire(EVT_CHILD_ADDED, p);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        this.removeFromGroup = function(group, el, doNotFireEvent) {\r\n            group = this.getGroup(group);\r\n            if (group) {\r\n                group.remove(el, null, doNotFireEvent);\r\n            }\r\n        };\r\n\r\n        this.getGroup = function(groupId) {\r\n            var group = groupId;\r\n            if (_ju.isString(groupId)) {\r\n                group = _managedGroups[groupId];\r\n                if (group == null) {\r\n                    throw new TypeError(\"No such group [\" + groupId + \"]\");\r\n                }\r\n            }\r\n            return group;\r\n        };\r\n\r\n        this.getGroups = function() {\r\n            var o = [];\r\n            for (var g in _managedGroups) {\r\n                o.push(_managedGroups[g]);\r\n            }\r\n            return o;\r\n        };\r\n\r\n        this.removeGroup = function(group, deleteMembers, manipulateDOM, doNotFireEvent) {\r\n            group = this.getGroup(group);\r\n            this.expandGroup(group, true); // this reinstates any original connections and removes all proxies, but does not fire an event.\r\n            var newPositions = group[deleteMembers ? CMD_REMOVE_ALL : CMD_ORPHAN_ALL](manipulateDOM, doNotFireEvent);\r\n            _jsPlumb.remove(group.getEl());\r\n            delete _managedGroups[group.id];\r\n            delete _jsPlumb._groups[group.id];\r\n            _jsPlumb.fire(EVT_GROUP_REMOVED, { group:group });\r\n            return newPositions; // this will be null in the case or remove, but be a map of {id->[x,y]} in the case of orphan\r\n        };\r\n\r\n        this.removeAllGroups = function(deleteMembers, manipulateDOM, doNotFireEvent) {\r\n            for (var g in _managedGroups) {\r\n                this.removeGroup(_managedGroups[g], deleteMembers, manipulateDOM, doNotFireEvent);\r\n            }\r\n        };\r\n\r\n        function _setVisible(group, state) {\r\n            var m = group.getMembers();\r\n            for (var i = 0; i < m.length; i++) {\r\n                _jsPlumb[state ? CMD_SHOW : CMD_HIDE](m[i], true);\r\n            }\r\n        }\r\n\r\n        var _collapseConnection = function(c, index, group) {\r\n\r\n            var otherEl = c.endpoints[index === 0 ? 1 : 0].element;\r\n            if (otherEl[GROUP] && (!otherEl[GROUP].shouldProxy() && otherEl[GROUP].collapsed)) {\r\n                return;\r\n            }\r\n\r\n            var groupEl = group.getEl(), groupElId = _jsPlumb.getId(groupEl);\r\n\r\n            _jsPlumb.proxyConnection(c, index, groupEl, groupElId, function(c, index) { return group.getEndpoint(c, index); }, function(c, index) { return group.getAnchor(c, index); });\r\n        };\r\n\r\n        this.collapseGroup = function(group) {\r\n            group = this.getGroup(group);\r\n            if (group == null || group.collapsed) {\r\n                return;\r\n            }\r\n            var groupEl = group.getEl();\r\n\r\n            // todo remove old proxy endpoints first, just in case?\r\n            //group.proxies.length = 0;\r\n\r\n            // hide all connections\r\n            _setVisible(group, false);\r\n\r\n            if (group.shouldProxy()) {\r\n                // collapses all connections in a group.\r\n                var _collapseSet = function (conns, index) {\r\n                    for (var i = 0; i < conns.length; i++) {\r\n                        var c = conns[i];\r\n                        _collapseConnection(c, index, group);\r\n                    }\r\n                };\r\n\r\n                // setup proxies for sources and targets\r\n                _collapseSet(group.connections.source, 0);\r\n                _collapseSet(group.connections.target, 1);\r\n            }\r\n\r\n            group.collapsed = true;\r\n            _jsPlumb.removeClass(groupEl, GROUP_EXPANDED_CLASS);\r\n            _jsPlumb.addClass(groupEl, GROUP_COLLAPSED_CLASS);\r\n            _jsPlumb.revalidate(groupEl);\r\n            _jsPlumb.fire(EVT_COLLAPSE, { group:group  });\r\n        };\r\n\r\n        var _expandConnection = function(c, index, group) {\r\n            _jsPlumb.unproxyConnection(c, index, _jsPlumb.getId(group.getEl()));\r\n        };\r\n\r\n        this.expandGroup = function(group, doNotFireEvent) {\r\n\r\n            group = this.getGroup(group);\r\n\r\n            if (group == null || !group.collapsed) {\r\n                return;\r\n            }\r\n            var groupEl = group.getEl();\r\n\r\n            _setVisible(group, true);\r\n\r\n            if (group.shouldProxy()) {\r\n                // collapses all connections in a group.\r\n                var _expandSet = function (conns, index) {\r\n                    for (var i = 0; i < conns.length; i++) {\r\n                        var c = conns[i];\r\n                        _expandConnection(c, index, group);\r\n                    }\r\n                };\r\n\r\n                // setup proxies for sources and targets\r\n                _expandSet(group.connections.source, 0);\r\n                _expandSet(group.connections.target, 1);\r\n            }\r\n\r\n            group.collapsed = false;\r\n            _jsPlumb.addClass(groupEl, GROUP_EXPANDED_CLASS);\r\n            _jsPlumb.removeClass(groupEl, GROUP_COLLAPSED_CLASS);\r\n            _jsPlumb.revalidate(groupEl);\r\n            this.repaintGroup(group);\r\n            if (!doNotFireEvent) {\r\n                _jsPlumb.fire(EVT_EXPAND, { group: group});\r\n            }\r\n        };\r\n\r\n        this.repaintGroup = function(group) {\r\n            group = this.getGroup(group);\r\n            var m = group.getMembers();\r\n            for (var i = 0; i < m.length; i++) {\r\n                _jsPlumb.revalidate(m[i]);\r\n            }\r\n        };\r\n\r\n        // TODO refactor this with the code that responds to `connection` events.\r\n        function _updateConnectionsForGroup(group) {\r\n            var members = group.getMembers();\r\n            var c1 = _jsPlumb.getConnections({source:members, scope:\"*\"}, true);\r\n            var c2 = _jsPlumb.getConnections({target:members, scope:\"*\"}, true);\r\n            var processed = {};\r\n            group.connections.source.length = 0;\r\n            group.connections.target.length = 0;\r\n            var oneSet = function(c) {\r\n                for (var i = 0; i < c.length; i++) {\r\n                    if (processed[c[i].id]) {\r\n                        continue;\r\n                    }\r\n                    processed[c[i].id] = true;\r\n                    if (c[i].source._jsPlumbGroup === group) {\r\n                        if (c[i].target._jsPlumbGroup !== group) {\r\n                            group.connections.source.push(c[i]);\r\n                        }\r\n                        _connectionSourceMap[c[i].id] = group;\r\n                    }\r\n                    else if (c[i].target._jsPlumbGroup === group) {\r\n                        group.connections.target.push(c[i]);\r\n                        _connectionTargetMap[c[i].id] = group;\r\n                    }\r\n                }\r\n            };\r\n            oneSet(c1); oneSet(c2);\r\n        }\r\n\r\n        this.updateConnectionsForGroup = _updateConnectionsForGroup;\r\n        this.refreshAllGroups = function() {\r\n            for (var g in _managedGroups) {\r\n                _updateConnectionsForGroup(_managedGroups[g]);\r\n                _jsPlumb.dragManager.updateOffsets(_jsPlumb.getId(_managedGroups[g].getEl()));\r\n            }\r\n        };\r\n    };\r\n\r\n    /**\r\n     *\r\n     * @param {jsPlumbInstance} _jsPlumb Associated jsPlumb instance.\r\n     * @param {Object} params\r\n     * @param {Element} params.el The DOM element representing the Group.\r\n     * @param {String} [params.id] Optional ID for the Group. A UUID will be assigned as the Group's ID if you do not provide one.\r\n     * @param {Boolean} [params.constrain=false] If true, child elements will not be able to be dragged outside of the Group container.\r\n     * @param {Boolean} [params.revert=true] By default, child elements revert to the container if dragged outside. You can change this by setting `revert:false`. This behaviour is also overridden if you set `orphan` or `prune`.\r\n     * @param {Boolean} [params.orphan=false] If true, child elements dropped outside of the Group container will be removed from the Group (but not from the DOM).\r\n     * @param {Boolean} [params.prune=false] If true, child elements dropped outside of the Group container will be removed from the Group and also from the DOM.\r\n     * @param {Boolean} [params.dropOverride=false] If true, a child element that has been dropped onto some other Group will not be subject to the controls imposed by `prune`, `revert` or `orphan`.\r\n     * @constructor\r\n     */\r\n    var Group = function(_jsPlumb, params) {\r\n        var self = this;\r\n        var el = params.el;\r\n        this.getEl = function() { return el; };\r\n        this.id = params.id || _ju.uuid();\r\n        el._isJsPlumbGroup = true;\r\n\r\n        var getDragArea = this.getDragArea = function() {\r\n            var da = _jsPlumb.getSelector(el, GROUP_CONTAINER_SELECTOR);\r\n            return da && da.length > 0 ? da[0] : el;\r\n        };\r\n\r\n        var ghost = params.ghost === true;\r\n        var constrain = ghost || (params.constrain === true);\r\n        var revert = params.revert !== false;\r\n        var orphan = params.orphan === true;\r\n        var prune = params.prune === true;\r\n        var dropOverride = params.dropOverride === true;\r\n        var proxied = params.proxied !== false;\r\n        var elements = [];\r\n        this.connections = { source:[], target:[], internal:[] };\r\n\r\n        // this function, and getEndpoint below, are stubs for a future setup in which we can choose endpoint\r\n        // and anchor based upon the connection and the index (source/target) of the endpoint to be proxied.\r\n        this.getAnchor = function(conn, endpointIndex) {\r\n            return params.anchor || \"Continuous\";\r\n        };\r\n\r\n        this.getEndpoint = function(conn, endpointIndex) {\r\n            return params.endpoint || [ \"Dot\", { radius:10 }];\r\n        };\r\n\r\n        this.collapsed = false;\r\n        if (params.draggable !== false) {\r\n            var opts = {\r\n                stop:function(params) {\r\n                    _jsPlumb.fire(EVT_GROUP_DRAG_STOP, jsPlumb.extend(params, {group:self}));\r\n                },\r\n                scope:GROUP_DRAG_SCOPE\r\n            };\r\n            if (params.dragOptions) {\r\n                root.jsPlumb.extend(opts, params.dragOptions);\r\n            }\r\n            _jsPlumb.draggable(params.el, opts);\r\n        }\r\n        if (params.droppable !== false) {\r\n            _jsPlumb.droppable(params.el, {\r\n                drop:function(p) {\r\n                    var el = p.drag.el;\r\n                    if (el._isJsPlumbGroup) {\r\n                        return;\r\n                    }\r\n                    var currentGroup = el._jsPlumbGroup;\r\n                    if (currentGroup !== self) {\r\n                        if (currentGroup != null) {\r\n                            if (currentGroup.overrideDrop(el, self)) {\r\n                                return;\r\n                            }\r\n                        }\r\n                        _jsPlumb.getGroupManager().addToGroup(self, el, false);\r\n                    }\r\n\r\n                }\r\n            });\r\n        }\r\n        var _each = function(_el, fn) {\r\n            var els = _el.nodeType == null ?  _el : [ _el ];\r\n            for (var i = 0; i < els.length; i++) {\r\n                fn(els[i]);\r\n            }\r\n        };\r\n\r\n        this.overrideDrop = function(_el, targetGroup) {\r\n            return dropOverride && (revert || prune || orphan);\r\n        };\r\n\r\n        this.add = function(_el, doNotFireEvent/*, sourceGroup*/) {\r\n            var dragArea = getDragArea();\r\n            _each(_el, function(__el) {\r\n\r\n                if (__el._jsPlumbGroup != null) {\r\n                    if (__el._jsPlumbGroup === self) {\r\n                        return;\r\n                    } else {\r\n                        __el._jsPlumbGroup.remove(__el, true, doNotFireEvent, false);\r\n                    }\r\n                }\r\n\r\n                __el._jsPlumbGroup = self;\r\n                elements.push(__el);\r\n                // test if draggable and add handlers if so.\r\n                if (_jsPlumb.isAlreadyDraggable(__el)) {\r\n                    _bindDragHandlers(__el);\r\n                }\r\n\r\n                if (__el.parentNode !== dragArea) {\r\n                    dragArea.appendChild(__el);\r\n                }\r\n\r\n                // if (!doNotFireEvent) {\r\n                //     var p = {group: self, el: __el};\r\n                //     if (sourceGroup) {\r\n                //         p.sourceGroup = sourceGroup;\r\n                //     }\r\n                //     //_jsPlumb.fire(EVT_CHILD_ADDED, p);\r\n                // }\r\n            });\r\n\r\n            _jsPlumb.getGroupManager().updateConnectionsForGroup(self);\r\n        };\r\n\r\n        this.remove = function(el, manipulateDOM, doNotFireEvent, doNotUpdateConnections, targetGroup) {\r\n\r\n            _each(el, function(__el) {\r\n                if (__el._jsPlumbGroup === self) {\r\n                    delete __el._jsPlumbGroup;\r\n                    _ju.removeWithFunction(elements, function (e) {\r\n                        return e === __el;\r\n                    });\r\n\r\n                    if (manipulateDOM) {\r\n                        try {\r\n                            self.getDragArea().removeChild(__el);\r\n                        } catch (e) {\r\n                            jsPlumbUtil.log(\"Could not remove element from Group \" + e);\r\n                        }\r\n                    }\r\n                    _unbindDragHandlers(__el);\r\n                    if (!doNotFireEvent) {\r\n                        var p = {group: self, el: __el};\r\n                        if (targetGroup) {\r\n                            p.targetGroup = targetGroup;\r\n                        }\r\n                        _jsPlumb.fire(EVT_CHILD_REMOVED, p);\r\n                    }\r\n                }\r\n            });\r\n            if (!doNotUpdateConnections) {\r\n                _jsPlumb.getGroupManager().updateConnectionsForGroup(self);\r\n            }\r\n        };\r\n        this.removeAll = function(manipulateDOM, doNotFireEvent) {\r\n            for (var i = 0, l = elements.length; i < l; i++) {\r\n                var el = elements[0];\r\n                self.remove(el, manipulateDOM, doNotFireEvent, true);\r\n                _jsPlumb.remove(el, true);\r\n            }\r\n            elements.length = 0;\r\n            _jsPlumb.getGroupManager().updateConnectionsForGroup(self);\r\n        };\r\n        this.orphanAll = function() {\r\n            var orphanedPositions = {};\r\n            for (var i = 0; i < elements.length; i++) {\r\n                var newPosition = _orphan(elements[i]);\r\n                orphanedPositions[newPosition[0]] = newPosition[1];\r\n            }\r\n            elements.length = 0;\r\n\r\n            return orphanedPositions;\r\n        };\r\n        this.getMembers = function() { return elements; };\r\n\r\n        el[GROUP] = this;\r\n\r\n        _jsPlumb.bind(ELEMENT_DRAGGABLE_EVENT, function(dragParams) {\r\n            // if its for the current group,\r\n            if (dragParams.el._jsPlumbGroup === this) {\r\n                _bindDragHandlers(dragParams.el);\r\n            }\r\n        }.bind(this));\r\n\r\n        function _findParent(_el) {\r\n            return _el.offsetParent;\r\n        }\r\n\r\n        function _isInsideParent(_el, pos) {\r\n            var p = _findParent(_el),\r\n                s = _jsPlumb.getSize(p),\r\n                ss = _jsPlumb.getSize(_el),\r\n                leftEdge = pos[0],\r\n                rightEdge = leftEdge + ss[0],\r\n                topEdge = pos[1],\r\n                bottomEdge = topEdge + ss[1];\r\n\r\n            return rightEdge > 0 && leftEdge < s[0] && bottomEdge > 0 && topEdge < s[1];\r\n        }\r\n\r\n        //\r\n        // orphaning an element means taking it out of the group and adding it to the main jsplumb container.\r\n        // we return the new calculated position from this method and the element's id.\r\n        //\r\n        function _orphan(_el) {\r\n            var id = _jsPlumb.getId(_el);\r\n            var pos = _jsPlumb.getOffset(_el);\r\n            _el.parentNode.removeChild(_el);\r\n            _jsPlumb.getContainer().appendChild(_el);\r\n            _jsPlumb.setPosition(_el, pos);\r\n            _unbindDragHandlers(_el);\r\n            _jsPlumb.dragManager.clearParent(_el, id);\r\n            return [id, pos];\r\n        }\r\n\r\n        //\r\n        // remove an element from the group, then either prune it from the jsplumb instance, or just orphan it.\r\n        //\r\n        function _pruneOrOrphan(p) {\r\n\r\n            var out = [];\r\n\r\n            function _one(el, left, top) {\r\n                var orphanedPosition = null;\r\n                if (!_isInsideParent(el, [left, top])) {\r\n                    var group = el._jsPlumbGroup;\r\n                    if (prune) {\r\n                        _jsPlumb.remove(el);\r\n                    } else {\r\n                        orphanedPosition = _orphan(el);\r\n                    }\r\n\r\n                    group.remove(el);\r\n                }\r\n\r\n                return orphanedPosition;\r\n            }\r\n\r\n            for (var i = 0; i < p.selection.length; i++) {\r\n                out.push(_one(p.selection[i][0], p.selection[i][1].left, p.selection[i][1].top));\r\n            }\r\n\r\n            return out.length === 1 ? out[0] : out;\r\n\r\n        }\r\n\r\n        //\r\n        // redraws the element\r\n        //\r\n        function _revalidate(_el) {\r\n            var id = _jsPlumb.getId(_el);\r\n            _jsPlumb.revalidate(_el);\r\n            _jsPlumb.dragManager.revalidateParent(_el, id);\r\n        }\r\n\r\n        //\r\n        // unbind the group specific drag/revert handlers.\r\n        //\r\n        function _unbindDragHandlers(_el) {\r\n            if (!_el._katavorioDrag) {\r\n                return;\r\n            }\r\n            if (prune || orphan) {\r\n                _el._katavorioDrag.off(STOP, _pruneOrOrphan);\r\n            }\r\n            if (!prune && !orphan && revert) {\r\n                _el._katavorioDrag.off(REVERT, _revalidate);\r\n                _el._katavorioDrag.setRevert(null);\r\n            }\r\n        }\r\n\r\n        function _bindDragHandlers(_el) {\r\n            if (!_el._katavorioDrag) {\r\n                return;\r\n            }\r\n            if (prune || orphan) {\r\n                _el._katavorioDrag.on(STOP, _pruneOrOrphan);\r\n            }\r\n\r\n            if (constrain) {\r\n                _el._katavorioDrag.setConstrain(true);\r\n            }\r\n\r\n            if (ghost) {\r\n                _el._katavorioDrag.setUseGhostProxy(true);\r\n            }\r\n\r\n            if (!prune && !orphan && revert) {\r\n                _el._katavorioDrag.on(REVERT, _revalidate);\r\n                _el._katavorioDrag.setRevert(function(__el, pos) {\r\n                    return !_isInsideParent(__el, pos);\r\n                });\r\n            }\r\n        }\r\n\r\n        this.shouldProxy = function() {\r\n            return proxied;\r\n        };\r\n\r\n        _jsPlumb.getGroupManager().addGroup(this);\r\n    };\r\n\r\n    /**\r\n     * Adds a group to the jsPlumb instance.\r\n     * @method addGroup\r\n     * @param {Object} params\r\n     * @return {Group} The newly created Group.\r\n     */\r\n    _jpi.prototype.addGroup = function(params) {\r\n        var j = this;\r\n        j._groups = j._groups || {};\r\n        if (j._groups[params.id] != null) {\r\n            throw new TypeError(\"cannot create Group [\" + params.id + \"]; a Group with that ID exists\");\r\n        }\r\n        if (params.el[GROUP] != null) {\r\n            throw new TypeError(\"cannot create Group [\" + params.id + \"]; the given element is already a Group\");\r\n        }\r\n        var group = new Group(j, params);\r\n        j._groups[group.id] = group;\r\n        if (params.collapsed) {\r\n            this.collapseGroup(group);\r\n        }\r\n        return group;\r\n    };\r\n\r\n    /**\r\n     * Add an element to a group.\r\n     * @method addToGroup\r\n     * @param {String} group Group, or ID of the group, to add the element to.\r\n     * @param {Element} el Element to add to the group.\r\n     */\r\n    _jpi.prototype.addToGroup = function(group, el, doNotFireEvent) {\r\n\r\n        var _one = function(_el) {\r\n            var id = this.getId(_el);\r\n            this.manage(id, _el);\r\n            this.getGroupManager().addToGroup(group, _el, doNotFireEvent);\r\n        }.bind(this);\r\n\r\n        if (Array.isArray(el)) {\r\n            for (var i = 0; i < el.length; i++) {\r\n                _one(el[i]);\r\n            }\r\n        } else {\r\n            _one(el);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Remove an element from a group.\r\n     * @method removeFromGroup\r\n     * @param {String} group Group, or ID of the group, to remove the element from.\r\n     * @param {Element} el Element to add to the group.\r\n     */\r\n    _jpi.prototype.removeFromGroup = function(group, el, doNotFireEvent) {\r\n        this.getGroupManager().removeFromGroup(group, el, doNotFireEvent);\r\n    };\r\n\r\n    /**\r\n     * Remove a group, and optionally remove its members from the jsPlumb instance.\r\n     * @method removeGroup\r\n     * @param {String|Group} group Group to delete, or ID of Group to delete.\r\n     * @param {Boolean} [deleteMembers=false] If true, group members will be removed along with the group. Otherwise they will\r\n     * just be 'orphaned' (returned to the main container).\r\n     * @returns {Map[String, Position}} When deleteMembers is false, this method returns a map of {id->position}\r\n     */\r\n    _jpi.prototype.removeGroup = function(group, deleteMembers, manipulateDOM, doNotFireEvent) {\r\n        return this.getGroupManager().removeGroup(group, deleteMembers, manipulateDOM, doNotFireEvent);\r\n    };\r\n\r\n    /**\r\n     * Remove all groups, and optionally remove their members from the jsPlumb instance.\r\n     * @method removeAllGroup\r\n     * @param {Boolean} [deleteMembers=false] If true, group members will be removed along with the groups. Otherwise they will\r\n     * just be 'orphaned' (returned to the main container).\r\n     */\r\n    _jpi.prototype.removeAllGroups = function(deleteMembers, manipulateDOM, doNotFireEvent) {\r\n        this.getGroupManager().removeAllGroups(deleteMembers, manipulateDOM, doNotFireEvent);\r\n    };\r\n\r\n    /**\r\n     * Get a Group\r\n     * @method getGroup\r\n     * @param {String} groupId ID of the group to get\r\n     * @return {Group} Group with the given ID, null if not found.\r\n     */\r\n    _jpi.prototype.getGroup = function(groupId) {\r\n        return this.getGroupManager().getGroup(groupId);\r\n    };\r\n\r\n    /**\r\n     * Gets all the Groups managed by the jsPlumb instance.\r\n     * @returns {Group[]} List of Groups. Empty if none.\r\n     */\r\n    _jpi.prototype.getGroups = function() {\r\n        return this.getGroupManager().getGroups();\r\n    };\r\n\r\n    /**\r\n     * Expands a group element. jsPlumb doesn't do \"everything\" for you here, because what it means to expand a Group\r\n     * will vary from application to application. jsPlumb does these things:\r\n     *\r\n     * - Hides any connections that are internal to the group (connections between members, and connections from member of\r\n     * the group to the group itself)\r\n     * - Proxies all connections for which the source or target is a member of the group.\r\n     * - Hides the proxied connections.\r\n     * - Adds the jtk-group-expanded class to the group's element\r\n     * - Removes the jtk-group-collapsed class from the group's element.\r\n     *\r\n     * @method expandGroup\r\n     * @param {String|Group} group Group to expand, or ID of Group to expand.\r\n     */\r\n    _jpi.prototype.expandGroup = function(group) {\r\n        this.getGroupManager().expandGroup(group);\r\n    };\r\n\r\n    /**\r\n     * Collapses a group element. jsPlumb doesn't do \"everything\" for you here, because what it means to collapse a Group\r\n     * will vary from application to application. jsPlumb does these things:\r\n     *\r\n     * - Shows any connections that are internal to the group (connections between members, and connections from member of\r\n     * the group to the group itself)\r\n     * - Removes proxies for all connections for which the source or target is a member of the group.\r\n     * - Shows the previously proxied connections.\r\n     * - Adds the jtk-group-collapsed class to the group's element\r\n     * - Removes the jtk-group-expanded class from the group's element.\r\n     *\r\n     * @method expandGroup\r\n     * @param {String|Group} group Group to expand, or ID of Group to expand.\r\n     */\r\n    _jpi.prototype.collapseGroup = function(groupId) {\r\n        this.getGroupManager().collapseGroup(groupId);\r\n    };\r\n\r\n\r\n    _jpi.prototype.repaintGroup = function(group) {\r\n        this.getGroupManager().repaintGroup(group);\r\n    };\r\n\r\n    /**\r\n     * Collapses or expands a group element depending on its current state. See notes in the collapseGroup and expandGroup method.\r\n     *\r\n     * @method toggleGroup\r\n     * @param {String|Group} group Group to expand/collapse, or ID of Group to expand/collapse.\r\n     */\r\n    _jpi.prototype.toggleGroup = function(group) {\r\n        group = this.getGroupManager().getGroup(group);\r\n        if (group != null) {\r\n            this.getGroupManager()[group.collapsed ? \"expandGroup\" : \"collapseGroup\"](group);\r\n        }\r\n    };\r\n\r\n    //\r\n    // lazy init a group manager for the given jsplumb instance.\r\n    //\r\n    _jpi.prototype.getGroupManager = function() {\r\n        var mgr = this[GROUP_MANAGER];\r\n        if (mgr == null) {\r\n            mgr = this[GROUP_MANAGER] = new GroupManager(this);\r\n        }\r\n        return mgr;\r\n    };\r\n\r\n    _jpi.prototype.removeGroupManager = function() {\r\n        delete this[GROUP_MANAGER];\r\n    };\r\n\r\n    /**\r\n     * Gets the Group that the given element belongs to, null if none.\r\n     * @method getGroupFor\r\n     * @param {String|Element} el Element, or element ID.\r\n     * @returns {Group} A Group, if found, or null.\r\n     */\r\n    _jpi.prototype.getGroupFor = function(el) {\r\n        el = this.getElement(el);\r\n        if (el) {\r\n            return el[GROUP];\r\n        }\r\n    };\r\n\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n\r\n\r\n/*\r\n * This file contains the 'flowchart' connectors, consisting of vertical and horizontal line segments.\r\n *\r\n * Copyright (c) 2010 - 2018 jsPlumb (hello@jsplumbtoolkit.com)\r\n *\r\n * https://jsplumbtoolkit.com\r\n * https://github.com/jsplumb/jsplumb\r\n *\r\n * Dual licensed under the MIT and GPL2 licenses.\r\n */\r\n;\r\n(function () {\r\n\r\n    \"use strict\";\r\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil;\r\n    var STRAIGHT = \"Straight\";\r\n    var ARC = \"Arc\";\r\n\r\n    var Flowchart = function (params) {\r\n        this.type = \"Flowchart\";\r\n        params = params || {};\r\n        params.stub = params.stub == null ? 30 : params.stub;\r\n        var segments,\r\n            _super = _jp.Connectors.AbstractConnector.apply(this, arguments),\r\n            midpoint = params.midpoint == null ? 0.5 : params.midpoint,\r\n            alwaysRespectStubs = params.alwaysRespectStubs === true,\r\n            lastx = null, lasty = null, lastOrientation,\r\n            cornerRadius = params.cornerRadius != null ? params.cornerRadius : 0,\r\n\r\n            // TODO now common between this and AbstractBezierEditor; refactor into superclass?\r\n            loopbackRadius = params.loopbackRadius || 25,\r\n            isLoopbackCurrently = false,\r\n\r\n            sgn = function (n) {\r\n                return n < 0 ? -1 : n === 0 ? 0 : 1;\r\n            },\r\n            segmentDirections = function(segment) {\r\n                return [\r\n                    sgn( segment[2] - segment[0] ),\r\n                    sgn( segment[3] - segment[1] )\r\n                ];\r\n            },\r\n            /**\r\n             * helper method to add a segment.\r\n             */\r\n            addSegment = function (segments, x, y, paintInfo) {\r\n                if (lastx === x && lasty === y) {\r\n                    return;\r\n                }\r\n                var lx = lastx == null ? paintInfo.sx : lastx,\r\n                    ly = lasty == null ? paintInfo.sy : lasty,\r\n                    o = lx === x ? \"v\" : \"h\";\r\n\r\n                lastx = x;\r\n                lasty = y;\r\n                segments.push([ lx, ly, x, y, o ]);\r\n            },\r\n            segLength = function (s) {\r\n                return Math.sqrt(Math.pow(s[0] - s[2], 2) + Math.pow(s[1] - s[3], 2));\r\n            },\r\n            _cloneArray = function (a) {\r\n                var _a = [];\r\n                _a.push.apply(_a, a);\r\n                return _a;\r\n            },\r\n            writeSegments = function (conn, segments, paintInfo) {\r\n                var current = null, next, currentDirection, nextDirection;\r\n                for (var i = 0; i < segments.length - 1; i++) {\r\n\r\n                    current = current || _cloneArray(segments[i]);\r\n                    next = _cloneArray(segments[i + 1]);\r\n\r\n                    currentDirection = segmentDirections(current);\r\n                    nextDirection = segmentDirections(next);\r\n\r\n                    if (cornerRadius > 0 && current[4] !== next[4]) {\r\n\r\n                        var minSegLength = Math.min(segLength(current), segLength(next));\r\n                        var radiusToUse = Math.min(cornerRadius, minSegLength / 2);\r\n\r\n                        current[2] -= currentDirection[0] * radiusToUse;\r\n                        current[3] -= currentDirection[1] * radiusToUse;\r\n                        next[0] += nextDirection[0] * radiusToUse;\r\n                        next[1] += nextDirection[1] * radiusToUse;\r\n\r\n                        var ac = (currentDirection[1] === nextDirection[0] && nextDirection[0] === 1) ||\r\n                            ((currentDirection[1] === nextDirection[0] && nextDirection[0] === 0) && currentDirection[0] !== nextDirection[1]) ||\r\n                            (currentDirection[1] === nextDirection[0] && nextDirection[0] === -1),\r\n                            sgny = next[1] > current[3] ? 1 : -1,\r\n                            sgnx = next[0] > current[2] ? 1 : -1,\r\n                            sgnEqual = sgny === sgnx,\r\n                            cx = (sgnEqual && ac || (!sgnEqual && !ac)) ? next[0] : current[2],\r\n                            cy = (sgnEqual && ac || (!sgnEqual && !ac)) ? current[3] : next[1];\r\n\r\n                        _super.addSegment(conn, STRAIGHT, {\r\n                            x1: current[0], y1: current[1], x2: current[2], y2: current[3]\r\n                        });\r\n\r\n                        _super.addSegment(conn, ARC, {\r\n                            r: radiusToUse,\r\n                            x1: current[2],\r\n                            y1: current[3],\r\n                            x2: next[0],\r\n                            y2: next[1],\r\n                            cx: cx,\r\n                            cy: cy,\r\n                            ac: ac\r\n                        });\r\n                    }\r\n                    else {\r\n                        // dx + dy are used to adjust for line width.\r\n                        var dx = (current[2] === current[0]) ? 0 : (current[2] > current[0]) ? (paintInfo.lw / 2) : -(paintInfo.lw / 2),\r\n                            dy = (current[3] === current[1]) ? 0 : (current[3] > current[1]) ? (paintInfo.lw / 2) : -(paintInfo.lw / 2);\r\n\r\n                        _super.addSegment(conn, STRAIGHT, {\r\n                            x1: current[0] - dx, y1: current[1] - dy, x2: current[2] + dx, y2: current[3] + dy\r\n                        });\r\n                    }\r\n                    current = next;\r\n                }\r\n                if (next != null) {\r\n                    // last segment\r\n                    _super.addSegment(conn, STRAIGHT, {\r\n                        x1: next[0], y1: next[1], x2: next[2], y2: next[3]\r\n                    });\r\n                }\r\n            };\r\n\r\n        this._compute = function (paintInfo, params) {\r\n\r\n            segments = [];\r\n            lastx = null;\r\n            lasty = null;\r\n            lastOrientation = null;\r\n\r\n            var commonStubCalculator = function () {\r\n                    return [paintInfo.startStubX, paintInfo.startStubY, paintInfo.endStubX, paintInfo.endStubY];\r\n                },\r\n                stubCalculators = {\r\n                    perpendicular: commonStubCalculator,\r\n                    orthogonal: commonStubCalculator,\r\n                    opposite: function (axis) {\r\n                        var pi = paintInfo,\r\n                            idx = axis === \"x\" ? 0 : 1,\r\n                            areInProximity = {\r\n                                \"x\": function () {\r\n                                    return ( (pi.so[idx] === 1 && (\r\n                                        ( (pi.startStubX > pi.endStubX) && (pi.tx > pi.startStubX) ) ||\r\n                                        ( (pi.sx > pi.endStubX) && (pi.tx > pi.sx))))) ||\r\n\r\n                                        ( (pi.so[idx] === -1 && (\r\n                                            ( (pi.startStubX < pi.endStubX) && (pi.tx < pi.startStubX) ) ||\r\n                                            ( (pi.sx < pi.endStubX) && (pi.tx < pi.sx)))));\r\n                                },\r\n                                \"y\": function () {\r\n                                    return ( (pi.so[idx] === 1 && (\r\n                                        ( (pi.startStubY > pi.endStubY) && (pi.ty > pi.startStubY) ) ||\r\n                                        ( (pi.sy > pi.endStubY) && (pi.ty > pi.sy))))) ||\r\n\r\n                                        ( (pi.so[idx] === -1 && (\r\n                                            ( (pi.startStubY < pi.endStubY) && (pi.ty < pi.startStubY) ) ||\r\n                                            ( (pi.sy < pi.endStubY) && (pi.ty < pi.sy)))));\r\n                                }\r\n                            };\r\n\r\n                        if (!alwaysRespectStubs && areInProximity[axis]()) {\r\n                            return {\r\n                                \"x\": [(paintInfo.sx + paintInfo.tx) / 2, paintInfo.startStubY, (paintInfo.sx + paintInfo.tx) / 2, paintInfo.endStubY],\r\n                                \"y\": [paintInfo.startStubX, (paintInfo.sy + paintInfo.ty) / 2, paintInfo.endStubX, (paintInfo.sy + paintInfo.ty) / 2]\r\n                            }[axis];\r\n                        }\r\n                        else {\r\n                            return [paintInfo.startStubX, paintInfo.startStubY, paintInfo.endStubX, paintInfo.endStubY];\r\n                        }\r\n                    }\r\n                };\r\n\r\n            // calculate Stubs.\r\n            var stubs = stubCalculators[paintInfo.anchorOrientation](paintInfo.sourceAxis),\r\n                idx = paintInfo.sourceAxis === \"x\" ? 0 : 1,\r\n                oidx = paintInfo.sourceAxis === \"x\" ? 1 : 0,\r\n                ss = stubs[idx],\r\n                oss = stubs[oidx],\r\n                es = stubs[idx + 2],\r\n                oes = stubs[oidx + 2];\r\n\r\n            // add the start stub segment. use stubs for loopback as it will look better, with the loop spaced\r\n            // away from the element.\r\n            addSegment(segments, stubs[0], stubs[1], paintInfo);\r\n\r\n            // if its a loopback and we should treat it differently.\r\n            // if (false && params.sourcePos[0] === params.targetPos[0] && params.sourcePos[1] === params.targetPos[1]) {\r\n            //\r\n            //     // we use loopbackRadius here, as statemachine connectors do.\r\n            //     // so we go radius to the left from stubs[0], then upwards by 2*radius, to the right by 2*radius,\r\n            //     // down by 2*radius, left by radius.\r\n            //     addSegment(segments, stubs[0] - loopbackRadius, stubs[1], paintInfo);\r\n            //     addSegment(segments, stubs[0] - loopbackRadius, stubs[1] - (2 * loopbackRadius), paintInfo);\r\n            //     addSegment(segments, stubs[0] + loopbackRadius, stubs[1] - (2 * loopbackRadius), paintInfo);\r\n            //     addSegment(segments, stubs[0] + loopbackRadius, stubs[1], paintInfo);\r\n            //     addSegment(segments, stubs[0], stubs[1], paintInfo);\r\n            //\r\n            // }\r\n            // else {\r\n\r\n\r\n            var midx = paintInfo.startStubX + ((paintInfo.endStubX - paintInfo.startStubX) * midpoint),\r\n                midy = paintInfo.startStubY + ((paintInfo.endStubY - paintInfo.startStubY) * midpoint);\r\n\r\n            var orientations = {x: [0, 1], y: [1, 0]},\r\n                lineCalculators = {\r\n                    perpendicular: function (axis) {\r\n                        var pi = paintInfo,\r\n                            sis = {\r\n                                x: [\r\n                                    [[1, 2, 3, 4], null, [2, 1, 4, 3]],\r\n                                    null,\r\n                                    [[4, 3, 2, 1], null, [3, 4, 1, 2]]\r\n                                ],\r\n                                y: [\r\n                                    [[3, 2, 1, 4], null, [2, 3, 4, 1]],\r\n                                    null,\r\n                                    [[4, 1, 2, 3], null, [1, 4, 3, 2]]\r\n                                ]\r\n                            },\r\n                            stubs = {\r\n                                x: [[pi.startStubX, pi.endStubX], null, [pi.endStubX, pi.startStubX]],\r\n                                y: [[pi.startStubY, pi.endStubY], null, [pi.endStubY, pi.startStubY]]\r\n                            },\r\n                            midLines = {\r\n                                x: [[midx, pi.startStubY], [midx, pi.endStubY]],\r\n                                y: [[pi.startStubX, midy], [pi.endStubX, midy]]\r\n                            },\r\n                            linesToEnd = {\r\n                                x: [[pi.endStubX, pi.startStubY]],\r\n                                y: [[pi.startStubX, pi.endStubY]]\r\n                            },\r\n                            startToEnd = {\r\n                                x: [[pi.startStubX, pi.endStubY], [pi.endStubX, pi.endStubY]],\r\n                                y: [[pi.endStubX, pi.startStubY], [pi.endStubX, pi.endStubY]]\r\n                            },\r\n                            startToMidToEnd = {\r\n                                x: [[pi.startStubX, midy], [pi.endStubX, midy], [pi.endStubX, pi.endStubY]],\r\n                                y: [[midx, pi.startStubY], [midx, pi.endStubY], [pi.endStubX, pi.endStubY]]\r\n                            },\r\n                            otherStubs = {\r\n                                x: [pi.startStubY, pi.endStubY],\r\n                                y: [pi.startStubX, pi.endStubX]\r\n                            },\r\n                            soIdx = orientations[axis][0], toIdx = orientations[axis][1],\r\n                            _so = pi.so[soIdx] + 1,\r\n                            _to = pi.to[toIdx] + 1,\r\n                            otherFlipped = (pi.to[toIdx] === -1 && (otherStubs[axis][1] < otherStubs[axis][0])) || (pi.to[toIdx] === 1 && (otherStubs[axis][1] > otherStubs[axis][0])),\r\n                            stub1 = stubs[axis][_so][0],\r\n                            stub2 = stubs[axis][_so][1],\r\n                            segmentIndexes = sis[axis][_so][_to];\r\n\r\n                        if (pi.segment === segmentIndexes[3] || (pi.segment === segmentIndexes[2] && otherFlipped)) {\r\n                            return midLines[axis];\r\n                        }\r\n                        else if (pi.segment === segmentIndexes[2] && stub2 < stub1) {\r\n                            return linesToEnd[axis];\r\n                        }\r\n                        else if ((pi.segment === segmentIndexes[2] && stub2 >= stub1) || (pi.segment === segmentIndexes[1] && !otherFlipped)) {\r\n                            return startToMidToEnd[axis];\r\n                        }\r\n                        else if (pi.segment === segmentIndexes[0] || (pi.segment === segmentIndexes[1] && otherFlipped)) {\r\n                            return startToEnd[axis];\r\n                        }\r\n                    },\r\n                    orthogonal: function (axis, startStub, otherStartStub, endStub, otherEndStub) {\r\n                        var pi = paintInfo,\r\n                            extent = {\r\n                                \"x\": pi.so[0] === -1 ? Math.min(startStub, endStub) : Math.max(startStub, endStub),\r\n                                \"y\": pi.so[1] === -1 ? Math.min(startStub, endStub) : Math.max(startStub, endStub)\r\n                            }[axis];\r\n\r\n                        return {\r\n                            \"x\": [\r\n                                [extent, otherStartStub],\r\n                                [extent, otherEndStub],\r\n                                [endStub, otherEndStub]\r\n                            ],\r\n                            \"y\": [\r\n                                [otherStartStub, extent],\r\n                                [otherEndStub, extent],\r\n                                [otherEndStub, endStub]\r\n                            ]\r\n                        }[axis];\r\n                    },\r\n                    opposite: function (axis, ss, oss, es) {\r\n                        var pi = paintInfo,\r\n                            otherAxis = {\"x\": \"y\", \"y\": \"x\"}[axis],\r\n                            dim = {\"x\": \"height\", \"y\": \"width\"}[axis],\r\n                            comparator = pi[\"is\" + axis.toUpperCase() + \"GreaterThanStubTimes2\"];\r\n\r\n                        if (params.sourceEndpoint.elementId === params.targetEndpoint.elementId) {\r\n                            var _val = oss + ((1 - params.sourceEndpoint.anchor[otherAxis]) * params.sourceInfo[dim]) + _super.maxStub;\r\n                            return {\r\n                                \"x\": [\r\n                                    [ss, _val],\r\n                                    [es, _val]\r\n                                ],\r\n                                \"y\": [\r\n                                    [_val, ss],\r\n                                    [_val, es]\r\n                                ]\r\n                            }[axis];\r\n\r\n                        }\r\n                        else if (!comparator || (pi.so[idx] === 1 && ss > es) || (pi.so[idx] === -1 && ss < es)) {\r\n                            return {\r\n                                \"x\": [\r\n                                    [ss, midy],\r\n                                    [es, midy]\r\n                                ],\r\n                                \"y\": [\r\n                                    [midx, ss],\r\n                                    [midx, es]\r\n                                ]\r\n                            }[axis];\r\n                        }\r\n                        else if ((pi.so[idx] === 1 && ss < es) || (pi.so[idx] === -1 && ss > es)) {\r\n                            return {\r\n                                \"x\": [\r\n                                    [midx, pi.sy],\r\n                                    [midx, pi.ty]\r\n                                ],\r\n                                \"y\": [\r\n                                    [pi.sx, midy],\r\n                                    [pi.tx, midy]\r\n                                ]\r\n                            }[axis];\r\n                        }\r\n                    }\r\n                };\r\n\r\n            // compute the rest of the line\r\n            var p = lineCalculators[paintInfo.anchorOrientation](paintInfo.sourceAxis, ss, oss, es, oes);\r\n            if (p) {\r\n                for (var i = 0; i < p.length; i++) {\r\n                    addSegment(segments, p[i][0], p[i][1], paintInfo);\r\n                }\r\n            }\r\n\r\n            // line to end stub\r\n            addSegment(segments, stubs[2], stubs[3], paintInfo);\r\n\r\n            //}\r\n\r\n            // end stub to end (common)\r\n            addSegment(segments, paintInfo.tx, paintInfo.ty, paintInfo);\r\n\r\n\r\n\r\n            // write out the segments.\r\n            writeSegments(this, segments, paintInfo);\r\n\r\n        };\r\n    };\r\n\r\n    _jp.Connectors.Flowchart = Flowchart;\r\n    _ju.extend(_jp.Connectors.Flowchart, _jp.Connectors.AbstractConnector);\r\n\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n/*\r\n * This file contains the code for the Bezier connector type.\r\n *\r\n * Copyright (c) 2010 - 2018 jsPlumb (hello@jsplumbtoolkit.com)\r\n *\r\n * https://jsplumbtoolkit.com\r\n * https://github.com/jsplumb/jsplumb\r\n *\r\n * Dual licensed under the MIT and GPL2 licenses.\r\n */\r\n;\r\n(function () {\r\n\r\n    \"use strict\";\r\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil;\r\n\r\n    _jp.Connectors.AbstractBezierConnector = function(params) {\r\n        params = params || {};\r\n        var showLoopback = params.showLoopback !== false,\r\n            curviness = params.curviness || 10,\r\n            margin = params.margin || 5,\r\n            proximityLimit = params.proximityLimit || 80,\r\n            clockwise = params.orientation && params.orientation === \"clockwise\",\r\n            loopbackRadius = params.loopbackRadius || 25,\r\n            isLoopbackCurrently = false,\r\n            _super;\r\n\r\n        this._compute = function (paintInfo, p) {\r\n\r\n            var sp = p.sourcePos,\r\n                tp = p.targetPos,\r\n                _w = Math.abs(sp[0] - tp[0]),\r\n                _h = Math.abs(sp[1] - tp[1]);\r\n\r\n            if (!showLoopback || (p.sourceEndpoint.elementId !== p.targetEndpoint.elementId)) {\r\n                isLoopbackCurrently = false;\r\n                this._computeBezier(paintInfo, p, sp, tp, _w, _h);\r\n            } else {\r\n                isLoopbackCurrently = true;\r\n                // a loopback connector.  draw an arc from one anchor to the other.\r\n                var x1 = p.sourcePos[0], y1 = p.sourcePos[1] - margin,\r\n                    cx = x1, cy = y1 - loopbackRadius,\r\n                    // canvas sizing stuff, to ensure the whole painted area is visible.\r\n                    _x = cx - loopbackRadius,\r\n                    _y = cy - loopbackRadius;\r\n\r\n                _w = 2 * loopbackRadius;\r\n                _h = 2 * loopbackRadius;\r\n\r\n                paintInfo.points[0] = _x;\r\n                paintInfo.points[1] = _y;\r\n                paintInfo.points[2] = _w;\r\n                paintInfo.points[3] = _h;\r\n\r\n                // ADD AN ARC SEGMENT.\r\n                _super.addSegment(this, \"Arc\", {\r\n                    loopback: true,\r\n                    x1: (x1 - _x) + 4,\r\n                    y1: y1 - _y,\r\n                    startAngle: 0,\r\n                    endAngle: 2 * Math.PI,\r\n                    r: loopbackRadius,\r\n                    ac: !clockwise,\r\n                    x2: (x1 - _x) - 4,\r\n                    y2: y1 - _y,\r\n                    cx: cx - _x,\r\n                    cy: cy - _y\r\n                });\r\n            }\r\n        };\r\n\r\n        _super = _jp.Connectors.AbstractConnector.apply(this, arguments);\r\n        return _super;\r\n    };\r\n    _ju.extend(_jp.Connectors.AbstractBezierConnector, _jp.Connectors.AbstractConnector);\r\n\r\n    var Bezier = function (params) {\r\n        params = params || {};\r\n        this.type = \"Bezier\";\r\n\r\n        var _super = _jp.Connectors.AbstractBezierConnector.apply(this, arguments),\r\n            majorAnchor = params.curviness || 150,\r\n            minorAnchor = 10;\r\n\r\n        this.getCurviness = function () {\r\n            return majorAnchor;\r\n        };\r\n\r\n        this._findControlPoint = function (point, sourceAnchorPosition, targetAnchorPosition, sourceEndpoint, targetEndpoint, soo, too) {\r\n            // determine if the two anchors are perpendicular to each other in their orientation.  we swap the control\r\n            // points around if so (code could be tightened up)\r\n            var perpendicular = soo[0] !== too[0] || soo[1] === too[1],\r\n                p = [];\r\n\r\n            if (!perpendicular) {\r\n                if (soo[0] === 0) {\r\n                    p.push(sourceAnchorPosition[0] < targetAnchorPosition[0] ? point[0] + minorAnchor : point[0] - minorAnchor);\r\n                }\r\n                else {\r\n                    p.push(point[0] - (majorAnchor * soo[0]));\r\n                }\r\n\r\n                if (soo[1] === 0) {\r\n                    p.push(sourceAnchorPosition[1] < targetAnchorPosition[1] ? point[1] + minorAnchor : point[1] - minorAnchor);\r\n                }\r\n                else {\r\n                    p.push(point[1] + (majorAnchor * too[1]));\r\n                }\r\n            }\r\n            else {\r\n                if (too[0] === 0) {\r\n                    p.push(targetAnchorPosition[0] < sourceAnchorPosition[0] ? point[0] + minorAnchor : point[0] - minorAnchor);\r\n                }\r\n                else {\r\n                    p.push(point[0] + (majorAnchor * too[0]));\r\n                }\r\n\r\n                if (too[1] === 0) {\r\n                    p.push(targetAnchorPosition[1] < sourceAnchorPosition[1] ? point[1] + minorAnchor : point[1] - minorAnchor);\r\n                }\r\n                else {\r\n                    p.push(point[1] + (majorAnchor * soo[1]));\r\n                }\r\n            }\r\n\r\n            return p;\r\n        };\r\n\r\n        this._computeBezier = function (paintInfo, p, sp, tp, _w, _h) {\r\n\r\n            var _CP, _CP2,\r\n                _sx = sp[0] < tp[0] ? _w : 0,\r\n                _sy = sp[1] < tp[1] ? _h : 0,\r\n                _tx = sp[0] < tp[0] ? 0 : _w,\r\n                _ty = sp[1] < tp[1] ? 0 : _h;\r\n\r\n            _CP = this._findControlPoint([_sx, _sy], sp, tp, p.sourceEndpoint, p.targetEndpoint, paintInfo.so, paintInfo.to);\r\n            _CP2 = this._findControlPoint([_tx, _ty], tp, sp, p.targetEndpoint, p.sourceEndpoint, paintInfo.to, paintInfo.so);\r\n\r\n\r\n            _super.addSegment(this, \"Bezier\", {\r\n                x1: _sx, y1: _sy, x2: _tx, y2: _ty,\r\n                cp1x: _CP[0], cp1y: _CP[1], cp2x: _CP2[0], cp2y: _CP2[1]\r\n            });\r\n        };\r\n\r\n\r\n    };\r\n\r\n    _jp.Connectors.Bezier = Bezier;\r\n    _ju.extend(Bezier, _jp.Connectors.AbstractBezierConnector);\r\n\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n/*\r\n * This file contains the state machine connectors, which extend AbstractBezierConnector.\r\n *\r\n * Copyright (c) 2010 - 2018 jsPlumb (hello@jsplumbtoolkit.com)\r\n *\r\n * https://jsplumbtoolkit.com\r\n * https://github.com/jsplumb/jsplumb\r\n *\r\n * Dual licensed under the MIT and GPL2 licenses.\r\n */\r\n;\r\n(function () {\r\n\r\n    \"use strict\";\r\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil;\r\n\r\n    var _segment = function (x1, y1, x2, y2) {\r\n            if (x1 <= x2 && y2 <= y1) {\r\n                return 1;\r\n            }\r\n            else if (x1 <= x2 && y1 <= y2) {\r\n                return 2;\r\n            }\r\n            else if (x2 <= x1 && y2 >= y1) {\r\n                return 3;\r\n            }\r\n            return 4;\r\n        },\r\n\r\n        // the control point we will use depends on the faces to which each end of the connection is assigned, specifically whether or not the\r\n        // two faces are parallel or perpendicular.  if they are parallel then the control point lies on the midpoint of the axis in which they\r\n        // are parellel and varies only in the other axis; this variation is proportional to the distance that the anchor points lie from the\r\n        // center of that face.  if the two faces are perpendicular then the control point is at some distance from both the midpoints; the amount and\r\n        // direction are dependent on the orientation of the two elements. 'seg', passed in to this method, tells you which segment the target element\r\n        // lies in with respect to the source: 1 is top right, 2 is bottom right, 3 is bottom left, 4 is top left.\r\n        //\r\n        // sourcePos and targetPos are arrays of info about where on the source and target each anchor is located.  their contents are:\r\n        //\r\n        // 0 - absolute x\r\n        // 1 - absolute y\r\n        // 2 - proportional x in element (0 is left edge, 1 is right edge)\r\n        // 3 - proportional y in element (0 is top edge, 1 is bottom edge)\r\n        //\r\n        _findControlPoint = function (midx, midy, segment, sourceEdge, targetEdge, dx, dy, distance, proximityLimit) {\r\n            // TODO (maybe)\r\n            // - if anchor pos is 0.5, make the control point take into account the relative position of the elements.\r\n            if (distance <= proximityLimit) {\r\n                return [midx, midy];\r\n            }\r\n\r\n            if (segment === 1) {\r\n                if (sourceEdge[3] <= 0 && targetEdge[3] >= 1) {\r\n                    return [ midx + (sourceEdge[2] < 0.5 ? -1 * dx : dx), midy ];\r\n                }\r\n                else if (sourceEdge[2] >= 1 && targetEdge[2] <= 0) {\r\n                    return [ midx, midy + (sourceEdge[3] < 0.5 ? -1 * dy : dy) ];\r\n                }\r\n                else {\r\n                    return [ midx + (-1 * dx) , midy + (-1 * dy) ];\r\n                }\r\n            }\r\n            else if (segment === 2) {\r\n                if (sourceEdge[3] >= 1 && targetEdge[3] <= 0) {\r\n                    return [ midx + (sourceEdge[2] < 0.5 ? -1 * dx : dx), midy ];\r\n                }\r\n                else if (sourceEdge[2] >= 1 && targetEdge[2] <= 0) {\r\n                    return [ midx, midy + (sourceEdge[3] < 0.5 ? -1 * dy : dy) ];\r\n                }\r\n                else {\r\n                    return [ midx + dx, midy + (-1 * dy) ];\r\n                }\r\n            }\r\n            else if (segment === 3) {\r\n                if (sourceEdge[3] >= 1 && targetEdge[3] <= 0) {\r\n                    return [ midx + (sourceEdge[2] < 0.5 ? -1 * dx : dx), midy ];\r\n                }\r\n                else if (sourceEdge[2] <= 0 && targetEdge[2] >= 1) {\r\n                    return [ midx, midy + (sourceEdge[3] < 0.5 ? -1 * dy : dy) ];\r\n                }\r\n                else {\r\n                    return [ midx + (-1 * dx) , midy + (-1 * dy) ];\r\n                }\r\n            }\r\n            else if (segment === 4) {\r\n                if (sourceEdge[3] <= 0 && targetEdge[3] >= 1) {\r\n                    return [ midx + (sourceEdge[2] < 0.5 ? -1 * dx : dx), midy ];\r\n                }\r\n                else if (sourceEdge[2] <= 0 && targetEdge[2] >= 1) {\r\n                    return [ midx, midy + (sourceEdge[3] < 0.5 ? -1 * dy : dy) ];\r\n                }\r\n                else {\r\n                    return [ midx + dx , midy + (-1 * dy) ];\r\n                }\r\n            }\r\n\r\n        };\r\n\r\n    var StateMachine = function (params) {\r\n        params = params || {};\r\n        this.type = \"StateMachine\";\r\n\r\n        var _super = _jp.Connectors.AbstractBezierConnector.apply(this, arguments),\r\n            curviness = params.curviness || 10,\r\n            margin = params.margin || 5,\r\n            proximityLimit = params.proximityLimit || 80,\r\n            clockwise = params.orientation && params.orientation === \"clockwise\",\r\n            _controlPoint;\r\n\r\n        this._computeBezier = function(paintInfo, params, sp, tp, w, h) {\r\n            var _sx = params.sourcePos[0] < params.targetPos[0] ? 0 : w,\r\n                _sy = params.sourcePos[1] < params.targetPos[1] ? 0 : h,\r\n                _tx = params.sourcePos[0] < params.targetPos[0] ? w : 0,\r\n                _ty = params.sourcePos[1] < params.targetPos[1] ? h : 0;\r\n\r\n            // now adjust for the margin\r\n            if (params.sourcePos[2] === 0) {\r\n                _sx -= margin;\r\n            }\r\n            if (params.sourcePos[2] === 1) {\r\n                _sx += margin;\r\n            }\r\n            if (params.sourcePos[3] === 0) {\r\n                _sy -= margin;\r\n            }\r\n            if (params.sourcePos[3] === 1) {\r\n                _sy += margin;\r\n            }\r\n            if (params.targetPos[2] === 0) {\r\n                _tx -= margin;\r\n            }\r\n            if (params.targetPos[2] === 1) {\r\n                _tx += margin;\r\n            }\r\n            if (params.targetPos[3] === 0) {\r\n                _ty -= margin;\r\n            }\r\n            if (params.targetPos[3] === 1) {\r\n                _ty += margin;\r\n            }\r\n\r\n            //\r\n            // these connectors are quadratic bezier curves, having a single control point. if both anchors\r\n            // are located at 0.5 on their respective faces, the control point is set to the midpoint and you\r\n            // get a straight line.  this is also the case if the two anchors are within 'proximityLimit', since\r\n            // it seems to make good aesthetic sense to do that. outside of that, the control point is positioned\r\n            // at 'curviness' pixels away along the normal to the straight line connecting the two anchors.\r\n            //\r\n            // there may be two improvements to this.  firstly, we might actually support the notion of avoiding nodes\r\n            // in the UI, or at least making a good effort at doing so.  if a connection would pass underneath some node,\r\n            // for example, we might increase the distance the control point is away from the midpoint in a bid to\r\n            // steer it around that node.  this will work within limits, but i think those limits would also be the likely\r\n            // limits for, once again, aesthetic good sense in the layout of a chart using these connectors.\r\n            //\r\n            // the second possible change is actually two possible changes: firstly, it is possible we should gradually\r\n            // decrease the 'curviness' as the distance between the anchors decreases; start tailing it off to 0 at some\r\n            // point (which should be configurable).  secondly, we might slightly increase the 'curviness' for connectors\r\n            // with respect to how far their anchor is from the center of its respective face. this could either look cool,\r\n            // or stupid, and may indeed work only in a way that is so subtle as to have been a waste of time.\r\n            //\r\n\r\n            var _midx = (_sx + _tx) / 2,\r\n                _midy = (_sy + _ty) / 2,\r\n                segment = _segment(_sx, _sy, _tx, _ty),\r\n                distance = Math.sqrt(Math.pow(_tx - _sx, 2) + Math.pow(_ty - _sy, 2)),\r\n                cp1x, cp2x, cp1y, cp2y;\r\n\r\n\r\n            // calculate the control point.  this code will be where we'll put in a rudimentary element avoidance scheme; it\r\n            // will work by extending the control point to force the curve to be, um, curvier.\r\n            _controlPoint = _findControlPoint(_midx,\r\n                _midy,\r\n                segment,\r\n                params.sourcePos,\r\n                params.targetPos,\r\n                curviness, curviness,\r\n                distance,\r\n                proximityLimit);\r\n\r\n            cp1x = _controlPoint[0];\r\n            cp2x = _controlPoint[0];\r\n            cp1y = _controlPoint[1];\r\n            cp2y = _controlPoint[1];\r\n\r\n            _super.addSegment(this, \"Bezier\", {\r\n                x1: _tx, y1: _ty, x2: _sx, y2: _sy,\r\n                cp1x: cp1x, cp1y: cp1y,\r\n                cp2x: cp2x, cp2y: cp2y\r\n            });\r\n        };\r\n    };\r\n\r\n    _jp.Connectors.StateMachine = StateMachine;\r\n    _ju.extend(StateMachine, _jp.Connectors.AbstractBezierConnector);\r\n\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n/*\r\n * This file contains the 'flowchart' connectors, consisting of vertical and horizontal line segments.\r\n *\r\n * Copyright (c) 2010 - 2018 jsPlumb (hello@jsplumbtoolkit.com)\r\n *\r\n * https://jsplumbtoolkit.com\r\n * https://github.com/jsplumb/jsplumb\r\n *\r\n * Dual licensed under the MIT and GPL2 licenses.\r\n */\r\n;\r\n(function () {\r\n\r\n    \"use strict\";\r\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil;\r\n    var STRAIGHT = \"Straight\";\r\n\r\n    var Straight = function (params) {\r\n        this.type = STRAIGHT;\r\n        var _super = _jp.Connectors.AbstractConnector.apply(this, arguments);\r\n\r\n        this._compute = function (paintInfo, _) {\r\n            _super.addSegment(this, STRAIGHT, {x1: paintInfo.sx, y1: paintInfo.sy, x2: paintInfo.startStubX, y2: paintInfo.startStubY});\r\n            _super.addSegment(this, STRAIGHT, {x1: paintInfo.startStubX, y1: paintInfo.startStubY, x2: paintInfo.endStubX, y2: paintInfo.endStubY});\r\n            _super.addSegment(this, STRAIGHT, {x1: paintInfo.endStubX, y1: paintInfo.endStubY, x2: paintInfo.tx, y2: paintInfo.ty});\r\n        };\r\n    };\r\n\r\n    _jp.Connectors.Straight = Straight;\r\n    _ju.extend(Straight, _jp.Connectors.AbstractConnector);\r\n\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n/*\r\n * This file contains the SVG renderers.\r\n *\r\n * Copyright (c) 2010 - 2018 jsPlumb (hello@jsplumbtoolkit.com)\r\n *\r\n * https://jsplumbtoolkit.com\r\n * https://github.com/jsplumb/jsplumb\r\n *\r\n * Dual licensed under the MIT and GPL2 licenses.\r\n */\r\n;\r\n(function () {\r\n\r\n// ************************** SVG utility methods ********************************************\r\n\r\n    \"use strict\";\r\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil;\r\n\r\n    var svgAttributeMap = {\r\n            \"stroke-linejoin\": \"stroke-linejoin\",\r\n            \"stroke-dashoffset\": \"stroke-dashoffset\",\r\n            \"stroke-linecap\": \"stroke-linecap\"\r\n        },\r\n        STROKE_DASHARRAY = \"stroke-dasharray\",\r\n        DASHSTYLE = \"dashstyle\",\r\n        LINEAR_GRADIENT = \"linearGradient\",\r\n        RADIAL_GRADIENT = \"radialGradient\",\r\n        DEFS = \"defs\",\r\n        FILL = \"fill\",\r\n        STOP = \"stop\",\r\n        STROKE = \"stroke\",\r\n        STROKE_WIDTH = \"stroke-width\",\r\n        STYLE = \"style\",\r\n        NONE = \"none\",\r\n        JSPLUMB_GRADIENT = \"jsplumb_gradient_\",\r\n        LINE_WIDTH = \"strokeWidth\",\r\n        ns = {\r\n            svg: \"http://www.w3.org/2000/svg\"\r\n        },\r\n        _attr = function (node, attributes) {\r\n            for (var i in attributes) {\r\n                node.setAttribute(i, \"\" + attributes[i]);\r\n            }\r\n        },\r\n        _node = function (name, attributes) {\r\n            attributes = attributes || {};\r\n            attributes.version = \"1.1\";\r\n            attributes.xmlns = ns.svg;\r\n            return _jp.createElementNS(ns.svg, name, null, null, attributes);\r\n        },\r\n        _pos = function (d) {\r\n            return \"position:absolute;left:\" + d[0] + \"px;top:\" + d[1] + \"px\";\r\n        },\r\n        _clearGradient = function (parent) {\r\n            var els = parent.querySelectorAll(\" defs,linearGradient,radialGradient\");\r\n            for (var i = 0; i < els.length; i++) {\r\n                els[i].parentNode.removeChild(els[i]);\r\n            }\r\n        },\r\n        _updateGradient = function (parent, node, style, dimensions, uiComponent) {\r\n            var id = JSPLUMB_GRADIENT + uiComponent._jsPlumb.instance.idstamp();\r\n            // first clear out any existing gradient\r\n            _clearGradient(parent);\r\n            // this checks for an 'offset' property in the gradient, and in the absence of it, assumes\r\n            // we want a linear gradient. if it's there, we create a radial gradient.\r\n            // it is possible that a more explicit means of defining the gradient type would be\r\n            // better. relying on 'offset' means that we can never have a radial gradient that uses\r\n            // some default offset, for instance.\r\n            // issue 244 suggested the 'gradientUnits' attribute; without this, straight/flowchart connectors with gradients would\r\n            // not show gradients when the line was perfectly horizontal or vertical.\r\n            var g;\r\n            if (!style.gradient.offset) {\r\n                g = _node(LINEAR_GRADIENT, {id: id, gradientUnits: \"userSpaceOnUse\"});\r\n            }\r\n            else {\r\n                g = _node(RADIAL_GRADIENT, { id: id });\r\n            }\r\n\r\n            var defs = _node(DEFS);\r\n            parent.appendChild(defs);\r\n            defs.appendChild(g);\r\n\r\n            // the svg radial gradient seems to treat stops in the reverse\r\n            // order to how canvas does it.  so we want to keep all the maths the same, but\r\n            // iterate the actual style declarations in reverse order, if the x indexes are not in order.\r\n            for (var i = 0; i < style.gradient.stops.length; i++) {\r\n                var styleToUse = uiComponent.segment === 1 || uiComponent.segment === 2 ? i : style.gradient.stops.length - 1 - i,\r\n                    stopColor = style.gradient.stops[styleToUse][1],\r\n                    s = _node(STOP, {\"offset\": Math.floor(style.gradient.stops[i][0] * 100) + \"%\", \"stop-color\": stopColor});\r\n\r\n                g.appendChild(s);\r\n            }\r\n            var applyGradientTo = style.stroke ? STROKE : FILL;\r\n            node.setAttribute(applyGradientTo, \"url(#\" + id + \")\");\r\n        },\r\n        _applyStyles = function (parent, node, style, dimensions, uiComponent) {\r\n\r\n            node.setAttribute(FILL, style.fill ? style.fill : NONE);\r\n            node.setAttribute(STROKE, style.stroke ? style.stroke : NONE);\r\n\r\n            if (style.gradient) {\r\n                _updateGradient(parent, node, style, dimensions, uiComponent);\r\n            }\r\n            else {\r\n                // make sure we clear any existing gradient\r\n                _clearGradient(parent);\r\n                node.setAttribute(STYLE, \"\");\r\n            }\r\n\r\n            if (style.strokeWidth) {\r\n                node.setAttribute(STROKE_WIDTH, style.strokeWidth);\r\n            }\r\n\r\n            // in SVG there is a stroke-dasharray attribute we can set, and its syntax looks like\r\n            // the syntax in VML but is actually kind of nasty: values are given in the pixel\r\n            // coordinate space, whereas in VML they are multiples of the width of the stroked\r\n            // line, which makes a lot more sense.  for that reason, jsPlumb is supporting both\r\n            // the native svg 'stroke-dasharray' attribute, and also the 'dashstyle' concept from\r\n            // VML, which will be the preferred method.  the code below this converts a dashstyle\r\n            // attribute given in terms of stroke width into a pixel representation, by using the\r\n            // stroke's lineWidth.\r\n            if (style[DASHSTYLE] && style[LINE_WIDTH] && !style[STROKE_DASHARRAY]) {\r\n                var sep = style[DASHSTYLE].indexOf(\",\") === -1 ? \" \" : \",\",\r\n                    parts = style[DASHSTYLE].split(sep),\r\n                    styleToUse = \"\";\r\n                parts.forEach(function (p) {\r\n                    styleToUse += (Math.floor(p * style.strokeWidth) + sep);\r\n                });\r\n                node.setAttribute(STROKE_DASHARRAY, styleToUse);\r\n            }\r\n            else if (style[STROKE_DASHARRAY]) {\r\n                node.setAttribute(STROKE_DASHARRAY, style[STROKE_DASHARRAY]);\r\n            }\r\n\r\n            // extra attributes such as join type, dash offset.\r\n            for (var i in svgAttributeMap) {\r\n                if (style[i]) {\r\n                    node.setAttribute(svgAttributeMap[i], style[i]);\r\n                }\r\n            }\r\n        },\r\n        _appendAtIndex = function (svg, path, idx) {\r\n            if (svg.childNodes.length > idx) {\r\n                svg.insertBefore(path, svg.childNodes[idx]);\r\n            }\r\n            else {\r\n                svg.appendChild(path);\r\n            }\r\n        };\r\n\r\n    /**\r\n     utility methods for other objects to use.\r\n     */\r\n    _ju.svg = {\r\n        node: _node,\r\n        attr: _attr,\r\n        pos: _pos\r\n    };\r\n\r\n    // ************************** / SVG utility methods ********************************************\r\n\r\n    /*\r\n     * Base class for SVG components.\r\n     */\r\n    var SvgComponent = function (params) {\r\n        var pointerEventsSpec = params.pointerEventsSpec || \"all\", renderer = {};\r\n\r\n        _jp.jsPlumbUIComponent.apply(this, params.originalArgs);\r\n        this.canvas = null;\r\n        this.path = null;\r\n        this.svg = null;\r\n        this.bgCanvas = null;\r\n\r\n        var clazz = params.cssClass + \" \" + (params.originalArgs[0].cssClass || \"\"),\r\n            svgParams = {\r\n                \"style\": \"\",\r\n                \"width\": 0,\r\n                \"height\": 0,\r\n                \"pointer-events\": pointerEventsSpec,\r\n                \"position\": \"absolute\"\r\n            };\r\n\r\n        this.svg = _node(\"svg\", svgParams);\r\n\r\n        if (params.useDivWrapper) {\r\n            this.canvas = _jp.createElement(\"div\", { position : \"absolute\" });\r\n            _ju.sizeElement(this.canvas, 0, 0, 1, 1);\r\n            this.canvas.className = clazz;\r\n        }\r\n        else {\r\n            _attr(this.svg, { \"class\": clazz });\r\n            this.canvas = this.svg;\r\n        }\r\n\r\n        params._jsPlumb.appendElement(this.canvas, params.originalArgs[0].parent);\r\n        if (params.useDivWrapper) {\r\n            this.canvas.appendChild(this.svg);\r\n        }\r\n\r\n        var displayElements = [ this.canvas ];\r\n        this.getDisplayElements = function () {\r\n            return displayElements;\r\n        };\r\n\r\n        this.appendDisplayElement = function (el) {\r\n            displayElements.push(el);\r\n        };\r\n\r\n        this.paint = function (style, anchor, extents) {\r\n            if (style != null) {\r\n\r\n                var xy = [ this.x, this.y ], wh = [ this.w, this.h ], p;\r\n                if (extents != null) {\r\n                    if (extents.xmin < 0) {\r\n                        xy[0] += extents.xmin;\r\n                    }\r\n                    if (extents.ymin < 0) {\r\n                        xy[1] += extents.ymin;\r\n                    }\r\n                    wh[0] = extents.xmax + ((extents.xmin < 0) ? -extents.xmin : 0);\r\n                    wh[1] = extents.ymax + ((extents.ymin < 0) ? -extents.ymin : 0);\r\n                }\r\n\r\n                if (params.useDivWrapper) {\r\n                    _ju.sizeElement(this.canvas, xy[0], xy[1], wh[0], wh[1]);\r\n                    xy[0] = 0;\r\n                    xy[1] = 0;\r\n                    p = _pos([ 0, 0 ]);\r\n                }\r\n                else {\r\n                    p = _pos([ xy[0], xy[1] ]);\r\n                }\r\n\r\n                renderer.paint.apply(this, arguments);\r\n\r\n                _attr(this.svg, {\r\n                    \"style\": p,\r\n                    \"width\": wh[0] || 0,\r\n                    \"height\": wh[1] || 0\r\n                });\r\n            }\r\n        };\r\n\r\n        return {\r\n            renderer: renderer\r\n        };\r\n    };\r\n\r\n    _ju.extend(SvgComponent, _jp.jsPlumbUIComponent, {\r\n        cleanup: function (force) {\r\n            if (force || this.typeId == null) {\r\n                if (this.canvas) {\r\n                    this.canvas._jsPlumb = null;\r\n                }\r\n                if (this.svg) {\r\n                    this.svg._jsPlumb = null;\r\n                }\r\n                if (this.bgCanvas) {\r\n                    this.bgCanvas._jsPlumb = null;\r\n                }\r\n\r\n                if (this.canvas && this.canvas.parentNode) {\r\n                    this.canvas.parentNode.removeChild(this.canvas);\r\n                }\r\n                if (this.bgCanvas && this.bgCanvas.parentNode) {\r\n                    this.canvas.parentNode.removeChild(this.canvas);\r\n                }\r\n\r\n                this.svg = null;\r\n                this.canvas = null;\r\n                this.path = null;\r\n                this.group = null;\r\n            }\r\n            else {\r\n                // if not a forced cleanup, just detach from DOM for now.\r\n                if (this.canvas && this.canvas.parentNode) {\r\n                    this.canvas.parentNode.removeChild(this.canvas);\r\n                }\r\n                if (this.bgCanvas && this.bgCanvas.parentNode) {\r\n                    this.bgCanvas.parentNode.removeChild(this.bgCanvas);\r\n                }\r\n            }\r\n        },\r\n        reattach:function(instance) {\r\n            var c = instance.getContainer();\r\n            if (this.canvas && this.canvas.parentNode == null) {\r\n                c.appendChild(this.canvas);\r\n            }\r\n            if (this.bgCanvas && this.bgCanvas.parentNode == null) {\r\n                c.appendChild(this.bgCanvas);\r\n            }\r\n        },\r\n        setVisible: function (v) {\r\n            if (this.canvas) {\r\n                this.canvas.style.display = v ? \"block\" : \"none\";\r\n            }\r\n        }\r\n    });\r\n\r\n    /*\r\n     * Base class for SVG connectors.\r\n     */\r\n    _jp.ConnectorRenderers.svg = function (params) {\r\n        var self = this,\r\n            _super = SvgComponent.apply(this, [\r\n                {\r\n                    cssClass: params._jsPlumb.connectorClass,\r\n                    originalArgs: arguments,\r\n                    pointerEventsSpec: \"none\",\r\n                    _jsPlumb: params._jsPlumb\r\n                }\r\n            ]);\r\n\r\n        _super.renderer.paint = function (style, anchor, extents) {\r\n\r\n            var segments = self.getSegments(), p = \"\", offset = [0, 0];\r\n            if (extents.xmin < 0) {\r\n                offset[0] = -extents.xmin;\r\n            }\r\n            if (extents.ymin < 0) {\r\n                offset[1] = -extents.ymin;\r\n            }\r\n\r\n            if (segments.length > 0) {\r\n\r\n                p = self.getPathData();\r\n\r\n                var a = {\r\n                        d: p,\r\n                        transform: \"translate(\" + offset[0] + \",\" + offset[1] + \")\",\r\n                        \"pointer-events\": params[\"pointer-events\"] || \"visibleStroke\"\r\n                    },\r\n                    outlineStyle = null,\r\n                    d = [self.x, self.y, self.w, self.h];\r\n\r\n                // outline style.  actually means drawing an svg object underneath the main one.\r\n                if (style.outlineStroke) {\r\n                    var outlineWidth = style.outlineWidth || 1,\r\n                        outlineStrokeWidth = style.strokeWidth + (2 * outlineWidth);\r\n                    outlineStyle = _jp.extend({}, style);\r\n                    delete outlineStyle.gradient;\r\n                    outlineStyle.stroke = style.outlineStroke;\r\n                    outlineStyle.strokeWidth = outlineStrokeWidth;\r\n\r\n                    if (self.bgPath == null) {\r\n                        self.bgPath = _node(\"path\", a);\r\n                        _jp.addClass(self.bgPath, _jp.connectorOutlineClass);\r\n                        _appendAtIndex(self.svg, self.bgPath, 0);\r\n                    }\r\n                    else {\r\n                        _attr(self.bgPath, a);\r\n                    }\r\n\r\n                    _applyStyles(self.svg, self.bgPath, outlineStyle, d, self);\r\n                }\r\n\r\n                if (self.path == null) {\r\n                    self.path = _node(\"path\", a);\r\n                    _appendAtIndex(self.svg, self.path, style.outlineStroke ? 1 : 0);\r\n                }\r\n                else {\r\n                    _attr(self.path, a);\r\n                }\r\n\r\n                _applyStyles(self.svg, self.path, style, d, self);\r\n            }\r\n        };\r\n    };\r\n    _ju.extend(_jp.ConnectorRenderers.svg, SvgComponent);\r\n\r\n// ******************************* svg segment renderer *****************************************************\r\n\r\n\r\n// ******************************* /svg segments *****************************************************\r\n\r\n    /*\r\n     * Base class for SVG endpoints.\r\n     */\r\n    var SvgEndpoint = _jp.SvgEndpoint = function (params) {\r\n        var _super = SvgComponent.apply(this, [\r\n            {\r\n                cssClass: params._jsPlumb.endpointClass,\r\n                originalArgs: arguments,\r\n                pointerEventsSpec: \"all\",\r\n                useDivWrapper: true,\r\n                _jsPlumb: params._jsPlumb\r\n            }\r\n        ]);\r\n\r\n        _super.renderer.paint = function (style) {\r\n            var s = _jp.extend({}, style);\r\n            if (s.outlineStroke) {\r\n                s.stroke = s.outlineStroke;\r\n            }\r\n\r\n            if (this.node == null) {\r\n                this.node = this.makeNode(s);\r\n                this.svg.appendChild(this.node);\r\n            }\r\n            else if (this.updateNode != null) {\r\n                this.updateNode(this.node);\r\n            }\r\n            _applyStyles(this.svg, this.node, s, [ this.x, this.y, this.w, this.h ], this);\r\n            _pos(this.node, [ this.x, this.y ]);\r\n        }.bind(this);\r\n\r\n    };\r\n    _ju.extend(SvgEndpoint, SvgComponent);\r\n\r\n    /*\r\n     * SVG Dot Endpoint\r\n     */\r\n    _jp.Endpoints.svg.Dot = function () {\r\n        _jp.Endpoints.Dot.apply(this, arguments);\r\n        SvgEndpoint.apply(this, arguments);\r\n        this.makeNode = function (style) {\r\n            return _node(\"circle\", {\r\n                \"cx\": this.w / 2,\r\n                \"cy\": this.h / 2,\r\n                \"r\": this.radius\r\n            });\r\n        };\r\n        this.updateNode = function (node) {\r\n            _attr(node, {\r\n                \"cx\": this.w / 2,\r\n                \"cy\": this.h / 2,\r\n                \"r\": this.radius\r\n            });\r\n        };\r\n    };\r\n    _ju.extend(_jp.Endpoints.svg.Dot, [_jp.Endpoints.Dot, SvgEndpoint]);\r\n\r\n    /*\r\n     * SVG Rectangle Endpoint\r\n     */\r\n    _jp.Endpoints.svg.Rectangle = function () {\r\n        _jp.Endpoints.Rectangle.apply(this, arguments);\r\n        SvgEndpoint.apply(this, arguments);\r\n        this.makeNode = function (style) {\r\n            return _node(\"rect\", {\r\n                \"width\": this.w,\r\n                \"height\": this.h\r\n            });\r\n        };\r\n        this.updateNode = function (node) {\r\n            _attr(node, {\r\n                \"width\": this.w,\r\n                \"height\": this.h\r\n            });\r\n        };\r\n    };\r\n    _ju.extend(_jp.Endpoints.svg.Rectangle, [_jp.Endpoints.Rectangle, SvgEndpoint]);\r\n\r\n    /*\r\n     * SVG Image Endpoint is the default image endpoint.\r\n     */\r\n    _jp.Endpoints.svg.Image = _jp.Endpoints.Image;\r\n    /*\r\n     * Blank endpoint in svg renderer is the default Blank endpoint.\r\n     */\r\n    _jp.Endpoints.svg.Blank = _jp.Endpoints.Blank;\r\n    /*\r\n     * Label overlay in svg renderer is the default Label overlay.\r\n     */\r\n    _jp.Overlays.svg.Label = _jp.Overlays.Label;\r\n    /*\r\n     * Custom overlay in svg renderer is the default Custom overlay.\r\n     */\r\n    _jp.Overlays.svg.Custom = _jp.Overlays.Custom;\r\n\r\n    var AbstractSvgArrowOverlay = function (superclass, originalArgs) {\r\n        superclass.apply(this, originalArgs);\r\n        _jp.jsPlumbUIComponent.apply(this, originalArgs);\r\n        this.isAppendedAtTopLevel = false;\r\n        var self = this;\r\n        this.path = null;\r\n        this.paint = function (params, containerExtents) {\r\n            // only draws on connections, not endpoints.\r\n            if (params.component.svg && containerExtents) {\r\n                if (this.path == null) {\r\n                    this.path = _node(\"path\", {\r\n                        \"pointer-events\": \"all\"\r\n                    });\r\n                    params.component.svg.appendChild(this.path);\r\n                    if (this.elementCreated) {\r\n                        this.elementCreated(this.path, params.component);\r\n                    }\r\n\r\n                    this.canvas = params.component.svg; // for the sake of completeness; this behaves the same as other overlays\r\n                }\r\n                var clazz = originalArgs && (originalArgs.length === 1) ? (originalArgs[0].cssClass || \"\") : \"\",\r\n                    offset = [0, 0];\r\n\r\n                if (containerExtents.xmin < 0) {\r\n                    offset[0] = -containerExtents.xmin;\r\n                }\r\n                if (containerExtents.ymin < 0) {\r\n                    offset[1] = -containerExtents.ymin;\r\n                }\r\n\r\n                _attr(this.path, {\r\n                    \"d\": makePath(params.d),\r\n                    \"class\": clazz,\r\n                    stroke: params.stroke ? params.stroke : null,\r\n                    fill: params.fill ? params.fill : null,\r\n                    transform: \"translate(\" + offset[0] + \",\" + offset[1] + \")\"\r\n                });\r\n            }\r\n        };\r\n        var makePath = function (d) {\r\n            return (isNaN(d.cxy.x) || isNaN(d.cxy.y)) ? \"\" : \"M\" + d.hxy.x + \",\" + d.hxy.y +\r\n                \" L\" + d.tail[0].x + \",\" + d.tail[0].y +\r\n                \" L\" + d.cxy.x + \",\" + d.cxy.y +\r\n                \" L\" + d.tail[1].x + \",\" + d.tail[1].y +\r\n                \" L\" + d.hxy.x + \",\" + d.hxy.y;\r\n        };\r\n        this.transfer = function(target) {\r\n            if (target.canvas && this.path && this.path.parentNode) {\r\n                this.path.parentNode.removeChild(this.path);\r\n                target.canvas.appendChild(this.path);\r\n            }\r\n        };\r\n    };\r\n    _ju.extend(AbstractSvgArrowOverlay, [_jp.jsPlumbUIComponent, _jp.Overlays.AbstractOverlay], {\r\n        cleanup: function (force) {\r\n            if (this.path != null) {\r\n                if (force) {\r\n                    this._jsPlumb.instance.removeElement(this.path);\r\n                }\r\n                else {\r\n                    if (this.path.parentNode) {\r\n                        this.path.parentNode.removeChild(this.path);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        reattach:function(instance, component) {\r\n            if (this.path && component.canvas) {\r\n                component.canvas.appendChild(this.path);\r\n            }\r\n        },\r\n        setVisible: function (v) {\r\n            if (this.path != null) {\r\n                (this.path.style.display = (v ? \"block\" : \"none\"));\r\n            }\r\n        }\r\n    });\r\n\r\n    _jp.Overlays.svg.Arrow = function () {\r\n        AbstractSvgArrowOverlay.apply(this, [_jp.Overlays.Arrow, arguments]);\r\n    };\r\n    _ju.extend(_jp.Overlays.svg.Arrow, [ _jp.Overlays.Arrow, AbstractSvgArrowOverlay ]);\r\n\r\n    _jp.Overlays.svg.PlainArrow = function () {\r\n        AbstractSvgArrowOverlay.apply(this, [_jp.Overlays.PlainArrow, arguments]);\r\n    };\r\n    _ju.extend(_jp.Overlays.svg.PlainArrow, [ _jp.Overlays.PlainArrow, AbstractSvgArrowOverlay ]);\r\n\r\n    _jp.Overlays.svg.Diamond = function () {\r\n        AbstractSvgArrowOverlay.apply(this, [_jp.Overlays.Diamond, arguments]);\r\n    };\r\n    _ju.extend(_jp.Overlays.svg.Diamond, [ _jp.Overlays.Diamond, AbstractSvgArrowOverlay ]);\r\n\r\n    // a test\r\n    _jp.Overlays.svg.GuideLines = function () {\r\n        var path = null, self = this, p1_1, p1_2;\r\n        _jp.Overlays.GuideLines.apply(this, arguments);\r\n        this.paint = function (params, containerExtents) {\r\n            if (path == null) {\r\n                path = _node(\"path\");\r\n                params.connector.svg.appendChild(path);\r\n                self.attachListeners(path, params.connector);\r\n                self.attachListeners(path, self);\r\n\r\n                p1_1 = _node(\"path\");\r\n                params.connector.svg.appendChild(p1_1);\r\n                self.attachListeners(p1_1, params.connector);\r\n                self.attachListeners(p1_1, self);\r\n\r\n                p1_2 = _node(\"path\");\r\n                params.connector.svg.appendChild(p1_2);\r\n                self.attachListeners(p1_2, params.connector);\r\n                self.attachListeners(p1_2, self);\r\n            }\r\n\r\n            var offset = [0, 0];\r\n            if (containerExtents.xmin < 0) {\r\n                offset[0] = -containerExtents.xmin;\r\n            }\r\n            if (containerExtents.ymin < 0) {\r\n                offset[1] = -containerExtents.ymin;\r\n            }\r\n\r\n            _attr(path, {\r\n                \"d\": makePath(params.head, params.tail),\r\n                stroke: \"red\",\r\n                fill: null,\r\n                transform: \"translate(\" + offset[0] + \",\" + offset[1] + \")\"\r\n            });\r\n\r\n            _attr(p1_1, {\r\n                \"d\": makePath(params.tailLine[0], params.tailLine[1]),\r\n                stroke: \"blue\",\r\n                fill: null,\r\n                transform: \"translate(\" + offset[0] + \",\" + offset[1] + \")\"\r\n            });\r\n\r\n            _attr(p1_2, {\r\n                \"d\": makePath(params.headLine[0], params.headLine[1]),\r\n                stroke: \"green\",\r\n                fill: null,\r\n                transform: \"translate(\" + offset[0] + \",\" + offset[1] + \")\"\r\n            });\r\n        };\r\n\r\n        var makePath = function (d1, d2) {\r\n            return \"M \" + d1.x + \",\" + d1.y +\r\n                \" L\" + d2.x + \",\" + d2.y;\r\n        };\r\n    };\r\n    _ju.extend(_jp.Overlays.svg.GuideLines, _jp.Overlays.GuideLines);\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n\r\n/*\r\n * This file contains code used when jsPlumb is being rendered in a DOM.\r\n *\r\n * Copyright (c) 2010 - 2019 jsPlumb (hello@jsplumbtoolkit.com)\r\n *\r\n * https://jsplumbtoolkit.com\r\n * https://github.com/jsplumb/jsplumb\r\n *\r\n * Dual licensed under the MIT and GPL2 licenses.\r\n */\r\n;\r\n(function () {\r\n\r\n    \"use strict\";\r\n\r\n    var root = this, _jp = root.jsPlumb, _ju = root.jsPlumbUtil,\r\n        _jk = root.Katavorio, _jg = root.Biltong;\r\n\r\n    var _getEventManager = function(instance) {\r\n        var e = instance._mottle;\r\n        if (!e) {\r\n            e = instance._mottle = new root.Mottle();\r\n        }\r\n        return e;\r\n    };\r\n\r\n    var _getDragManager = function (instance, category) {\r\n\r\n        category = category || \"main\";\r\n        var key = \"_katavorio_\" + category;\r\n        var k = instance[key],\r\n            e = instance.getEventManager();\r\n\r\n        if (!k) {\r\n            k = new _jk({\r\n                bind: e.on,\r\n                unbind: e.off,\r\n                getSize: _jp.getSize,\r\n                getConstrainingRectangle:function(el) {\r\n                    return [ el.parentNode.scrollWidth, el.parentNode.scrollHeight ];\r\n                },\r\n                getPosition: function (el, relativeToRoot) {\r\n                    // if this is a nested draggable then compute the offset against its own offsetParent, otherwise\r\n                    // compute against the Container's origin. see also the getUIPosition method below.\r\n                    var o = instance.getOffset(el, relativeToRoot, el._katavorioDrag ? el.offsetParent : null);\r\n                    return [o.left, o.top];\r\n                },\r\n                setPosition: function (el, xy) {\r\n                    el.style.left = xy[0] + \"px\";\r\n                    el.style.top = xy[1] + \"px\";\r\n                },\r\n                addClass: _jp.addClass,\r\n                removeClass: _jp.removeClass,\r\n                intersects: _jg.intersects,\r\n                indexOf: function(l, i) { return l.indexOf(i); },\r\n                scope:instance.getDefaultScope(),\r\n                css: {\r\n                    noSelect: instance.dragSelectClass,\r\n                    droppable: \"jtk-droppable\",\r\n                    draggable: \"jtk-draggable\",\r\n                    drag: \"jtk-drag\",\r\n                    selected: \"jtk-drag-selected\",\r\n                    active: \"jtk-drag-active\",\r\n                    hover: \"jtk-drag-hover\",\r\n                    ghostProxy:\"jtk-ghost-proxy\"\r\n                }\r\n            });\r\n            k.setZoom(instance.getZoom());\r\n            instance[key] = k;\r\n            instance.bind(\"zoom\", k.setZoom);\r\n        }\r\n        return k;\r\n    };\r\n\r\n    var _dragStart=function(params) {\r\n        var options = params.el._jsPlumbDragOptions;\r\n        var cont = true;\r\n        if (options.canDrag) {\r\n            cont = options.canDrag();\r\n        }\r\n        if (cont) {\r\n            this.setHoverSuspended(true);\r\n            this.select({source: params.el}).addClass(this.elementDraggingClass + \" \" + this.sourceElementDraggingClass, true);\r\n            this.select({target: params.el}).addClass(this.elementDraggingClass + \" \" + this.targetElementDraggingClass, true);\r\n            this.setConnectionBeingDragged(true);\r\n        }\r\n        return cont;\r\n    };\r\n    var _dragMove=function(params) {\r\n        var ui = this.getUIPosition(arguments, this.getZoom());\r\n        if (ui != null) {\r\n            var o = params.el._jsPlumbDragOptions;\r\n            this.draw(params.el, ui, null, true);\r\n            if (o._dragging) {\r\n                this.addClass(params.el, \"jtk-dragged\");\r\n            }\r\n            o._dragging = true;\r\n        }\r\n    };\r\n    var _dragStop=function(params) {\r\n        var elements = params.selection, uip;\r\n\r\n        var _one = function (_e) {\r\n            if (_e[1] != null) {\r\n                // run the reported offset through the code that takes parent containers\r\n                // into account, to adjust if necessary (issue 554)\r\n                uip = this.getUIPosition([{\r\n                    el:_e[2].el,\r\n                    pos:[_e[1].left, _e[1].top]\r\n                }]);\r\n                this.draw(_e[2].el, uip);\r\n            }\r\n\r\n            if (_e[0]._jsPlumbDragOptions != null) {\r\n                delete _e[0]._jsPlumbDragOptions._dragging;\r\n            }\r\n\r\n            this.removeClass(_e[0], \"jtk-dragged\");\r\n            this.select({source: _e[2].el}).removeClass(this.elementDraggingClass + \" \" + this.sourceElementDraggingClass, true);\r\n            this.select({target: _e[2].el}).removeClass(this.elementDraggingClass + \" \" + this.targetElementDraggingClass, true);\r\n            this.getDragManager().dragEnded(_e[2].el);\r\n        }.bind(this);\r\n\r\n        for (var i = 0; i < elements.length; i++) {\r\n            _one(elements[i]);\r\n        }\r\n\r\n        this.setHoverSuspended(false);\r\n        this.setConnectionBeingDragged(false);\r\n    };\r\n\r\n    var _animProps = function (o, p) {\r\n        var _one = function (pName) {\r\n            if (p[pName] != null) {\r\n                if (_ju.isString(p[pName])) {\r\n                    var m = p[pName].match(/-=/) ? -1 : 1,\r\n                        v = p[pName].substring(2);\r\n                    return o[pName] + (m * v);\r\n                }\r\n                else {\r\n                    return p[pName];\r\n                }\r\n            }\r\n            else {\r\n                return o[pName];\r\n            }\r\n        };\r\n        return [ _one(\"left\"), _one(\"top\") ];\r\n    };\r\n\r\n    var _genLoc = function (prefix, e) {\r\n            if (e == null) {\r\n                return [ 0, 0 ];\r\n            }\r\n            var ts = _touches(e), t = _getTouch(ts, 0);\r\n            return [t[prefix + \"X\"], t[prefix + \"Y\"]];\r\n        },\r\n        _pageLocation = _genLoc.bind(this, \"page\"),\r\n        _screenLocation = _genLoc.bind(this, \"screen\"),\r\n        _clientLocation = _genLoc.bind(this, \"client\"),\r\n        _getTouch = function (touches, idx) {\r\n            return touches.item ? touches.item(idx) : touches[idx];\r\n        },\r\n        _touches = function (e) {\r\n            return e.touches && e.touches.length > 0 ? e.touches :\r\n                e.changedTouches && e.changedTouches.length > 0 ? e.changedTouches :\r\n                    e.targetTouches && e.targetTouches.length > 0 ? e.targetTouches :\r\n                        [ e ];\r\n        };\r\n\r\n    /**\r\n     Manages dragging for some instance of jsPlumb.\r\n\r\n     TODO instead of this being accessed directly, it should subscribe to events on the jsPlumb instance: every method\r\n     in here is called directly by jsPlumb. But what should happen is that we have unpublished events that this listens\r\n     to.  The only trick is getting one of these instantiated with every jsPlumb instance: it needs to have a hook somehow.\r\n     Basically the general idea is to pull ALL the drag code out (prototype method registrations plus this) into a\r\n     dedicated drag script), that does not necessarily need to be included.\r\n\r\n\r\n     */\r\n    var DragManager = function (_currentInstance) {\r\n        var _draggables = {}, _dlist = [], _delements = {}, _elementsWithEndpoints = {},\r\n            // elementids mapped to the draggable to which they belong.\r\n            _draggablesForElements = {};\r\n\r\n        /**\r\n         register some element as draggable.  right now the drag init stuff is done elsewhere, and it is\r\n         possible that will continue to be the case.\r\n         */\r\n        this.register = function (el) {\r\n            var id = _currentInstance.getId(el),\r\n                parentOffset;\r\n\r\n            if (!_draggables[id]) {\r\n                _draggables[id] = el;\r\n                _dlist.push(el);\r\n                _delements[id] = {};\r\n            }\r\n\r\n            // look for child elements that have endpoints and register them against this draggable.\r\n            var _oneLevel = function (p) {\r\n                if (p) {\r\n                    for (var i = 0; i < p.childNodes.length; i++) {\r\n                        if (p.childNodes[i].nodeType !== 3 && p.childNodes[i].nodeType !== 8) {\r\n                            var cEl = jsPlumb.getElement(p.childNodes[i]),\r\n                                cid = _currentInstance.getId(p.childNodes[i], null, true);\r\n                            if (cid && _elementsWithEndpoints[cid] && _elementsWithEndpoints[cid] > 0) {\r\n                                if (!parentOffset) {\r\n                                    parentOffset = _currentInstance.getOffset(el);\r\n                                }\r\n                                var cOff = _currentInstance.getOffset(cEl);\r\n                                _delements[id][cid] = {\r\n                                    id: cid,\r\n                                    offset: {\r\n                                        left: cOff.left - parentOffset.left,\r\n                                        top: cOff.top - parentOffset.top\r\n                                    }\r\n                                };\r\n                                _draggablesForElements[cid] = id;\r\n                            }\r\n                            _oneLevel(p.childNodes[i]);\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n            _oneLevel(el);\r\n        };\r\n\r\n        // refresh the offsets for child elements of this element.\r\n        this.updateOffsets = function (elId, childOffsetOverrides) {\r\n            if (elId != null) {\r\n                childOffsetOverrides = childOffsetOverrides || {};\r\n                var domEl = jsPlumb.getElement(elId),\r\n                    id = _currentInstance.getId(domEl),\r\n                    children = _delements[id],\r\n                    parentOffset;\r\n\r\n                if (children) {\r\n                    for (var i in children) {\r\n                        if (children.hasOwnProperty(i)) {\r\n                            var cel = jsPlumb.getElement(i),\r\n                                cOff = childOffsetOverrides[i] || _currentInstance.getOffset(cel);\r\n\r\n                            // do not update if we have a value already and we'd just be writing 0,0\r\n                            if (cel.offsetParent == null && _delements[id][i] != null) {\r\n                                continue;\r\n                            }\r\n\r\n                            if (!parentOffset) {\r\n                                parentOffset = _currentInstance.getOffset(domEl);\r\n                            }\r\n\r\n                            _delements[id][i] = {\r\n                                id: i,\r\n                                offset: {\r\n                                    left: cOff.left - parentOffset.left,\r\n                                    top: cOff.top - parentOffset.top\r\n                                }\r\n                            };\r\n                            _draggablesForElements[i] = id;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        /**\r\n         notification that an endpoint was added to the given el.  we go up from that el's parent\r\n         node, looking for a parent that has been registered as a draggable. if we find one, we add this\r\n         el to that parent's list of elements to update on drag (if it is not there already)\r\n         */\r\n        this.endpointAdded = function (el, id) {\r\n\r\n            id = id || _currentInstance.getId(el);\r\n\r\n            var b = document.body,\r\n                p = el.parentNode;\r\n\r\n            _elementsWithEndpoints[id] = _elementsWithEndpoints[id] ? _elementsWithEndpoints[id] + 1 : 1;\r\n\r\n            while (p != null && p !== b) {\r\n                var pid = _currentInstance.getId(p, null, true);\r\n                if (pid && _draggables[pid]) {\r\n                    var pLoc = _currentInstance.getOffset(p);\r\n\r\n                    if (_delements[pid][id] == null) {\r\n                        var cLoc = _currentInstance.getOffset(el);\r\n                        _delements[pid][id] = {\r\n                            id: id,\r\n                            offset: {\r\n                                left: cLoc.left - pLoc.left,\r\n                                top: cLoc.top - pLoc.top\r\n                            }\r\n                        };\r\n                        _draggablesForElements[id] = pid;\r\n                    }\r\n                    break;\r\n                }\r\n                p = p.parentNode;\r\n            }\r\n        };\r\n\r\n        this.endpointDeleted = function (endpoint) {\r\n            if (_elementsWithEndpoints[endpoint.elementId]) {\r\n                _elementsWithEndpoints[endpoint.elementId]--;\r\n                if (_elementsWithEndpoints[endpoint.elementId] <= 0) {\r\n                    for (var i in _delements) {\r\n                        if (_delements.hasOwnProperty(i) && _delements[i]) {\r\n                            delete _delements[i][endpoint.elementId];\r\n                            delete _draggablesForElements[endpoint.elementId];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        this.changeId = function (oldId, newId) {\r\n            _delements[newId] = _delements[oldId];\r\n            _delements[oldId] = {};\r\n            _draggablesForElements[newId] = _draggablesForElements[oldId];\r\n            _draggablesForElements[oldId] = null;\r\n        };\r\n\r\n        this.getElementsForDraggable = function (id) {\r\n            return _delements[id];\r\n        };\r\n\r\n        this.elementRemoved = function (elementId) {\r\n            var elId = _draggablesForElements[elementId];\r\n            if (elId) {\r\n                delete _delements[elId][elementId];\r\n                delete _draggablesForElements[elementId];\r\n            }\r\n        };\r\n\r\n        this.reset = function () {\r\n            _draggables = {};\r\n            _dlist = [];\r\n            _delements = {};\r\n            _elementsWithEndpoints = {};\r\n        };\r\n\r\n        //\r\n        // notification drag ended. We check automatically if need to update some\r\n        // ancestor's offsets.\r\n        //\r\n        this.dragEnded = function (el) {\r\n            if (el.offsetParent != null) {\r\n                var id = _currentInstance.getId(el),\r\n                    ancestor = _draggablesForElements[id];\r\n\r\n                if (ancestor) {\r\n                    this.updateOffsets(ancestor);\r\n                }\r\n            }\r\n        };\r\n\r\n        this.setParent = function (el, elId, p, pId, currentChildLocation) {\r\n            var current = _draggablesForElements[elId];\r\n            if (!_delements[pId]) {\r\n                _delements[pId] = {};\r\n            }\r\n            var pLoc = _currentInstance.getOffset(p),\r\n                cLoc = currentChildLocation || _currentInstance.getOffset(el);\r\n\r\n            if (current && _delements[current]) {\r\n                delete _delements[current][elId];\r\n            }\r\n\r\n            _delements[pId][elId] = {\r\n                id:elId,\r\n                offset : {\r\n                    left: cLoc.left - pLoc.left,\r\n                    top: cLoc.top - pLoc.top\r\n                }\r\n            };\r\n            _draggablesForElements[elId] = pId;\r\n        };\r\n\r\n        this.clearParent = function(el, elId) {\r\n            var current = _draggablesForElements[elId];\r\n            if (current) {\r\n                delete _delements[current][elId];\r\n                delete _draggablesForElements[elId];\r\n            }\r\n        };\r\n\r\n        this.revalidateParent = function(el, elId, childOffset) {\r\n            var current = _draggablesForElements[elId];\r\n            if (current) {\r\n                var co = {};\r\n                co[elId] = childOffset;\r\n                this.updateOffsets(current, co);\r\n                _currentInstance.revalidate(current);\r\n            }\r\n        };\r\n\r\n        this.getDragAncestor = function (el) {\r\n            var de = jsPlumb.getElement(el),\r\n                id = _currentInstance.getId(de),\r\n                aid = _draggablesForElements[id];\r\n\r\n            if (aid) {\r\n                return jsPlumb.getElement(aid);\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        };\r\n\r\n    };\r\n\r\n    var _setClassName = function (el, cn, classList) {\r\n            cn = _ju.fastTrim(cn);\r\n            if (typeof el.className.baseVal !== \"undefined\") {\r\n                el.className.baseVal = cn;\r\n            }\r\n            else {\r\n                el.className = cn;\r\n            }\r\n\r\n            // recent (i currently have  61.0.3163.100) version of chrome do not update classList when you set the base val\r\n            // of an svg element's className. in the long run we'd like to move to just using classList anyway\r\n            try {\r\n                var cl = el.classList;\r\n                if (cl != null) {\r\n                    while (cl.length > 0) {\r\n                        cl.remove(cl.item(0));\r\n                    }\r\n                    for (var i = 0; i < classList.length; i++) {\r\n                        if (classList[i]) {\r\n                            cl.add(classList[i]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            catch(e) {\r\n                // not fatal\r\n                _ju.log(\"JSPLUMB: cannot set class list\", e);\r\n            }\r\n        },\r\n        _getClassName = function (el) {\r\n            return (typeof el.className.baseVal === \"undefined\") ? el.className : el.className.baseVal;\r\n        },\r\n        _classManip = function (el, classesToAdd, classesToRemove) {\r\n            classesToAdd = classesToAdd == null ? [] : _ju.isArray(classesToAdd) ? classesToAdd : classesToAdd.split(/\\s+/);\r\n            classesToRemove = classesToRemove == null ? [] : _ju.isArray(classesToRemove) ? classesToRemove : classesToRemove.split(/\\s+/);\r\n\r\n            var className = _getClassName(el),\r\n                curClasses = className.split(/\\s+/);\r\n\r\n            var _oneSet = function (add, classes) {\r\n                for (var i = 0; i < classes.length; i++) {\r\n                    if (add) {\r\n                        if (curClasses.indexOf(classes[i]) === -1) {\r\n                            curClasses.push(classes[i]);\r\n                        }\r\n                    }\r\n                    else {\r\n                        var idx = curClasses.indexOf(classes[i]);\r\n                        if (idx !== -1) {\r\n                            curClasses.splice(idx, 1);\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n            _oneSet(true, classesToAdd);\r\n            _oneSet(false, classesToRemove);\r\n\r\n            _setClassName(el, curClasses.join(\" \"), curClasses);\r\n        };\r\n\r\n    root.jsPlumb.extend(root.jsPlumbInstance.prototype, {\r\n\r\n        headless: false,\r\n\r\n        pageLocation: _pageLocation,\r\n        screenLocation: _screenLocation,\r\n        clientLocation: _clientLocation,\r\n\r\n        getDragManager:function() {\r\n            if (this.dragManager == null) {\r\n                this.dragManager = new DragManager(this);\r\n            }\r\n\r\n            return this.dragManager;\r\n        },\r\n\r\n        recalculateOffsets:function(elId) {\r\n            this.getDragManager().updateOffsets(elId);\r\n        },\r\n\r\n        createElement:function(tag, style, clazz, atts) {\r\n            return this.createElementNS(null, tag, style, clazz, atts);\r\n        },\r\n\r\n        createElementNS:function(ns, tag, style, clazz, atts) {\r\n            var e = ns == null ? document.createElement(tag) : document.createElementNS(ns, tag);\r\n            var i;\r\n            style = style || {};\r\n            for (i in style) {\r\n                e.style[i] = style[i];\r\n            }\r\n\r\n            if (clazz) {\r\n                e.className = clazz;\r\n            }\r\n\r\n            atts = atts || {};\r\n            for (i in atts) {\r\n                e.setAttribute(i, \"\" + atts[i]);\r\n            }\r\n\r\n            return e;\r\n        },\r\n\r\n        getAttribute: function (el, attName) {\r\n            return el.getAttribute != null ? el.getAttribute(attName) : null;\r\n        },\r\n\r\n        setAttribute: function (el, a, v) {\r\n            if (el.setAttribute != null) {\r\n                el.setAttribute(a, v);\r\n            }\r\n        },\r\n\r\n        setAttributes: function (el, atts) {\r\n            for (var i in atts) {\r\n                if (atts.hasOwnProperty(i)) {\r\n                    el.setAttribute(i, atts[i]);\r\n                }\r\n            }\r\n        },\r\n        appendToRoot: function (node) {\r\n            document.body.appendChild(node);\r\n        },\r\n        getRenderModes: function () {\r\n            return [ \"svg\"  ];\r\n        },\r\n        getClass:_getClassName,\r\n        addClass: function (el, clazz) {\r\n            jsPlumb.each(el, function (e) {\r\n                _classManip(e, clazz);\r\n            });\r\n        },\r\n        hasClass: function (el, clazz) {\r\n            el = jsPlumb.getElement(el);\r\n            if (el.classList) {\r\n                return el.classList.contains(clazz);\r\n            }\r\n            else {\r\n                return _getClassName(el).indexOf(clazz) !== -1;\r\n            }\r\n        },\r\n        removeClass: function (el, clazz) {\r\n            jsPlumb.each(el, function (e) {\r\n                _classManip(e, null, clazz);\r\n            });\r\n        },\r\n        toggleClass:function(el, clazz) {\r\n            if (jsPlumb.hasClass(el, clazz)) {\r\n                jsPlumb.removeClass(el, clazz);\r\n            } else {\r\n                jsPlumb.addClass(el, clazz);\r\n            }\r\n        },\r\n        updateClasses: function (el, toAdd, toRemove) {\r\n            jsPlumb.each(el, function (e) {\r\n                _classManip(e, toAdd, toRemove);\r\n            });\r\n        },\r\n        setClass: function (el, clazz) {\r\n            if (clazz != null) {\r\n                jsPlumb.each(el, function (e) {\r\n                    _setClassName(e, clazz, clazz.split(/\\s+/));\r\n                });\r\n            }\r\n        },\r\n        setPosition: function (el, p) {\r\n            el.style.left = p.left + \"px\";\r\n            el.style.top = p.top + \"px\";\r\n        },\r\n        getPosition: function (el) {\r\n            var _one = function (prop) {\r\n                var v = el.style[prop];\r\n                return v ? v.substring(0, v.length - 2) : 0;\r\n            };\r\n            return {\r\n                left: _one(\"left\"),\r\n                top: _one(\"top\")\r\n            };\r\n        },\r\n        getStyle:function(el, prop) {\r\n            if (typeof window.getComputedStyle !== 'undefined') {\r\n                return getComputedStyle(el, null).getPropertyValue(prop);\r\n            } else {\r\n                return el.currentStyle[prop];\r\n            }\r\n        },\r\n        getSelector: function (ctx, spec) {\r\n            var sel = null;\r\n            if (arguments.length === 1) {\r\n                sel = ctx.nodeType != null ? ctx : document.querySelectorAll(ctx);\r\n            }\r\n            else {\r\n                sel = ctx.querySelectorAll(spec);\r\n            }\r\n\r\n            return sel;\r\n        },\r\n        getOffset:function(el, relativeToRoot, container) {\r\n            el = jsPlumb.getElement(el);\r\n            container = container || this.getContainer();\r\n            var out = {\r\n                    left: el.offsetLeft,\r\n                    top: el.offsetTop\r\n                },\r\n                op = (relativeToRoot  || (container != null && (el !== container && el.offsetParent !== container))) ?  el.offsetParent : null,\r\n                _maybeAdjustScroll = function(offsetParent) {\r\n                    if (offsetParent != null && offsetParent !== document.body && (offsetParent.scrollTop > 0 || offsetParent.scrollLeft > 0)) {\r\n                        out.left -= offsetParent.scrollLeft;\r\n                        out.top -= offsetParent.scrollTop;\r\n                    }\r\n                }.bind(this);\r\n\r\n            while (op != null) {\r\n                out.left += op.offsetLeft;\r\n                out.top += op.offsetTop;\r\n                _maybeAdjustScroll(op);\r\n                op = relativeToRoot ? op.offsetParent :\r\n                    op.offsetParent === container ? null : op.offsetParent;\r\n            }\r\n\r\n            // if container is scrolled and the element (or its offset parent) is not absolute or fixed, adjust accordingly.\r\n            if (container != null && !relativeToRoot && (container.scrollTop > 0 || container.scrollLeft > 0)) {\r\n                var pp = el.offsetParent != null ? this.getStyle(el.offsetParent, \"position\") : \"static\",\r\n                    p = this.getStyle(el, \"position\");\r\n                if (p !== \"absolute\" && p !== \"fixed\" && pp !== \"absolute\" && pp !== \"fixed\") {\r\n                    out.left -= container.scrollLeft;\r\n                    out.top -= container.scrollTop;\r\n                }\r\n            }\r\n            return out;\r\n        },\r\n        //\r\n        // return x+y proportion of the given element's size corresponding to the location of the given event.\r\n        //\r\n        getPositionOnElement: function (evt, el, zoom) {\r\n            var box = typeof el.getBoundingClientRect !== \"undefined\" ? el.getBoundingClientRect() : { left: 0, top: 0, width: 0, height: 0 },\r\n                body = document.body,\r\n                docElem = document.documentElement,\r\n                scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop,\r\n                scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft,\r\n                clientTop = docElem.clientTop || body.clientTop || 0,\r\n                clientLeft = docElem.clientLeft || body.clientLeft || 0,\r\n                pst = 0,\r\n                psl = 0,\r\n                top = box.top + scrollTop - clientTop + (pst * zoom),\r\n                left = box.left + scrollLeft - clientLeft + (psl * zoom),\r\n                cl = jsPlumb.pageLocation(evt),\r\n                w = box.width || (el.offsetWidth * zoom),\r\n                h = box.height || (el.offsetHeight * zoom),\r\n                x = (cl[0] - left) / w,\r\n                y = (cl[1] - top) / h;\r\n\r\n            return [ x, y ];\r\n        },\r\n\r\n        /**\r\n         * Gets the absolute position of some element as read from the left/top properties in its style.\r\n         * @method getAbsolutePosition\r\n         * @param {Element} el The element to retrieve the absolute coordinates from. **Note** this is a DOM element, not a selector from the underlying library.\r\n         * @return {Number[]} [left, top] pixel values.\r\n         */\r\n        getAbsolutePosition: function (el) {\r\n            var _one = function (s) {\r\n                var ss = el.style[s];\r\n                if (ss) {\r\n                    return parseFloat(ss.substring(0, ss.length - 2));\r\n                }\r\n            };\r\n            return [ _one(\"left\"), _one(\"top\") ];\r\n        },\r\n\r\n        /**\r\n         * Sets the absolute position of some element by setting the left/top properties in its style.\r\n         * @method setAbsolutePosition\r\n         * @param {Element} el The element to set the absolute coordinates on. **Note** this is a DOM element, not a selector from the underlying library.\r\n         * @param {Number[]} xy x and y coordinates\r\n         * @param {Number[]} [animateFrom] Optional previous xy to animate from.\r\n         * @param {Object} [animateOptions] Options for the animation.\r\n         */\r\n        setAbsolutePosition: function (el, xy, animateFrom, animateOptions) {\r\n            if (animateFrom) {\r\n                this.animate(el, {\r\n                    left: \"+=\" + (xy[0] - animateFrom[0]),\r\n                    top: \"+=\" + (xy[1] - animateFrom[1])\r\n                }, animateOptions);\r\n            }\r\n            else {\r\n                el.style.left = xy[0] + \"px\";\r\n                el.style.top = xy[1] + \"px\";\r\n            }\r\n        },\r\n        /**\r\n         * gets the size for the element, in an array : [ width, height ].\r\n         */\r\n        getSize: function (el) {\r\n            return [ el.offsetWidth, el.offsetHeight ];\r\n        },\r\n        getWidth: function (el) {\r\n            return el.offsetWidth;\r\n        },\r\n        getHeight: function (el) {\r\n            return el.offsetHeight;\r\n        },\r\n        getRenderMode : function() { return \"svg\"; },\r\n        draggable : function (el, options) {\r\n            var info;\r\n            el = _ju.isArray(el) || (el.length != null && !_ju.isString(el)) ? el: [ el ];\r\n            Array.prototype.slice.call(el).forEach(function(_el) {\r\n                info = this.info(_el);\r\n                if (info.el) {\r\n                    this._initDraggableIfNecessary(info.el, true, options, info.id, true);\r\n                }\r\n            }.bind(this));\r\n            return this;\r\n        },\r\n        snapToGrid : function(el, x, y) {\r\n            var out = [];\r\n            var _oneEl = function(_el) {\r\n                var info = this.info(_el);\r\n                if (info.el != null && info.el._katavorioDrag) {\r\n                    var snapped = info.el._katavorioDrag.snap(x, y);\r\n                    this.revalidate(info.el);\r\n                    out.push([info.el, snapped]);\r\n                }\r\n            }.bind(this);\r\n\r\n            // if you call this method with 0 arguments or 2 arguments it is assumed you want to snap all managed elements to\r\n            // a grid. if you supply one argument or 3, then you are assumed to be specifying one element.\r\n            if(arguments.length === 1 || arguments.length === 3) {\r\n                _oneEl(el, x, y);\r\n            } else {\r\n                var _me = this.getManagedElements();\r\n                for (var mel in _me) {\r\n                    _oneEl(mel, arguments[0], arguments[1]);\r\n                }\r\n            }\r\n\r\n            return out;\r\n        },\r\n        initDraggable: function (el, options, category) {\r\n            _getDragManager(this, category).draggable(el, options);\r\n            el._jsPlumbDragOptions = options;\r\n        },\r\n        destroyDraggable: function (el, category) {\r\n            _getDragManager(this, category).destroyDraggable(el);\r\n            delete el._jsPlumbDragOptions;\r\n        },\r\n        unbindDraggable: function (el, evt, fn, category) {\r\n            _getDragManager(this, category).destroyDraggable(el, evt, fn);\r\n        },\r\n        setDraggable : function (element, draggable) {\r\n            return jsPlumb.each(element, function (el) {\r\n                if (this.isDragSupported(el)) {\r\n                    this._draggableStates[this.getAttribute(el, \"id\")] = draggable;\r\n                    this.setElementDraggable(el, draggable);\r\n                }\r\n            }.bind(this));\r\n        },\r\n        _draggableStates : {},\r\n        /*\r\n         * toggles the draggable state of the given element(s).\r\n         * el is either an id, or an element object, or a list of ids/element objects.\r\n         */\r\n        toggleDraggable : function (el) {\r\n            var state;\r\n            jsPlumb.each(el, function (el) {\r\n                var elId = this.getAttribute(el, \"id\");\r\n                state = this._draggableStates[elId] == null ? false : this._draggableStates[elId];\r\n                state = !state;\r\n                this._draggableStates[elId] = state;\r\n                this.setDraggable(el, state);\r\n                return state;\r\n            }.bind(this));\r\n            return state;\r\n        },\r\n        _initDraggableIfNecessary : function (element, isDraggable, dragOptions, id, fireEvent) {\r\n            // TODO FIRST: move to DragManager. including as much of the decision to init dragging as possible.\r\n            if (!jsPlumb.headless) {\r\n                var _draggable = isDraggable == null ? false : isDraggable;\r\n                if (_draggable) {\r\n                    if (jsPlumb.isDragSupported(element, this)) {\r\n                        var options = dragOptions || this.Defaults.DragOptions;\r\n                        options = jsPlumb.extend({}, options); // make a copy.\r\n                        if (!jsPlumb.isAlreadyDraggable(element, this)) {\r\n                            var dragEvent = jsPlumb.dragEvents.drag,\r\n                                stopEvent = jsPlumb.dragEvents.stop,\r\n                                startEvent = jsPlumb.dragEvents.start;\r\n\r\n                            this.manage(id, element);\r\n\r\n                            options[startEvent] = _ju.wrap(options[startEvent], _dragStart.bind(this));\r\n\r\n                            options[dragEvent] = _ju.wrap(options[dragEvent], _dragMove.bind(this));\r\n\r\n                            options[stopEvent] = _ju.wrap(options[stopEvent], _dragStop.bind(this));\r\n\r\n                            var elId = this.getId(element); // need ID\r\n\r\n                            this._draggableStates[elId] = true;\r\n                            var draggable = this._draggableStates[elId];\r\n\r\n                            options.disabled = draggable == null ? false : !draggable;\r\n                            this.initDraggable(element, options);\r\n                            this.getDragManager().register(element);\r\n                            if (fireEvent) {\r\n                                this.fire(\"elementDraggable\", {el:element, options:options});\r\n                            }\r\n                        }\r\n                        else {\r\n                            // already draggable. attach any start, drag or stop listeners to the current Drag.\r\n                            if (dragOptions.force) {\r\n                                this.initDraggable(element, options);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        animationSupported:true,\r\n        getElement: function (el) {\r\n            if (el == null) {\r\n                return null;\r\n            }\r\n            // here we pluck the first entry if el was a list of entries.\r\n            // this is not my favourite thing to do, but previous versions of\r\n            // jsplumb supported jquery selectors, and it is possible a selector\r\n            // will be passed in here.\r\n            el = typeof el === \"string\" ? el : el.length != null && el.enctype == null ? el[0] : el;\r\n            return typeof el === \"string\" ? document.getElementById(el) : el;\r\n        },\r\n        removeElement: function (element) {\r\n            _getDragManager(this).elementRemoved(element);\r\n            this.getEventManager().remove(element);\r\n        },\r\n        //\r\n        // this adapter supports a rudimentary animation function. no easing is supported.  only\r\n        // left/top properties are supported. property delta args are expected to be in the form\r\n        //\r\n        // +=x.xxxx\r\n        //\r\n        // or\r\n        //\r\n        // -=x.xxxx\r\n        //\r\n        doAnimate: function (el, properties, options) {\r\n            options = options || {};\r\n            var o = this.getOffset(el),\r\n                ap = _animProps(o, properties),\r\n                ldist = ap[0] - o.left,\r\n                tdist = ap[1] - o.top,\r\n                d = options.duration || 250,\r\n                step = 15, steps = d / step,\r\n                linc = (step / d) * ldist,\r\n                tinc = (step / d) * tdist,\r\n                idx = 0,\r\n                _int = setInterval(function () {\r\n                    _jp.setPosition(el, {\r\n                        left: o.left + (linc * (idx + 1)),\r\n                        top: o.top + (tinc * (idx + 1))\r\n                    });\r\n                    if (options.step != null) {\r\n                        options.step(idx, Math.ceil(steps));\r\n                    }\r\n                    idx++;\r\n                    if (idx >= steps) {\r\n                        window.clearInterval(_int);\r\n                        if (options.complete != null) {\r\n                            options.complete();\r\n                        }\r\n                    }\r\n                }, step);\r\n        },\r\n        // DRAG/DROP\r\n\r\n\r\n        destroyDroppable: function (el, category) {\r\n            _getDragManager(this, category).destroyDroppable(el);\r\n        },\r\n        unbindDroppable: function (el, evt, fn, category) {\r\n            _getDragManager(this, category).destroyDroppable(el, evt, fn);\r\n        },\r\n\r\n        droppable :function(el, options) {\r\n            el = _ju.isArray(el) || (el.length != null && !_ju.isString(el)) ? el: [ el ];\r\n            var info;\r\n            options = options || {};\r\n            options.allowLoopback = false;\r\n            Array.prototype.slice.call(el).forEach(function(_el) {\r\n                info = this.info(_el);\r\n                if (info.el) {\r\n                    this.initDroppable(info.el, options);\r\n                }\r\n            }.bind(this));\r\n            return this;\r\n        },\r\n\r\n        initDroppable: function (el, options, category) {\r\n            _getDragManager(this, category).droppable(el, options);\r\n        },\r\n        isAlreadyDraggable: function (el) {\r\n            return el._katavorioDrag != null;\r\n        },\r\n        isDragSupported: function (el, options) {\r\n            return true;\r\n        },\r\n        isDropSupported: function (el, options) {\r\n            return true;\r\n        },\r\n        isElementDraggable: function (el) {\r\n            el = _jp.getElement(el);\r\n            return el._katavorioDrag && el._katavorioDrag.isEnabled();\r\n        },\r\n        getDragObject: function (eventArgs) {\r\n            return eventArgs[0].drag.getDragElement();\r\n        },\r\n        getDragScope: function (el) {\r\n            return el._katavorioDrag && el._katavorioDrag.scopes.join(\" \") || \"\";\r\n        },\r\n        getDropEvent: function (args) {\r\n            return args[0].e;\r\n        },\r\n        getUIPosition: function (eventArgs, zoom) {\r\n            // here the position reported to us by Katavorio is relative to the element's offsetParent. For top\r\n            // level nodes that is fine, but if we have a nested draggable then its offsetParent is actually\r\n            // not going to be the jsplumb container; it's going to be some child of that element. In that case\r\n            // we want to adjust the UI position to account for the offsetParent's position relative to the Container\r\n            // origin.\r\n            var el = eventArgs[0].el;\r\n            if (el.offsetParent == null) {\r\n                return null;\r\n            }\r\n            var finalPos = eventArgs[0].finalPos || eventArgs[0].pos;\r\n            var p = { left:finalPos[0], top:finalPos[1] };\r\n            if (el._katavorioDrag && el.offsetParent !== this.getContainer()) {\r\n                var oc = this.getOffset(el.offsetParent);\r\n                p.left += oc.left;\r\n                p.top += oc.top;\r\n            }\r\n            return p;\r\n        },\r\n        setDragFilter: function (el, filter, _exclude) {\r\n            if (el._katavorioDrag) {\r\n                el._katavorioDrag.setFilter(filter, _exclude);\r\n            }\r\n        },\r\n        setElementDraggable: function (el, draggable) {\r\n            el = _jp.getElement(el);\r\n            if (el._katavorioDrag) {\r\n                el._katavorioDrag.setEnabled(draggable);\r\n            }\r\n        },\r\n        setDragScope: function (el, scope) {\r\n            if (el._katavorioDrag) {\r\n                el._katavorioDrag.k.setDragScope(el, scope);\r\n            }\r\n        },\r\n        setDropScope:function(el, scope) {\r\n            if (el._katavorioDrop && el._katavorioDrop.length > 0) {\r\n                el._katavorioDrop[0].k.setDropScope(el, scope);\r\n            }\r\n        },\r\n        addToPosse:function(el, spec) {\r\n            var specs = Array.prototype.slice.call(arguments, 1);\r\n            var dm = _getDragManager(this);\r\n            _jp.each(el, function(_el) {\r\n                _el = [ _jp.getElement(_el) ];\r\n                _el.push.apply(_el, specs );\r\n                dm.addToPosse.apply(dm, _el);\r\n            });\r\n        },\r\n        setPosse:function(el, spec) {\r\n            var specs = Array.prototype.slice.call(arguments, 1);\r\n            var dm = _getDragManager(this);\r\n            _jp.each(el, function(_el) {\r\n                _el = [ _jp.getElement(_el) ];\r\n                _el.push.apply(_el, specs );\r\n                dm.setPosse.apply(dm, _el);\r\n            });\r\n        },\r\n        removeFromPosse:function(el, posseId) {\r\n            var specs = Array.prototype.slice.call(arguments, 1);\r\n            var dm = _getDragManager(this);\r\n            _jp.each(el, function(_el) {\r\n                _el = [ _jp.getElement(_el) ];\r\n                _el.push.apply(_el, specs );\r\n                dm.removeFromPosse.apply(dm, _el);\r\n            });\r\n        },\r\n        removeFromAllPosses:function(el) {\r\n            var dm = _getDragManager(this);\r\n            _jp.each(el, function(_el) { dm.removeFromAllPosses(_jp.getElement(_el)); });\r\n        },\r\n        setPosseState:function(el, posseId, state) {\r\n            var dm = _getDragManager(this);\r\n            _jp.each(el, function(_el) { dm.setPosseState(_jp.getElement(_el), posseId, state); });\r\n        },\r\n        dragEvents: {\r\n            'start': 'start', 'stop': 'stop', 'drag': 'drag', 'step': 'step',\r\n            'over': 'over', 'out': 'out', 'drop': 'drop', 'complete': 'complete',\r\n            'beforeStart':'beforeStart'\r\n        },\r\n        animEvents: {\r\n            'step': \"step\", 'complete': 'complete'\r\n        },\r\n        stopDrag: function (el) {\r\n            if (el._katavorioDrag) {\r\n                el._katavorioDrag.abort();\r\n            }\r\n        },\r\n        addToDragSelection: function (spec) {\r\n            _getDragManager(this).select(spec);\r\n        },\r\n        removeFromDragSelection: function (spec) {\r\n            _getDragManager(this).deselect(spec);\r\n        },\r\n        clearDragSelection: function () {\r\n            _getDragManager(this).deselectAll();\r\n        },\r\n        trigger: function (el, event, originalEvent, payload) {\r\n            this.getEventManager().trigger(el, event, originalEvent, payload);\r\n        },\r\n        doReset:function() {\r\n            // look for katavorio instances and reset each one if found.\r\n            for (var key in this) {\r\n                if (key.indexOf(\"_katavorio_\") === 0) {\r\n                    this[key].reset();\r\n                }\r\n            }\r\n        },\r\n        getEventManager:function() {\r\n            return _getEventManager(this);\r\n        },\r\n        on : function(el, event, callback) {\r\n            // TODO: here we would like to map the tap event if we know its\r\n            // an internal bind to a click. we have to know its internal because only\r\n            // then can we be sure that the UP event wont be consumed (tap is a synthesized\r\n            // event from a mousedown followed by a mouseup).\r\n            //event = { \"click\":\"tap\", \"dblclick\":\"dbltap\"}[event] || event;\r\n            this.getEventManager().on.apply(this, arguments);\r\n            return this;\r\n        },\r\n        off : function(el, event, callback) {\r\n            this.getEventManager().off.apply(this, arguments);\r\n            return this;\r\n        }\r\n\r\n    });\r\n\r\n    var ready = function (f) {\r\n        var _do = function () {\r\n            if (/complete|loaded|interactive/.test(document.readyState) && typeof(document.body) !== \"undefined\" && document.body != null) {\r\n                f();\r\n            }\r\n            else {\r\n                setTimeout(_do, 9);\r\n            }\r\n        };\r\n\r\n        _do();\r\n    };\r\n    ready(_jp.init);\r\n\r\n}).call(typeof window !== 'undefined' ? window : this);\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=style&index=0&id=e8e64530&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=style&index=0&id=e8e64530&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menus.vue?vue&type=style&index=0&id=c3b5475c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menus.vue?vue&type=style&index=0&id=c3b5475c&lang=scss&scoped=true&\"","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Console.vue?vue&type=style&index=0&id=3c4e218c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Console.vue?vue&type=style&index=0&id=3c4e218c&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailList.vue?vue&type=style&index=0&id=41965344&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailList.vue?vue&type=style&index=0&id=41965344&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"app\">\r\n   \r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\nhtml,body{\r\n  height: 100%;\r\n}\r\n#app {\r\n  width: 100%;\r\n  height: 100%;\r\n  list-style: none;\r\n}\r\n\r\n::-webkit-scrollbar {\r\nwidth: 10px; /*对垂直流动条有效*/\r\nheight: 10px; /*对水平流动条有效*/\r\n}\r\n\r\n/*定义滚动条的轨道颜色、内阴影及圆角*/\r\n::-webkit-scrollbar-track{\r\n-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);\r\nbackground-color: rgb(255, 255, 255);\r\nborder-radius: 3px;\r\n}\r\n\r\n\r\n/*定义滑块颜色、内阴影及圆角*/\r\n::-webkit-scrollbar-thumb{\r\nborder-radius: 7px;\r\n-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);\r\nbackground-color: #666666;\r\n}\r\n\r\n\r\n// /*定义两端按钮的样式*/\r\n// ::-webkit-scrollbar-button {\r\n// // background-color:cyan;\r\n// }\r\n\r\n// /*定义右下角汇合处的样式*/\r\n// ::-webkit-scrollbar-corner {\r\n// background:khaki;\r\n// }\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2d3baeef&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"index-box\"},[_c('el-header',[_c('headers')],1),_c('el-container',[_c('el-aside',{staticClass:\"left-nav\",attrs:{\"width\":\"asideWidth\"}},[_c('menus',{attrs:{\"isCollapse\":_vm.isCollapse}})],1),_c('el-main',[(_vm.isRouterAlive)?_c('router-view'):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-menu',{staticClass:\"menu-nav\",attrs:{\"router\":\"\",\"default-active\":_vm.currentPath,\"background-color\":\"#20222A\",\"text-color\":\"rgba(255,255,255,.8)\",\"active-text-color\":\"#ffd04b\",\"collapse\":_vm.isCollapse}},[_c('el-submenu',{attrs:{\"index\":\"4\"}},[_c('template',{slot:\"title\"},[_c('i',{staticClass:\"el-icon-setting\"}),_c('span',[_vm._v(\"任务管理\")])]),_c('el-menu-item',{attrs:{\"index\":\"/users\"}},[_c('i',{staticClass:\"el-icon-menu\"}),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"任务列表\")])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-menu\r\n    class=\"menu-nav\"\r\n    router\r\n    :default-active=\"currentPath\"\r\n    background-color=\"#20222A\"\r\n    text-color=\"rgba(255,255,255,.8)\"\r\n    active-text-color=\"#ffd04b\"\r\n    :collapse=\"isCollapse\">\r\n    <!-- <el-menu-item index=\"/console\">\r\n      <i class=\"el-icon-location\"></i>\r\n      <span slot=\"title\">主页</span>\r\n    </el-menu-item> -->\r\n\r\n        <el-submenu index=\"4\">\r\n      <template slot=\"title\">\r\n        <i class=\"el-icon-setting\"></i>\r\n        <span>任务管理</span>\r\n      </template>\r\n        <el-menu-item index=\"/users\">\r\n      <i class=\"el-icon-menu\"></i>\r\n      <span slot=\"title\">任务列表</span>\r\n    </el-menu-item>\r\n\r\n    </el-submenu>\r\n\r\n  </el-menu>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['isCollapse'],\r\n  data () {\r\n    return {\r\n      currentPath: location.pathname\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .el-menu {\r\n    border: none;\r\n  }\r\n  .menu-nav:not(.el-menu--collapse) {\r\n    width: 200px;\r\n    min-height: 400px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menus.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./menus.vue?vue&type=template&id=c3b5475c&scoped=true&\"\nimport script from \"./menus.vue?vue&type=script&lang=js&\"\nexport * from \"./menus.vue?vue&type=script&lang=js&\"\nimport style0 from \"./menus.vue?vue&type=style&index=0&id=c3b5475c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c3b5475c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header-box\"},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{staticStyle:{\"font-size\":\"34px\"},attrs:{\"span\":6}},[_vm._v(\" D-Customer \")]),_c('el-col',{attrs:{\"span\":6,\"offset\":14}},[_c('button',{staticClass:\"btn-tool\",attrs:{\"title\":\"折叠\"},on:{\"click\":_vm.collapse}},[_c('i',{staticClass:\"el-icon-d-arrow-left\"})]),_c('button',{staticClass:\"btn-tool\",attrs:{\"title\":\"刷新\"},on:{\"click\":_vm.refresh}},[_c('i',{staticClass:\"el-icon-refresh\"})]),_c('button',{staticClass:\"btn-tool\",attrs:{\"title\":\"全屏\"},on:{\"click\":_vm.Utils.fullScreen}},[_c('i',{staticClass:\"el-icon-rank\"})]),_c('button',{staticClass:\"btn-tool\",attrs:{\"title\":\"便签\"},on:{\"click\":function($event){_vm.dialogVisible = true}}},[_c('i',{staticClass:\"el-icon-edit\"})])]),_c('el-col',{attrs:{\"span\":4,\"align\":\"right\"}},[_c('el-dropdown',{staticClass:\"user-name\",attrs:{\"trigger\":\"click\"},on:{\"command\":_vm.handleCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\" \"+_vm._s(_vm.username)),_c('i',{staticClass:\"el-icon-caret-bottom el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"profile\",\"disabled\":\"\"}},[_vm._v(\"个人资料\")]),_c('el-dropdown-item',{attrs:{\"command\":\"updatepwd\",\"disabled\":\"\"}},[_vm._v(\"修改密码\")]),_c('el-dropdown-item',{attrs:{\"command\":\"logout\",\"divided\":\"\"}},[_vm._v(\"退出登录\")])],1)],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"便签\",\"width\":\"400px\",\"close-on-click-modal\":false,\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"closed\":_vm.saveNotes}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":7,\"placeholder\":\"请输入内容\"},model:{value:(_vm.notes),callback:function ($$v) {_vm.notes=$$v},expression:\"notes\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"header-box\">\r\n    <el-row type=\"flex\" justify=\"space-between\">\r\n      <el-col :span=\"6\" style=\"font-size:34px\">\r\n        D-Customer\r\n      </el-col>\r\n      <el-col :span=\"6\" :offset=\"14\" >\r\n        <button class=\"btn-tool\" title=\"折叠\" @click=\"collapse\" >\r\n            <i class=\"el-icon-d-arrow-left\"></i>\r\n        </button>\r\n        <button class=\"btn-tool\" title=\"刷新\" @click=\"refresh\">\r\n            <i class=\"el-icon-refresh\"></i>\r\n        </button>\r\n        <button class=\"btn-tool\" title=\"全屏\" @click=\"Utils.fullScreen\">\r\n            <i class=\"el-icon-rank\"></i>\r\n        </button>\r\n        <button class=\"btn-tool\" title=\"便签\" @click=\"dialogVisible = true\" >\r\n          <i class=\"el-icon-edit\"></i>\r\n        </button>\r\n      </el-col>\r\n      <el-col :span=\"4\" align=\"right\">\r\n        <!-- <span>{{ Utils.todayDate() }}</span> -->\r\n        <el-dropdown trigger=\"click\" class=\"user-name\" @command=\"handleCommand\">\r\n          <span class=\"el-dropdown-link\">\r\n            {{ username }}<i class=\"el-icon-caret-bottom el-icon--right\"></i>\r\n          </span>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item command=\"profile\" disabled>个人资料</el-dropdown-item>\r\n            <el-dropdown-item command=\"updatepwd\" disabled>修改密码</el-dropdown-item>\r\n            <el-dropdown-item command=\"logout\" divided>退出登录</el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n      </el-col>\r\n    </el-row>\r\n    <el-dialog title=\"便签\" width=\"400px\"\r\n      :close-on-click-modal=\"false\"\r\n      :visible.sync=\"dialogVisible\"\r\n      @closed=\"saveNotes\">\r\n      <el-input\r\n        type=\"textarea\"\r\n        :rows=\"7\"\r\n        placeholder=\"请输入内容\"\r\n        v-model=\"notes\">\r\n      </el-input>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  inject: ['reload'],\r\n  data () {\r\n    return {\r\n      isCollapse: false,\r\n      dialogVisible: false,\r\n      notes: localStorage.getItem('notes') || '便签中的内容会存储在本地，这样即便你关掉了浏览器，在下次打开时，依然会读取到上一次的记录。是个非常小巧实用的本地备忘录'\r\n    }\r\n  },\r\n  methods: {\r\n    collapse () {\r\n      this.$store.commit('switchCollapse')\r\n    },\r\n    refresh () {\r\n      this.reload()\r\n    },\r\n    saveNotes () {\r\n      localStorage.setItem('notes', this.notes)\r\n    },\r\n    handleCommand (command) {\r\n      switch (command) {\r\n        case 'logout':\r\n          this.$router.replace({ path: '/login' })\r\n          break\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    username () {\r\n      let { username } = JSON.parse(sessionStorage.getItem('user'))\r\n      return username.toUpperCase()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .btn-tool {\r\n    border: none;\r\n    background: transparent;\r\n    font-size: 18px;\r\n    padding: 5px 10px;\r\n    cursor: pointer;\r\n    outline: none;\r\n    text-align: left;\r\n  }\r\n  .user-name {\r\n    margin-left: 20px;\r\n  }\r\n  \r\n</style>\r\n<style>\r\n.index-box .el-header{\r\n    border-bottom: 1px solid black;\r\n  }\r\n  .index-box .el-aside {\r\n    background-color: #20222A;\r\n    height: 100% !important;\r\n    min-height: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./header.vue?vue&type=template&id=e8e64530&scoped=true&\"\nimport script from \"./header.vue?vue&type=script&lang=js&\"\nexport * from \"./header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./header.vue?vue&type=style&index=0&id=e8e64530&lang=scss&scoped=true&\"\nimport style1 from \"./header.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e8e64530\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <el-container class=\"index-box\">\r\n      <el-header>\r\n        <headers/>\r\n      </el-header>\r\n    \r\n    <el-container>\r\n      <el-aside width=\"asideWidth\" class=\"left-nav\">\r\n      <menus :isCollapse=\"isCollapse\"/>\r\n    </el-aside>\r\n      <el-main>\r\n        <router-view v-if=\"isRouterAlive\"/>\r\n      </el-main>\r\n    </el-container>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport Menus from '@/components/menus/menus'\r\nimport Headers from '@/components/header/header'\r\nexport default {\r\n  provide () {\r\n    return {\r\n      reload: this.reload\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      isRouterAlive: true\r\n    }\r\n  },\r\n  components: {\r\n    Menus,\r\n    Headers\r\n  },\r\n  methods: {\r\n    reload () {\r\n      this.isRouterAlive = false\r\n      this.$nextTick(() => {\r\n        this.isRouterAlive = true\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    isCollapse () {\r\n      return this.$store.state.isCollapse\r\n    },\r\n    asideWidth () {\r\n      return this.$store.state.isCollapse ? 'auto' : '200px'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.index-box {\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  height: 100%;\r\n  .el-container{\r\n    height: 100%;\r\n    .el-main {\r\n      height: 100%;\r\n    }\r\n  }\r\n  .el-aside {\r\n    background-color: #20222A;\r\n    height: 100vh;\r\n    min-height: 100%;\r\n    .logo {\r\n      background-color: #20222A;\r\n      color: rgba(255,255,255,.8);\r\n      text-align: center;\r\n      height: 60px;\r\n      padding-top: 16px;\r\n      font-size: 16px;\r\n      box-sizing: border-box;\r\n      border-bottom: 1px solid gray;\r\n    }\r\n  }\r\n  .el-header {\r\n    border-bottom: 1px solid #f6f6f6;\r\n    box-sizing: border-box;\r\n    background-color: #fff;\r\n    line-height: 60px;\r\n  }\r\n\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=0ea90604&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"console\"},[_vm._v(\" 待开发 \"),_c('conditional')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vue2-org-tree',{attrs:{\"data\":_vm.data,\"horizontal\":true,\"name\":\"test\",\"NodeClass\":_vm.NodeClass,\"judge\":_vm.judge,\"label-class-name\":_vm.labelClassName},on:{\"on-node-click\":_vm.openBox2,\"on-node-mouseover\":_vm.onMouseover,\"on-node-mouseout\":_vm.onMouseout}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <vue2-org-tree :data=\"data\" \r\n        :horizontal=\"true\" \r\n        name=\"test\" \r\n        :NodeClass=\"NodeClass\" \r\n        :judge=\"judge\" \r\n        :label-class-name=\"labelClassName\" \r\n  \r\n        @on-node-click=\"openBox2\" \r\n        @on-node-mouseover=\"onMouseover\" \r\n        @on-node-mouseout=\"onMouseout\" />\r\n        <!-- <div v-show=\"BasicSwich\" class=\"floating\">\r\n            <p>ID:{{BasicInfo.id}}</p>\r\n            <p>Name:{{BasicInfo.label}}</p>\r\n        </div> -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                BasicSwich: false,\r\n                BasicInfo: { id: null, label: null },\r\n                judge: { swtich: true },\r\n                NodeClass:[\r\n                    \"myred\",\r\n                    \"myger\",\r\n                    \"myblue\"\r\n                ],\r\n               \r\n                horizontal: false,\r\n                collapsable: true,\r\n                expandAll: false,\r\n                labelClassName: \"org-bg-res\"\r\n            };\r\n        },\r\n        props: ['data'],\r\n        created() {\r\n            this.expandChange();\r\n        },\r\n        methods: {\r\n            renderContent(h, data) {\r\n                return data.label;\r\n            },\r\n            onMouseout(e, data) {\r\n                this.BasicSwich = false;\r\n            },\r\n            onMouseover(e, data) { //鼠标悬浮事件\r\n                // this.BasicInfo = data;\r\n                // this.BasicSwich = true;\r\n                // var floating = document.getElementsByClassName(\"floating\")[0];\r\n                // floating.style.left = e.clientX+10 + \"px\";\r\n                // floating.style.top = e.clientY+10 + \"px\";\r\n            },\r\n            onExpand(e, data) {\r\n                if (\"expand\" in data) {\r\n                    data.expand = !data.expand;\r\n                    if (!data.expand && data.children) {\r\n                        this.collapse(data.children);\r\n                    }\r\n                } else {\r\n                    this.$set(data, \"expand\", true);\r\n                }\r\n            },\r\n            NodeClick(e, data) {\r\n                alert(data.label);\r\n                console.log(e, data);\r\n            },\r\n            collapse(list) {\r\n                var _this = this;\r\n                list.forEach(function(child) {\r\n                    if (child.expand) {\r\n                        child.expand = false;\r\n                    }\r\n                    child.children && _this.collapse(child.children);\r\n                });\r\n            },\r\n            expandChange() {\r\n                this.toggleExpand(this.data, true);\r\n            },\r\n            toggleExpand(data, val) {\r\n                var _this = this;\r\n                if (Array.isArray(data)) {\r\n                    data.forEach(function(item) {\r\n                        _this.$set(item, \"expand\", val);\r\n                        if (item.children) {\r\n                            _this.toggleExpand(item.children, val);\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.$set(data, \"expand\", val);\r\n                    if (data.children) {\r\n                        _this.toggleExpand(data.children, val);\r\n                    }\r\n                }\r\n            },\r\n                  openBox2(){\r\n                    this.$emit('openBox2');\r\n                  }\r\n        }\r\n    };\r\n</script>\r\n<style lang=\"less\" >\r\n.org-tree-container{\r\n  width: 100%;\r\n  background-color: #fff;\r\n}\r\n.org-tree-node-label-inner{\r\n  border-radius: 50%;\r\n}\r\n.myblue{\r\n    background: skyblue;\r\n    color: #fff;\r\n}\r\n.myred{\r\n    background-color: rgb(30, 132, 228);\r\n    color: #fff;\r\n    border: solid 1px #ccc;\r\n  border-radius:20px;\r\n  \r\n}\r\n.myger{\r\n    background: green;\r\n    color: #fff;\r\n}\r\n.org-bg-err {\r\n    background-color: tomato;\r\n    color: #fff;\r\n}\r\n.org-tree-node-label {\r\n    white-space: nowrap;\r\n}\r\n.bg-white {\r\n    background-color: white;\r\n}\r\n.org-bg-res {\r\n    background-color: orange;\r\n    color: #fff;\r\n    cursor: pointer;\r\n}\r\n.bg-gold {\r\n    background-color: gold;\r\n}\r\n.bg-gray {\r\n    background-color: gray;\r\n}\r\n.bg-lightpink {\r\n    background-color: lightpink;\r\n}\r\n.bg-chocolate {\r\n    background-color: chocolate;\r\n}\r\n.bg-tomato {\r\n    background-color: tomato;\r\n}\r\n.floating {\r\n    background: rgba(0, 0, 0, 0.7);\r\n    width: 160px;\r\n    height: 100px;\r\n    position: absolute;\r\n    color: #fff;\r\n    padding-top: 15px;\r\n    border-radius: 15px;\r\n    padding-left: 15px;\r\n    box-sizing: border-box;\r\n    left: 0;\r\n    top: 0;\r\n    transition: all 0.3s;\r\n    z-index: 999;\r\n    text-align: left;\r\n    font-size: 12px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./conditional.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./conditional.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./conditional.vue?vue&type=template&id=152c9934&\"\nimport script from \"./conditional.vue?vue&type=script&lang=js&\"\nexport * from \"./conditional.vue?vue&type=script&lang=js&\"\nimport style0 from \"./conditional.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"console\">\r\n    待开发\r\n    <conditional></conditional>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport conditional from \"../components/ef/conditional\"\r\nexport default {\r\n  data(){\r\n         return{\r\n         }\r\n     },\r\n components: {\r\n    conditional\r\n  },\r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .console {\r\n    // font-size: 30px;\r\n    // text-align: center;\r\n    // margin-top: 350px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Console.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Console.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Console.vue?vue&type=template&id=3c4e218c&scoped=true&\"\nimport script from \"./Console.vue?vue&type=script&lang=js&\"\nexport * from \"./Console.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Console.vue?vue&type=style&index=0&id=3c4e218c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c4e218c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-box\"},[_c('el-form',{ref:\"taskquerylist\",staticClass:\"el-find-from\",attrs:{\"model\":_vm.taskquerylist,\"inline\":true,\"label-width\":\"auto\"}},[_c('div',{staticClass:\"one\"},[_c('el-form-item',{attrs:{\"label\":\"任务名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入任务名称\",\"size\":\"small\"},model:{value:(_vm.taskquerylist.jobName),callback:function ($$v) {_vm.$set(_vm.taskquerylist, \"jobName\", $$v)},expression:\"taskquerylist.jobName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"创建人\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入任务名称\",\"size\":\"small\"},model:{value:(_vm.taskquerylist.createBy),callback:function ($$v) {_vm.$set(_vm.taskquerylist, \"createBy\", $$v)},expression:\"taskquerylist.createBy\"}})],1)],1),_c('div',{staticClass:\"one\"},[_c('el-form-item',{attrs:{\"label\":\"任务类别\"}},[_c('el-select',{attrs:{\"placeholder\":\"所有类别\",\"size\":\"small\"},model:{value:(_vm.taskquerylist.jobType),callback:function ($$v) {_vm.$set(_vm.taskquerylist, \"jobType\", $$v)},expression:\"taskquerylist.jobType\"}},[_c('el-option',{attrs:{\"label\":\"任务类别1\",\"value\":\"类别1\"}}),_c('el-option',{attrs:{\"label\":\"任务类别2\",\"value\":\"类别2\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"任务状态\"}},[_c('el-select',{attrs:{\"placeholder\":\"所有状态\",\"size\":\"small\"},model:{value:(_vm.taskquerylist.jobState),callback:function ($$v) {_vm.$set(_vm.taskquerylist, \"jobState\", $$v)},expression:\"taskquerylist.jobState\"}},_vm._l((_vm.options),function(option,i){return _c('el-option',{key:option,attrs:{\"label\":option,\"value\":i}})}),1)],1)],1),_c('div',{staticClass:\"one\"},[_c('el-form-item',{attrs:{\"label\":\"任务起止时间\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"size\":\"small\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}})],1)],1),_c('el-form-item',{staticClass:\"el-tasknature\",attrs:{\"label\":\"任务性质\"}},[_c('el-select',{attrs:{\"placeholder\":\"显示全部\",\"size\":\"small\"},model:{value:(_vm.taskquerylist.nature),callback:function ($$v) {_vm.$set(_vm.taskquerylist, \"nature\", $$v)},expression:\"taskquerylist.nature\"}},[_c('el-option',{attrs:{\"label\":\"正式任务\",\"value\":\"shanghai\"}}),_c('el-option',{attrs:{\"label\":\"测试任务\",\"value\":\"beijing\"}})],1)],1)],1)]),_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_c('div',{staticClass:\"tool-box\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-plus-outline\",\"size\":\"small\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"新增\")])],1)]),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"tool-box\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.defaultList}},[_vm._v(\"默认列表\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.queryList}},[_vm._v(\"查询\")])],1)])],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.users},on:{\"selection-change\":_vm.selectChange}},[_c('el-table-column',{attrs:{\"label\":\"ID\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.id))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"任务名称\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.jobName))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"任务类别\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.jobType))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"状态\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.state[scope.row.jobState].sta))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"开始时间\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.startTime))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"结束时间\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.endTime))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"创建人\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.createBy))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',[_vm._v(\"查看\"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('div',{staticClass:\"optiondiv\"},[_c('el-table',{staticStyle:{\"width\":\"100%\",\"border\":\"1px solid rgb(184, 178, 178)\",\"border-radius\":\"5px\"},attrs:{\"data\":_vm.state[scope.row.jobState].options,\"show-header\":false}},[_c('el-table-column',{staticClass:\"el-pointer\",attrs:{\"prop\":\"key\",\"width\":\"auto\"},on:{\"cell-click\":_vm.test}})],1)],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"background\":\"\",\"page-sizes\":[10, 20, 30, 50],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.lotalElements},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"user-box\">\r\n    <el-form\r\n      class=\"el-find-from\"\r\n      ref=\"taskquerylist\"\r\n      :model=\"taskquerylist\"\r\n      :inline=\"true\"\r\n      label-width=\"auto\"\r\n    >\r\n      <div class=\"one\">\r\n        <el-form-item label=\"任务名称\">\r\n          <el-input\r\n            v-model=\"taskquerylist.jobName\"\r\n            placeholder=\"请输入任务名称\"\r\n            size=\"small\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"创建人\">\r\n          <el-input\r\n            v-model=\"taskquerylist.createBy\"\r\n            placeholder=\"请输入任务名称\"\r\n            size=\"small\"\r\n          ></el-input>\r\n        </el-form-item>\r\n      </div>\r\n      <div class=\"one\">\r\n        <el-form-item label=\"任务类别\">\r\n          <el-select\r\n            v-model=\"taskquerylist.jobType\"\r\n            placeholder=\"所有类别\"\r\n            size=\"small\"\r\n          >\r\n            <el-option label=\"任务类别1\" value=\"类别1\"></el-option>\r\n            <el-option label=\"任务类别2\" value=\"类别2\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"任务状态\">\r\n          <el-select\r\n            v-model=\"taskquerylist.jobState\"\r\n            placeholder=\"所有状态\"\r\n            size=\"small\"\r\n          >\r\n            <el-option\r\n              :label=\"option\"\r\n              :value=\"i\"\r\n              v-for=\"(option, i) in options\"\r\n              :key=\"option\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </div>\r\n      <div class=\"one\">\r\n        <el-form-item label=\"任务起止时间\">\r\n          <el-col :span=\"11\">\r\n            <el-date-picker\r\n              v-model=\"time\"\r\n              type=\"daterange\"\r\n              range-separator=\"至\"\r\n              start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\"\r\n              size=\"small\"\r\n              value-format=\"yyyy-MM-dd\"\r\n            >\r\n            </el-date-picker>\r\n          </el-col>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"任务性质\" class=\"el-tasknature\">\r\n          <el-select\r\n            v-model=\"taskquerylist.nature\"\r\n            placeholder=\"显示全部\"\r\n            size=\"small\"\r\n          >\r\n            <el-option label=\"正式任务\" value=\"shanghai\"></el-option>\r\n            <el-option label=\"测试任务\" value=\"beijing\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </div>\r\n    </el-form>\r\n    <el-row>\r\n      <el-col :span=\"20\">\r\n        <div class=\"tool-box\">\r\n          <el-button\r\n            type=\"primary\"\r\n            icon=\"el-icon-circle-plus-outline\"\r\n            size=\"small\"\r\n            @click=\"handleAdd\"\r\n            >新增</el-button\r\n          >\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"4\">\r\n        <div class=\"tool-box\">\r\n          <el-button type=\"primary\" size=\"small\" @click=\"defaultList\"\r\n            >默认列表</el-button\r\n          >\r\n          <el-button type=\"primary\" size=\"small\" @click=\"queryList\"\r\n            >查询</el-button\r\n          >\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <!-- :data=\"users.slice((currentPage-1)*pageSize,currentPage*pageSize)\" -->\r\n    <el-table\r\n      :data=\"users\"\r\n      @selection-change=\"selectChange\"\r\n      style=\"width: 100%\"\r\n    >\r\n      <el-table-column label=\"ID\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.id }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"任务名称\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.jobName }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"任务类别\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.jobType }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"状态\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ state[scope.row.jobState].sta }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"开始时间\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.startTime }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"结束时间\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.endTime }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"创建人\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.createBy }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" fixed=\"right\">\r\n        <template slot-scope=\"scope\" style=\"position:relative\">\r\n          <!-- {{state[scope.row.jobState].options}} -->\r\n          <!-- <el-dropdown\r\n            size=\"medium\"\r\n            split-button\r\n            type=\"primary\"\r\n            @command=\"doOptions()\"\r\n          >\r\n            查看\r\n            <el-dropdown-menu slot=\"dropdown\">\r\n              <el-dropdown-item\r\n                :command=\"[scope.row.id,sco.value]\"\r\n                @click=\"test\"\r\n                v-for=\"(sco, i) in state[scope.row.jobState].options\"\r\n                :key=\"i\"\r\n                >{{ sco.key }}</el-dropdown-item\r\n              >\r\n            </el-dropdown-menu>\r\n          </el-dropdown> -->\r\n          <el-button\r\n      >查看<i class=\"el-icon-arrow-down el-icon--right\"></i\r\n    ></el-button>\r\n    <div class=\"optiondiv\">\r\n      <el-table\r\n        :data=\"state[scope.row.jobState].options\"\r\n        :show-header=\"false\"\r\n        style=\"width: 100%; border: 1px solid rgb(184, 178, 178); border-radius: 5px\"\r\n      >\r\n        <el-table-column prop=\"key\" width=\"auto\" class=\"el-pointer\" @cell-click=\"test\">\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"currentPage\"\r\n      background\r\n      :page-sizes=\"[10, 20, 30, 50]\"\r\n      :page-size=\"pageSize\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"lotalElements\"\r\n    >\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      IdOrName: \"\",\r\n      currentPage: 1, //初始页\r\n      pageSize: 10, //    每页的数据\r\n      options: [\r\n        \"编辑中\",\r\n        \"待审批\",\r\n        \"审批中\",\r\n        \"待执行\",\r\n        \"执行中\",\r\n        \"已中止\",\r\n        \"已停止\",\r\n        \"已完成\",\r\n        \"已到期\",\r\n      ],\r\n      state: [\r\n        {\r\n          sta: \"编辑中\",\r\n          options: [\r\n            { key: \"复制\", value: 1 },\r\n            { key: \"编辑\", value: 2 },\r\n            { key: \"发布\", value: 3 },\r\n          ],\r\n        },\r\n        { sta: \"待审批\", options: [{ key: \"复制\", value: 1 }] },\r\n        { sta: \"审批中\", options: [{ key: \"复制\", value: 1 }] },\r\n        { sta: \"待执行\", options: [{ key: \"复制\", value: 1 }] },\r\n        {\r\n          sta: \"执行中\",\r\n          options: [\r\n            { key: \"复制\", value: 1 },\r\n            { key: \"中止任务\", value: 4 },\r\n            { key: \"强制中止\", value: 5 },\r\n          ],\r\n        },\r\n        { sta: \"已中止\", options: [{ key: \"复制\", value: 1 }] },\r\n        { sta: \"已停止\", options: [{ key: \"复制\", value: 1 }] },\r\n        { sta: \"已完成\", options: [{ key: \"复制\", value: 1 }] },\r\n        { sta: \"已到期\", options: [{ key: \"复制\", value: 1 }] },\r\n      ],\r\n      lotalElements:0,\r\n      time: \"\",\r\n      users: [],\r\n      user: {\r\n        id: \"\",\r\n        date: \"\",\r\n        name: \"\",\r\n        phone: \"\",\r\n        address: \"\",\r\n        status: 0,\r\n      },\r\n      taskquerylist: {\r\n        jobName: \"\",\r\n        jobType: \"\",\r\n        endTime: \"\",\r\n        startTime: \"\",\r\n        createBy: \"\",\r\n        jobState: \"\",\r\n        property: \"\",\r\n        page: \"1\", \r\n        pageSize: \"10\",\r\n      },\r\n      userBackup: Object.assign({}, this.user),\r\n      multipleSelection: [],\r\n      userFormVisible: false,\r\n      dialogTitle: \"\",\r\n      rowIndex: 9999,\r\n      rules: {\r\n        name: [\r\n          { required: true, message: \"请输入姓名\", trigger: \"blur\" },\r\n          { min: 2, max: 5, message: \"长度在 2 到 5 个字符\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getUsers(1,10);\r\n  },\r\n  methods: {\r\n    test(){\r\n      console.log(\"xx\")\r\n    },\r\n    // 初始页currentPage、初始每页数据数pageSize和数据data\r\n    handleSizeChange: function (size) {\r\n      this.pageSize = size;\r\n      this.getUsers(1,size)\r\n    },\r\n    handleCurrentChange: function (currentPage) {\r\n      this.currentPage = currentPage;\r\n      this.getUsers(currentPage,10)\r\n    },\r\n    skipoptions() {\r\n      this.$message(\"查看\");\r\n    },\r\n    handleCommand(command) {\r\n      this.$message(command);\r\n    },\r\n    defaultList() {\r\n      (this.taskquerylist = {\r\n        jobName: \"\",\r\n        jobType: \"\",\r\n        endTime: \"\",\r\n        startTime: \"\",\r\n        createBy: \"\",\r\n        jobState: \"\",\r\n        property: \"\",\r\n      }),\r\n        (this.time = \"\"),\r\n        this.getUsers(1,10);\r\n    },\r\n    queryList() {\r\n      if(this.time===\"\"){\r\n        this.taskquerylist.startTime=\"\"\r\n        this.taskquerylist.endTime=\"\"\r\n      }else{\r\n      this.taskquerylist.startTime = this.time[0];\r\n      this.taskquerylist.endTime = this.time[1];\r\n      }\r\n      this.$http({\r\n        method: \"POST\",\r\n        url: \"http://192.168.1.47:8888/listPage\",\r\n        data: this.taskquerylist,\r\n      })\r\n        .then((res) => {\r\n          this.users = res.data.content;\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    dianji() {\r\n      this.$message(\"这是一条消息提示\");\r\n    },\r\n    //对应操作触发的方法,第一个参数是操作对应的value，第二个是id\r\n    doOptions(command){\r\n      console.log(command)\r\n      //为2表示编辑\r\n      // if(value===2){\r\n      //   this.$http({\r\n      //   method: \"POST\",\r\n      //   url: \"http://192.168.1.47:8888/selectById\",\r\n      //   data: {\r\n      //     id:id,\r\n      //   },\r\n      // })\r\n      //   .then((res) => {\r\n      //     console.log(res,data);\r\n      //   })\r\n      //   .catch((err) => {\r\n      //     console.error(err);\r\n      //   });\r\n      // }\r\n    },\r\n    getUsers(page,pageSize) {\r\n      this.loading = true;\r\n      this.$http({\r\n        method: \"POST\",\r\n        url: \"http://192.168.1.47:8888/listPage\",\r\n        data: {\r\n          page:page,\r\n          pageSize:pageSize\r\n        },\r\n      })\r\n      // this.$http(\"/api/defaultList\")\r\n        .then((res) => {\r\n          console.log(res.data.content)\r\n          this.users = res.data.content;\r\n          this.lotalElements=res.data.lotalElements\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    handleEdit(index, row) {\r\n      this.dialogTitle = \"编辑\";\r\n      this.user = Object.assign({}, row);\r\n      this.userFormVisible = true;\r\n      this.rowIndex = index;\r\n    },\r\n    handleDelete(index, row) {\r\n      this.$confirm(`确定删除用户 【${row.name}】 吗?`, \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          this.users.splice(index, 1);\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"删除成功!\",\r\n          });\r\n        })\r\n        .catch(() => {\r\n          console.log(\"取消删除\");\r\n        });\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].clearValidate();\r\n    },\r\n    mulDelete() {\r\n      let len = this.multipleSelection.length;\r\n      if (len === 0) {\r\n        this.$message({\r\n          type: \"warning\",\r\n          message: \"请至少选择一项！\",\r\n        });\r\n      } else {\r\n        this.$confirm(`确定删除选中的 ${len} 个用户吗？`, \"提示\", {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        })\r\n          .then(() => {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: `成功删除了${len}条数据！`,\r\n            });\r\n          })\r\n          .catch(() => {\r\n            console.log(\"取消删除\");\r\n          });\r\n      }\r\n    },\r\n    selectChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    handleAdd() {\r\n      this.dialogTitle = \"新增\";\r\n      this.user = Object.assign({}, this.userBackup);\r\n      this.userFormVisible = true;\r\n      this.$router.push({ path: \"/Panel\", query: { id: \"1\" } });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.user-box {\r\n  width: 100%;\r\n\r\n  .tool-box {\r\n    padding: 10px 10px;\r\n    border-bottom: 1px solid #eee;\r\n  }\r\n\r\n  .el-pagination {\r\n    margin-top: 20px;\r\n  }\r\n  .el-find-from {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex: wrap;\r\n    flex-wrap: wrap;\r\n    height: 110px;\r\n    .one {\r\n      display: flex;\r\n      flex-direction: column;\r\n      height: 100%;\r\n      justify-content: last baseline;\r\n      align-items: flex-end;\r\n    }\r\n    .el-tasknature {\r\n      position: relative;\r\n      right: 140px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style>\r\n.optiondiv {\r\n  position: absolute;\r\n  width: 89px;\r\n  height: auto;\r\n}\r\n.el-pointer:hover {\r\n  cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=2b833cde&scoped=true&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Users.vue?vue&type=style&index=0&id=2b833cde&lang=scss&scoped=true&\"\nimport style1 from \"./Users.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b833cde\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-box\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.articles}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标题\",\"width\":\"480\"}}),_c('el-table-column',{attrs:{\"prop\":\"author\",\"label\":\"作者\",\"width\":\"280\"}}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"date\",\"label\":\"日期\",\"width\":\"280\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.status ? '已发布' : '未发布')+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{attrs:{\"background\":\"\",\"page-sizes\":[10, 20, 30, 50],\"page-size\":20,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":400}}),_c('el-dialog',{attrs:{\"title\":\"编辑\",\"visible\":_vm.articleFormVisible,\"top\":\"10vh\"},on:{\"update:visible\":function($event){_vm.articleFormVisible=$event},\"close\":function($event){return _vm.resetForm('articleForm')}}},[_c('el-form',{ref:\"articleForm\",attrs:{\"model\":_vm.article,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"title\",\"label-width\":\"50px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.article.title),callback:function ($$v) {_vm.$set(_vm.article, \"title\", $$v)},expression:\"article.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"作者\",\"label-width\":\"50px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.article.author),callback:function ($$v) {_vm.$set(_vm.article, \"author\", $$v)},expression:\"article.author\"}})],1),_c('el-form-item',{attrs:{\"label\":\"日期\",\"label-width\":\"50px\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"placeholder\":\"选择日期\"},model:{value:(_vm.article.date),callback:function ($$v) {_vm.$set(_vm.article, \"date\", $$v)},expression:\"article.date\"}})],1),_c('el-form-item',{attrs:{\"label\":\"状态\",\"label-width\":\"50px\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"active-value\":1,\"inactive-value\":0},model:{value:(_vm.article.status),callback:function ($$v) {_vm.$set(_vm.article, \"status\", $$v)},expression:\"article.status\"}})],1),_c('el-form-item',[_c('quill-editor',{ref:\"TextEditor\",attrs:{\"options\":_vm.editorOption},model:{value:(_vm.article.content),callback:function ($$v) {_vm.$set(_vm.article, \"content\", $$v)},expression:\"article.content\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.articleFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.editArticle('articleForm')}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"article-box\">\r\n    <el-table\r\n      :data=\"articles\"\r\n      style=\"width: 100%\">\r\n      <el-table-column\r\n        type=\"selection\"\r\n        width=\"55\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"title\"\r\n        label=\"标题\"\r\n        width=\"480\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"author\"\r\n        label=\"作者\"\r\n        width=\"280\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        sortable\r\n        prop=\"date\"\r\n        label=\"日期\"\r\n        width=\"280\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"状态\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.status ? '已发布' : '未发布' }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" fixed=\"right\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"primary\"\r\n            plain\r\n            @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"danger\"\r\n            @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n      background\r\n      :page-sizes=\"[10, 20, 30, 50]\"\r\n      :page-size=\"20\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"400\">\r\n    </el-pagination>\r\n    <el-dialog title=\"编辑\" :visible.sync=\"articleFormVisible\" top=\"10vh\" @close=\"resetForm('articleForm')\">\r\n      <el-form :model=\"article\" ref=\"articleForm\" :rules=\"rules\">\r\n        <el-form-item label=\"标题\" prop=\"title\" label-width=\"50px\">\r\n          <el-input v-model=\"article.title\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"作者\" label-width=\"50px\">\r\n          <el-input v-model=\"article.author\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"日期\" label-width=\"50px\">\r\n          <el-date-picker\r\n            v-model=\"article.date\"\r\n            type=\"date\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            placeholder=\"选择日期\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"状态\" label-width=\"50px\">\r\n          <el-switch v-model=\"article.status\" active-color=\"#13ce66\"\r\n            inactive-color=\"#ff4949\"\r\n            :active-value=\"1\"\r\n            :inactive-value=\"0\"></el-switch>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <quill-editor ref=\"TextEditor\"\r\n              v-model=\"article.content\"\r\n              :options=\"editorOption\">\r\n          </quill-editor>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"articleFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editArticle('articleForm')\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 引入富文本编辑器所需样式\r\nimport 'quill/dist/quill.core.css'\r\nimport 'quill/dist/quill.snow.css'\r\nimport 'quill/dist/quill.bubble.css'\r\n\r\nimport { quillEditor } from 'vue-quill-editor'\r\nexport default {\r\n  data () {\r\n    return {\r\n      articles: [],\r\n      article: {\r\n        id: '',\r\n        date: '',\r\n        title: '',\r\n        author: '',\r\n        content: '',\r\n        status: 0\r\n      },\r\n      articleFormVisible: false,\r\n      rowIndex: 9999,\r\n      editorOption: {\r\n        modules: {\r\n          toolbar: [\r\n            ['bold', 'italic', 'underline', 'strike', 'link'],\r\n            ['image', 'clean']\r\n          ]\r\n        },\r\n        placeholder: '请输入文章内容...',\r\n        theme: 'snow'\r\n      },\r\n      rules: {\r\n        title: [\r\n          { required: true, message: '请输入标题', trigger: 'blur' },\r\n          { min: 5, max: 25, message: '长度在 5 到 25 个字符', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    quillEditor\r\n  },\r\n  mounted () {\r\n    this.getArticles()\r\n  },\r\n  methods: {\r\n    getArticles () {\r\n      this.loading = true\r\n      this.$http('/api/articles').then((res) => {\r\n        this.articles = res.data\r\n      }).catch((err) => {\r\n        console.error(err)\r\n      })\r\n    },\r\n    handleEdit (index, row) {\r\n      this.article = Object.assign({}, row)\r\n      this.articleFormVisible = true\r\n      this.rowIndex = index\r\n    },\r\n    editArticle (formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          this.articles.splice(this.rowIndex, 1, this.article)\r\n          this.articleFormVisible = false\r\n          this.$message({\r\n            type: 'success',\r\n            message: '修改成功!'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    handleDelete (index, row) {\r\n      this.$confirm(`确定删除新闻 【${row.title}】 吗?`, '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.articles.splice(index, 1)\r\n        this.$message({\r\n          type: 'success',\r\n          message: '删除成功!'\r\n        })\r\n      }).catch(() => {\r\n        console.log('取消删除')\r\n      })\r\n    },\r\n    resetForm (formName) {\r\n      this.$refs[formName].clearValidate()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .article-box {\r\n    width: 100%;}\r\n    .el-pagination {\r\n      margin-top: 20px;\r\n    }\r\n    .quill-editor {\r\n      height: 300px;\r\n      margin-bottom: 20px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Articles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Articles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Articles.vue?vue&type=template&id=46970a12&scoped=true&\"\nimport script from \"./Articles.vue?vue&type=script&lang=js&\"\nexport * from \"./Articles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Articles.vue?vue&type=style&index=0&id=46970a12&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46970a12\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-box\"},[_c('el-form',{ref:\"loginForm\",staticClass:\"login-form\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.rules}},[_c('h3',{staticClass:\"title\"},[_vm._v(\"系 统 登 录\")]),_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"账 号: admin\",\"prefix-icon\":\"el-icon-goods\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":_vm.textType,\"autocomplete\":\"off\",\"placeholder\":\"密 码: admin\",\"prefix-icon\":\"el-icon-time\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login('loginForm')}},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}},[_c('i',{staticClass:\"el-input__icon el-icon-view btn-eye\",attrs:{\"slot\":\"suffix\"},on:{\"click\":_vm.changeType},slot:\"suffix\"})])],1),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showMsg),expression:\"showMsg\"}],staticStyle:{\"margin-bottom\":\"0\"}},[_c('span',{staticClass:\"text-danger\"},[_vm._v(\"提示：用户名或密码错误，请重试！\")])]),_c('el-form-item',[_c('el-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"login-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.login('loginForm')}}},[_vm._v(\"登 录\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-box\">\r\n    <el-form :model=\"loginForm\" :rules=\"rules\" ref=\"loginForm\" class=\"login-form\">\r\n      <h3 class=\"title\">系 统 登 录</h3>\r\n      <el-form-item prop=\"username\">\r\n        <el-input\r\n          v-model=\"loginForm.username\"\r\n          autocomplete=\"off\"\r\n          placeholder=\"账 号: admin\"\r\n          prefix-icon=\"el-icon-goods\">\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item prop=\"password\">\r\n        <el-input :type=\"textType\"\r\n          v-model=\"loginForm.password\"\r\n          @keyup.native.enter=\"login('loginForm')\"\r\n          autocomplete=\"off\"\r\n          placeholder=\"密 码: admin\"\r\n          prefix-icon=\"el-icon-time\">\r\n          <i slot=\"suffix\" class=\"el-input__icon el-icon-view btn-eye\" @click=\"changeType\"></i>\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item v-show=\"showMsg\" style=\"margin-bottom:0;\">\r\n        <span class=\"text-danger\">提示：用户名或密码错误，请重试！</span>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"login('loginForm')\" class=\"login-btn\" v-loading=\"loading\">登 录</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      loginForm: {\r\n        username: '',\r\n        password: ''\r\n      },\r\n      rules: {\r\n        username: [\r\n          { required: true, message: ' ', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: true, message: ' ', trigger: 'blur' }\r\n        ]\r\n      },\r\n      loading: false,\r\n      showMsg: false,\r\n      textType: 'password'\r\n    }\r\n  },\r\n  methods: {\r\n    login (formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          this.loading = true\r\n          this.$http.post('/api/login', this.loginForm).then((res) => {\r\n            if (res.data) {\r\n              // 延迟两秒，演示登录按钮加载效果\r\n              setTimeout(() => {\r\n                this.loading = false\r\n                sessionStorage.setItem('user', JSON.stringify(this.loginForm))\r\n                this.$router.replace({ path: '/console' })\r\n              }, 2000)\r\n            } else {\r\n              this.loading = false\r\n              this.showMsg = true\r\n            }\r\n          })\r\n        } else {\r\n          console.log('login failed')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    changeType () {\r\n      this.textType = (this.textType === 'password' ? 'text' : 'password')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login-box {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  background: #20222A;\r\n  .login-form {\r\n    border-radius: 5px;\r\n    background-clip: padding-box;\r\n    margin: 180px auto;\r\n    width: 350px;\r\n    padding: 35px 35px 15px 35px;\r\n    background: #f5f5f5;\r\n    border: 1px solid #eaeaea;\r\n    box-shadow: 0 0 5px #cac6c6;\r\n    .title {\r\n      margin: 0px auto 40px auto;\r\n      text-align: center;\r\n      color: #505458;\r\n    }\r\n    .btn-eye {\r\n      cursor: pointer;\r\n    }\r\n    .text-danger {\r\n      color: #F56C6C;\r\n    }\r\n    .login-btn {\r\n      margin: 35px 0 10px 0;\r\n      width: 100%;\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=33995f29&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=33995f29&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33995f29\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mail-box\"},[_c('el-row',{staticClass:\"row-bg\",attrs:{\"type\":\"flex\",\"justify\":\"end\"}},[_c('el-col',{attrs:{\"span\":4}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择发送次数\"},model:{value:(_vm.sendCount),callback:function ($$v) {_vm.sendCount=$$v},expression:\"sendCount\"}},_vm._l((_vm.sendCountList),function(item){return _c('el-option',{key:item.key,attrs:{\"label\":item.label,\"value\":item.key}})}),1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择发送状态\"},model:{value:(_vm.mailStatusSNMP),callback:function ($$v) {_vm.mailStatusSNMP=$$v},expression:\"mailStatusSNMP\"}},_vm._l((_vm.mailStatusList),function(item){return _c('el-option',{key:item.key,attrs:{\"label\":item.label,\"value\":item.key}})}),1)],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.getmails()}}},[_vm._v(\"搜索\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.mails}},[_c('el-table-column',{attrs:{\"prop\":\"mailSubject\",\"align\":\"center\",\"label\":\"主题 \",\"width\":\"230\"}}),_c('el-table-column',{attrs:{\"prop\":\"fromMail\",\"align\":\"center\",\"label\":\"发件人\",\"width\":\"290\"}}),_c('el-table-column',{attrs:{\"prop\":\"toMail\",\"align\":\"center\",\"label\":\"收件人\",\"width\":\"290\"}}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"sendTime\",\"align\":\"center\",\"label\":\"发送时间\",\"width\":\"290\"}}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"status\",\"align\":\"center\",\"label\":\"发送状态\",\"width\":\"170\"}}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"sendNum\",\"align\":\"center\",\"label\":\"发送次数\",\"width\":\"170\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"170\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"查看\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.currentPage,\"page-sizes\":[10, 20, 30, 50],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}}),_c('el-dialog',{attrs:{\"title\":\"查看邮件详细信息\",\"visible\":_vm.mailFormVisible,\"top\":\"10vh\"},on:{\"update:visible\":function($event){_vm.mailFormVisible=$event},\"close\":function($event){return _vm.resetForm('mailForm')}}},[_c('el-form',{ref:\"mailForm\",attrs:{\"model\":_vm.mail}},[_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"mailSubject\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"readonly\":\"\"},model:{value:(_vm.mail.mailSubject),callback:function ($$v) {_vm.$set(_vm.mail, \"mailSubject\", $$v)},expression:\"mail.mailSubject\"}})],1),_c('el-form-item',{attrs:{\"label\":\"发件人\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"readonly\":\"\"},model:{value:(_vm.mail.fromMail),callback:function ($$v) {_vm.$set(_vm.mail, \"fromMail\", $$v)},expression:\"mail.fromMail\"}})],1),_c('el-form-item',{attrs:{\"label\":\"抄送人\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"readonly\":\"\"},model:{value:(_vm.mail.ccMail),callback:function ($$v) {_vm.$set(_vm.mail, \"ccMail\", $$v)},expression:\"mail.ccMail\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密送人\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"readonly\":\"\"},model:{value:(_vm.mail.bccMail),callback:function ($$v) {_vm.$set(_vm.mail, \"bccMail\", $$v)},expression:\"mail.bccMail\"}})],1),_c('el-form-item',{attrs:{\"label\":\"收件人\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"readonly\":\"\"},model:{value:(_vm.mail.toMail),callback:function ($$v) {_vm.$set(_vm.mail, \"toMail\", $$v)},expression:\"mail.toMail\"}})],1),_c('el-form-item',{attrs:{\"label\":\"计划发送时间\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"readonly\":\"\"},model:{value:(_vm.mail.planSendTime),callback:function ($$v) {_vm.$set(_vm.mail, \"planSendTime\", $$v)},expression:\"mail.planSendTime\"}})],1),_c('el-form-item',{attrs:{\"label\":\"发送时间\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"readonly\":\"\"},model:{value:(_vm.mail.sendTime),callback:function ($$v) {_vm.$set(_vm.mail, \"sendTime\", $$v)},expression:\"mail.sendTime\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮件正文\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"readonly\":\"\"},model:{value:(_vm.mail.mailContent),callback:function ($$v) {_vm.$set(_vm.mail, \"mailContent\", $$v)},expression:\"mail.mailContent\"}})],1),_c('el-form-item',{attrs:{\"label\":\"服务器标识\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"readonly\":\"\"},model:{value:(_vm.mail.serverFlag),callback:function ($$v) {_vm.$set(_vm.mail, \"serverFlag\", $$v)},expression:\"mail.serverFlag\"}})],1),_c('el-form-item',{attrs:{\"label\":\"发送状态\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"readonly\":\"\"},model:{value:(_vm.mail.status),callback:function ($$v) {_vm.$set(_vm.mail, \"status\", $$v)},expression:\"mail.status\"}})],1),_c('el-form-item',{attrs:{\"label\":\"发送次数\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"readonly\":\"\"},model:{value:(_vm.mail.sendNum),callback:function ($$v) {_vm.$set(_vm.mail, \"sendNum\", $$v)},expression:\"mail.sendNum\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"mail-box\">\r\n    <el-row  type=\"flex\"  class=\"row-bg\" justify=\"end\">\r\n      <el-col :span=\"4\">\r\n        <el-select v-model=\"sendCount\" clearable  placeholder=\"请选择发送次数\">\r\n          <el-option\r\n            v-for=\"item in sendCountList\"\r\n            :key=\"item.key\"\r\n            :label=\"item.label\"\r\n            :value=\"item.key\">\r\n          </el-option>\r\n        </el-select>\r\n      </el-col>\r\n      <el-col :span=\"4\">\r\n        <el-select v-model=\"mailStatusSNMP\" clearable  placeholder=\"请选择发送状态\">\r\n          <el-option\r\n            v-for=\"item in mailStatusList\"\r\n            :key=\"item.key\"\r\n            :label=\"item.label\"\r\n            :value=\"item.key\">\r\n          </el-option>\r\n        </el-select>\r\n      </el-col>\r\n      <el-col :span=\"2\">\r\n        <el-button  type=\"primary\" icon=\"el-icon-search\" @click=\"getmails()\">搜索</el-button>\r\n      </el-col>\r\n    </el-row>\r\n    <el-table\r\n      :data=\"mails\"\r\n      style=\"width: 100%\">\r\n      <el-table-column\r\n        prop=\"mailSubject\"\r\n        align=\"center\"\r\n        label=\"主题 \"\r\n        width=\"230\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"fromMail\"\r\n        align=\"center\"\r\n        label=\"发件人\"\r\n        width=\"290\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"toMail\"\r\n        align=\"center\"\r\n        label=\"收件人\"\r\n        width=\"290\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        sortable\r\n        prop=\"sendTime\"\r\n        align=\"center\"\r\n        label=\"发送时间\"\r\n        width=\"290\">\r\n        <!--        :formatter=\"dateFormat\"-->\r\n      </el-table-column>\r\n      <el-table-column\r\n        sortable\r\n        prop=\"status\"\r\n        align=\"center\"\r\n        label=\"发送状态\"\r\n        width=\"170\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        sortable\r\n        prop=\"sendNum\"\r\n        align=\"center\"\r\n        label=\"发送次数\"\r\n        width=\"170\">\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" fixed=\"right\" width=\"170\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"primary\"\r\n            plain\r\n            @click=\"handleEdit(scope.$index, scope.row)\">查看</el-button>\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"danger\"\r\n            @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n      background\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page.sync=\"currentPage\"\r\n      :page-sizes=\"[10, 20, 30, 50]\"\r\n      :page-size=\"pageSize\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"total\">\r\n    </el-pagination>\r\n    <el-dialog title=\"查看邮件详细信息\" :visible.sync=\"mailFormVisible\" top=\"10vh\" @close=\"resetForm('mailForm')\">\r\n      <el-form :model=\"mail\" ref=\"mailForm\" >\r\n        <el-form-item label=\"标题\" prop=\"mailSubject\" label-width=\"100px\">\r\n          <el-input v-model=\"mail.mailSubject\" autocomplete=\"off\" readonly></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"发件人\" label-width=\"100px\">\r\n          <el-input v-model=\"mail.fromMail\" autocomplete=\"off\" readonly></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"抄送人\" label-width=\"100px\">\r\n          <el-input v-model=\"mail.ccMail\" autocomplete=\"off\" readonly></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密送人\" label-width=\"100px\">\r\n          <el-input v-model=\"mail.bccMail\" autocomplete=\"off\" readonly></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"收件人\" label-width=\"100px\">\r\n          <el-input v-model=\"mail.toMail\" autocomplete=\"off\" readonly></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"计划发送时间\" label-width=\"100px\">\r\n          <el-input v-model=\"mail.planSendTime\" autocomplete=\"off\" readonly></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"发送时间\" label-width=\"100px\">\r\n          <el-input v-model=\"mail.sendTime\"  autocomplete=\"off\" readonly></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮件正文\" label-width=\"100px\">\r\n          <el-input v-model=\"mail.mailContent\"  autocomplete=\"off\" readonly></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"服务器标识\" label-width=\"100px\">\r\n          <el-input v-model=\"mail.serverFlag\"  autocomplete=\"off\" readonly></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"发送状态\" label-width=\"100px\">\r\n          <el-input v-model=\"mail.status\"  autocomplete=\"off\" readonly></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"发送次数\" label-width=\"100px\">\r\n          <el-input v-model=\"mail.sendNum\"  autocomplete=\"off\" readonly></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  // 引入富文本编辑器所需样式\r\n  import 'quill/dist/quill.core.css'\r\n  import 'quill/dist/quill.snow.css'\r\n  import 'quill/dist/quill.bubble.css'\r\n  import moment from 'moment'\r\n\r\n  export default {\r\n    data () {\r\n      return {\r\n        mails: [],\r\n        total:0,//默认数据总数\r\n        currentPage:1,//默认开始页面\r\n        pageSize:10,\r\n        mail: {\r\n          id: '',\r\n          sendTime: '',\r\n          mailSubject: '',\r\n          frommail: '',\r\n          tomail: '',\r\n          status: '已发送',\r\n          sendNum:''\r\n        },\r\n        mailStatusList: [\r\n          {\r\n            key: '0',\r\n            label: '计划邮件'\r\n          },\r\n          {\r\n            key: '1',\r\n            label: '已发送'\r\n          },\r\n          {\r\n            key: '2',\r\n            label: '发送失败'\r\n          }\r\n        ],\r\n        mailStatusSNMP:'',\r\n        sendCountList: [\r\n          {\r\n            key: '1',\r\n            label: '一次'\r\n          },\r\n          {\r\n            key: '2',\r\n            label: '两次'\r\n          },\r\n          {\r\n            key: '3',\r\n            label: '三次'\r\n          }\r\n        ],\r\n        sendCount: '',\r\n\r\n        mailFormVisible: false,\r\n        rowIndex: 9999,\r\n      }\r\n    },\r\n    components: {\r\n      // quillEditor\r\n    },\r\n    mounted () {\r\n      this.getmails()\r\n    },\r\n    methods: {\r\n      getmails () {\r\n        let postData = this.$qs.stringify({\r\n          page:this.currentPage,\r\n          rows:this.pageSize,\r\n          status: this.mailStatusSNMP,\r\n          sendCount: this.sendCount\r\n        });\r\n        this.loading = true;\r\n        this.$http({method:\"post\",url:'http://localhost:8086/mail/page',data:postData}).then((res) => {\r\n          console.log(res.data);\r\n          if (res.data == ''){\r\n            this.mails= [];\r\n            this.total=0;\r\n          }else {\r\n            let chan=res.data.items.length;\r\n            for (let i = 0; i < chan; i++) {\r\n              if (res.data.items[i].status==0){\r\n                res.data.items[i].status=\"待发送\";\r\n                res.data.items[i].sendTime=moment(res.data.items[i].sendTime).format(\"YYYY-MM-DD HH:mm:ss\")\r\n              }else if (res.data.items[i].status==1){\r\n                res.data.items[i].status=\"已发送\";\r\n                res.data.items[i].sendTime=moment(res.data.items[i].sendTime).format(\"YYYY-MM-DD HH:mm:ss\")\r\n              } else if (res.data.items[i].status==2) {\r\n                res.data.items[i].status=\"发送失败\";\r\n                res.data.items[i].sendTime=moment(res.data.items[i].sendTime).format(\"YYYY-MM-DD HH:mm:ss\")\r\n              }\r\n            }\r\n            this.mails = res.data.items;\r\n            this.total= res.data.total\r\n          }\r\n        }).catch((err) => {\r\n          console.error(err)\r\n        })\r\n      },\r\n\r\n      //时间格式化\r\n      dateFormat:function(row,column){        \r\n        var date = row[column.property];        \r\n        if(date == undefined){return ''};        \r\n        return moment(date).format(\"YYYY-MM-DD HH:mm:ss\")    \r\n      },\r\n      handleSizeChange(val) {\r\n        console.log(`每页 ${val} 条`);\r\n        this.pageSize=val;\r\n        this.getmails()\r\n      },\r\n      handleCurrentChange(val) {\r\n        console.log(`当前页: ${val}`);\r\n        this.currentPage=val;\r\n        this.getmails();\r\n      },\r\n\r\n      handleEdit (index, row) {\r\n        this.mail = Object.assign({}, row)\r\n        this.mailFormVisible = true\r\n        this.rowIndex = index\r\n      },\r\n      editmail (formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            this.mails.splice(this.rowIndex, 1, this.mail)\r\n            this.mailFormVisible = false\r\n            this.$message({\r\n              type: 'success',\r\n              message: '修改成功!'\r\n            })\r\n          }\r\n        })\r\n      },\r\n\r\n      handleDelete (index, row) {\r\n        this.$confirm(`确定删除新闻 【${row.mailSubject}】 吗?`, '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          console.log(index,row);\r\n          console.log(row.id);\r\n\r\n          let delData = this.$qs.stringify({\r\n            mailId: row.id,\r\n          });\r\n          this.$http({method:\"post\",url:'http://localhost:8086/mail/delete',data:delData}).then(() => {\r\n            this.mails.splice(index, 1);\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功!'\r\n            })\r\n          }).catch((err) => {\r\n            console.error('删除失败')\r\n          });\r\n        }).catch(() => {\r\n          console.log('取消删除')\r\n        })\r\n      },\r\n      resetForm (formName) {\r\n        this.$refs[formName].clearValidate()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .mail-box {\r\n    width: 100%;\r\n  }\r\n  .el-pagination {\r\n    margin-top: 20px;\r\n  }\r\n  .quill-editor {\r\n    height: 300px;\r\n    margin-bottom: 20px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MailList.vue?vue&type=template&id=41965344&scoped=true&\"\nimport script from \"./MailList.vue?vue&type=script&lang=js&\"\nexport * from \"./MailList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MailList.vue?vue&type=style&index=0&id=41965344&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41965344\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"not-found\"},[_vm._v(\" Sorry, Not Found the Page :) \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"not-found\">\r\n    Sorry, Not Found the Page :)\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.not-found {\r\n  font-size: 30px;\r\n  letter-spacing: 5px;\r\n  text-align: center;\r\n  margin-top: 250px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NotFound.vue?vue&type=template&id=5358bdd0&scoped=true&\"\nimport script from \"./NotFound.vue?vue&type=script&lang=js&\"\nexport * from \"./NotFound.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NotFound.vue?vue&type=style&index=0&id=5358bdd0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5358bdd0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.easyFlowVisible)?_c('div',{staticStyle:{\"height\":\"calc(100vh)\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"ef-tooltar\"},[_c('div',{staticStyle:{\"float\":\"left\",\"margin-left\":\"5px\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"round\":\"\",\"icon\":\"el-icon-refresh\",\"size\":\"mini\"},on:{\"click\":_vm.giveUp}},[_vm._v(\"退出编辑\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"round\":\"\",\"icon\":\"el-icon-refresh\",\"size\":\"mini\"},on:{\"click\":_vm.conserve}},[_vm._v(\"保存任务\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"round\":\"\",\"icon\":\"el-icon-refresh\",\"size\":\"mini\"},on:{\"click\":_vm.setTask}},[_vm._v(\"任务设置\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"round\":\"\",\"icon\":\"el-icon-refresh\",\"size\":\"mini\"}},[_vm._v(\"自定义变量\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"round\":\"\",\"icon\":\"el-icon-refresh\",\"size\":\"mini\"},on:{\"click\":_vm.Operation}},[_vm._v(\"执行流程\")])],1),_c('div',{staticStyle:{\"float\":\"right\",\"margin-right\":\"5px\"}},[_c('el-link',{attrs:{\"type\":\"primary\",\"underline\":false}},[_vm._v(_vm._s(_vm.data.name))]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-delete\",\"size\":\"large\",\"disabled\":!this.activeElement.type},on:{\"click\":_vm.deleteElement}}),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-plus\",\"size\":\"large\"},on:{\"click\":_vm.zoomAdd}}),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-minus\",\"size\":\"large\"},on:{\"click\":_vm.zoomSub}}),_c('el-button',{attrs:{\"type\":\"info\",\"plain\":\"\",\"round\":\"\",\"icon\":\"el-icon-document\",\"size\":\"mini\"},on:{\"click\":_vm.dataInfo}},[_vm._v(\"流程信息\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"round\":\"\",\"icon\":\"el-icon-refresh\",\"size\":\"mini\"},on:{\"click\":_vm.dataReloadC}},[_vm._v(\"默认样式\")])],1)])])],1),_c('div',{staticStyle:{\"display\":\"flex\",\"height\":\"calc(100% - 47px)\"}},[_c('div',{staticStyle:{\"width\":\"230px\",\"border-right\":\"1px solid #dce3e8\"}},[_c('node-menu',{ref:\"nodeMenu\",on:{\"addNode\":_vm.addNode}})],1),_c('div',{staticClass:\"wiper\"},[_c('div',{directives:[{name:\"flowDrag\",rawName:\"v-flowDrag\"}],ref:\"efContainer\",staticClass:\"container\",attrs:{\"id\":\"efContainer\"}},[_vm._l((_vm.data.nodeList),function(node){return [_c('flow-node',{key:node.id,ref:\"flowNode\",refInFor:true,attrs:{\"id\":node.id,\"node\":node,\"activeElement\":_vm.activeElement},on:{\"changeNodeSite\":_vm.changeNodeSite,\"nodeRightMenu\":_vm.nodeRightMenu,\"dblclick\":_vm.clickNode}})]})],2)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.isShowForm),expression:\"this.isShowForm\"}],staticStyle:{\"width\":\"360px\",\"border-left\":\"1px solid #dce3e8\",\"background-color\":\"#FBFBFB\"}},[_c('flow-node-form',{ref:\"nodeForm\",on:{\"setLineLabel\":_vm.setLineLabel,\"repaintEverything\":_vm.repaintEverything,\"isHideFrom\":_vm.isHideFrom}})],1)]),(_vm.flowInfoVisible)?_c('flow-info',{ref:\"flowInfo\",attrs:{\"data\":_vm.data}}):_vm._e(),(_vm.flowHelpVisible)?_c('flow-help',{ref:\"flowHelp\"}):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const easyFlowMixin = {\r\n    data() {\r\n        return {\r\n            jsplumbSetting: {\r\n                // 动态锚点、位置自适应\r\n                Anchors: ['Top', 'TopCenter', 'TopRight', 'TopLeft', 'Right', 'RightMiddle', 'Bottom', 'BottomCenter', 'BottomRight', 'BottomLeft', 'Left', 'LeftMiddle'],\r\n                // 容器ID\r\n                \r\n                Container: 'efContainer',\r\n                // 连线的样式，直线或者曲线等，可选值:  StateMachine、Flowchart，Bezier、Straight\r\n                // Connector: ['Bezier', {curviness: 100}],\r\n                // Connector: ['Straight', {stub: 45, gap: 0}],\r\n                Connector: ['Flowchart', {stub: 30, gap: 1, alwaysRespectStubs: false, midpoint: 0.5, cornerRadius: 10}],\r\n                // Connector: ['StateMachine', {margin: 5, curviness: 10, proximityLimit: 80}],\r\n                // 鼠标不能拖动删除线\r\n                ConnectionsDetachable: false,\r\n                MaxConnections: 1,\r\n                // 删除线的时候节点不删除\r\n                DeleteEndpointsOnDetach: false,\r\n                /**\r\n                 * 连线的两端端点类型：圆形\r\n                 * radius: 圆的半径，越大圆越大\r\n                 */\r\n                // Endpoint: ['Dot', {radius: 5, cssClass: 'ef-dot', hoverClass: 'ef-dot-hover'}],\r\n                /**\r\n                 * 连线的两端端点类型：矩形\r\n                 * height: 矩形的高\r\n                 * width: 矩形的宽\r\n                 */\r\n                // Endpoint: ['Rectangle', {height: 20, width: 20, cssClass: 'ef-rectangle', hoverClass: 'ef-rectangle-hover'}],\r\n                /**\r\n                 * 图像端点\r\n                 */\r\n                // Endpoint: ['Image', {src: 'https://www.easyicon.net/api/resizeApi.php?id=1181776&size=32', cssClass: 'ef-img', hoverClass: 'ef-img-hover'}],\r\n                /**\r\n                 * 空白端点\r\n                 */\r\n                Endpoint: ['Blank', {Overlays: ''}],\r\n                // Endpoints: [['Dot', {radius: 5, cssClass: 'ef-dot', hoverClass: 'ef-dot-hover'}], ['Rectangle', {height: 20, width: 20, cssClass: 'ef-rectangle', hoverClass: 'ef-rectangle-hover'}]],\r\n                /**\r\n                 * 连线的两端端点样式\r\n                 * fill: 颜色值，如：#12aabb，为空不显示\r\n                 * outlineWidth: 外边线宽度\r\n                 */\r\n                EndpointStyle: {fill: '#1879ffa1', outlineWidth: 1},\r\n                // 是否打开jsPlumb的内部日志记录\r\n                LogEnabled: true,\r\n                /**\r\n                 * 连线的样式\r\n                 */\r\n                PaintStyle: {\r\n                    // 线的颜色\r\n                    stroke: '#000',\r\n                    // 线的粗细，值越大线越粗\r\n                    strokeWidth: 1,\r\n                    // 设置外边线的颜色，默认设置透明，这样别人就看不见了，点击线的时候可以不用精确点击，参考 https://blog.csdn.net/roymno2/article/details/72717101\r\n                    outlineStroke: 'transparent',\r\n                    // 线外边的宽，值越大，线的点击范围越大\r\n                    outlineWidth: 10\r\n                },\r\n                DragOptions: {cursor: 'pointer', zIndex: 2000},\r\n                /**\r\n                 *  叠加 参考： https://www.jianshu.com/p/d9e9918fd928\r\n                 */\r\n                Overlays: [\r\n                    // 箭头叠加\r\n                    ['Arrow', {\r\n                        width: 10, // 箭头尾部的宽度\r\n                        length: 8, // 从箭头的尾部到头部的距离\r\n                        location: 1, // 位置，建议使用0～1之间\r\n                        direction: 1, // 方向，默认值为1（表示向前），可选-1（表示向后）\r\n                        foldback: 0.623 // 折回，也就是尾翼的角度，默认0.623，当为1时，为正三角\r\n                    }],\r\n                    // ['Diamond', {\r\n                    //     events: {\r\n                    //         dblclick: function (diamondOverlay, originalEvent) {\r\n                    //             console.log('double click on diamond overlay for : ' + diamondOverlay.component)\r\n                    //         }\r\n                    //     }\r\n                    // }],\r\n                    ['Label', {\r\n                        label: '',\r\n                        location: 0.1,\r\n                        cssClass: 'aLabel'\r\n                    }]\r\n                ],\r\n                // 绘制图的模式 svg、canvas\r\n                RenderMode: 'canvas',\r\n                // 鼠标滑过线的样式\r\n                HoverPaintStyle: {stroke: '#b0b2b5', strokeWidth: 1},\r\n                // 滑过锚点效果\r\n                // EndpointHoverStyle: {fill: 'red'}\r\n                Scope: 'jsPlumb_DefaultScope' // 范围，具有相同scope的点才可连接\r\n            },\r\n            /**\r\n             * 连线参数\r\n             */\r\n            jsplumbConnectOptions: {\r\n                // isSource: true,\r\n                // isTarget: true,\r\n                // 动态锚点、提供了4个方向 Continuous、AutoDefault\r\n                // anchor:['BottomLeft','BottomRight','TopCenter'],\r\n                connector: ['Flowchart', {curviness: 5}],\r\n                MaxConnections: 1,\r\n                // 设置连线上面的label样式\r\n                labelStyle: {\r\n                    cssClass: 'flowLabel'\r\n                },\r\n                // 修改了jsplumb 源码，支持label 为空传入自定义style\r\n                emptyLabelStyle: {\r\n                    cssClass: 'emptyFlowLabel'\r\n                },\r\n                EndpointStyle : { fill : '#456' }\r\n            },\r\n            /**\r\n             * 源点配置参数\r\n             */\r\n            jsplumbSourceOptions: { //源节点配置\r\n                // 设置可以拖拽的类名，只要鼠标移动到该类名上的DOM，就可以拖拽连线\r\n                filter: '.flow-node-drag',\r\n                filterExclude: false,\r\n                // anchor: 'Continuous',\r\n                // Anchor: [\"Right\", \"Left\"], \r\n                anchor:[ 'BottomRight', 'BottomLeft'],\r\n             \r\n                allowLoopback: true, //形成回环\r\n                maxConnections: -1,\r\n                onMaxConnections: function (info, e) {\r\n                    console.log(`超过了最大值连线: ${info.maxConnections}`)\r\n                }\r\n            },\r\n\r\n            jsplumbStartSourceOptions: { //源节点配置\r\n                // 设置可以拖拽的类名，只要鼠标移动到该类名上的DOM，就可以拖拽连线\r\n                filter: '.flow-node-drag',\r\n                filterExclude: false,\r\n                // anchor: 'Continuous',\r\n                // Anchor: [\"Right\", \"Left\"], \r\n                anchor:[ 'BottomCenter'],\r\n             \r\n                allowLoopback: false,\r\n                maxConnections: 1,\r\n                onMaxConnections: function (info, e) {\r\n                    console.log(`超过了最大值连线: ${info.maxConnections}`)\r\n                }\r\n            },\r\n            \r\n            // 参考 https://www.cnblogs.com/mq0036/p/7942139.html\r\n            jsplumbSourceOptions2: {\r\n                // 设置可以拖拽的类名，只要鼠标移动到该类名上的DOM，就可以拖拽连线\r\n                filter: '.flow-node-drag',\r\n                filterExclude: false,\r\n                // anchor: 'Continuous',\r\n                allowLoopback: false,\r\n                connector: ['Flowchart', {curviness: 5}],\r\n            \r\n                MaxConnections: 1,\r\n                connectorStyle: {\r\n                    // 线的颜色\r\n                    stroke: 'red',\r\n                    // 线的粗细，值越大线越粗\r\n                    strokeWidth: 1,\r\n                    // 设置外边线的颜色，默认设置透明，这样别人就看不见了，点击线的时候可以不用精确点击，参考 https://blog.csdn.net/roymno2/article/details/72717101\r\n                    outlineStroke: 'transparent',\r\n                    // 线外边的宽，值越大，线的点击范围越大\r\n                    outlineWidth: 10\r\n                },\r\n                connectorHoverStyle: {stroke: 'red', strokeWidth: 2}\r\n            },\r\n            jsplumbTargetOptions: {\r\n                // 设置可以拖拽的类名，只要鼠标移动到该类名上的DOM，就可以拖拽连线\r\n                filter: '.flow-node-drag',\r\n                filterExclude: false,\r\n                anchor:[\"Continuous\",{faces:[\"top\"]}],\r\n                allowLoopback: false,\r\n                MaxConnections: 1,\r\n                dropOptions: {hoverClass: 'ef-drop-hover'}\r\n            }\r\n        }\r\n    }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"node\",class:_vm.nodeContainerClass,style:(_vm.nodeContainerStyle),on:{\"dblclick\":_vm.clickNode,\"mouseup\":_vm.changeNodeSite}},[_c('div',{staticClass:\"el-node-top \"},[_c('img',{class:_vm.nodeClass,staticStyle:{\"width\":\"50px\",\"height\":\"50px\"},attrs:{\"src\":require('@/assets/' + _vm.node.image ),\"alt\":\"\"}}),_c('div',{staticClass:\"ef-node-text\",attrs:{\"show-overflow-tooltip\":true}},[_vm._v(\" \"+_vm._s(_vm.node.caption)+\" \")])]),(_vm.node.nodeTypeID!=='NID_END')?_c('div',{staticClass:\"el-node-bottom\"},[_c('div',[_c('div',{staticClass:\"ef-node-center\"}),(_vm.isShowBottomLine!==true)?_c('div',{staticClass:\"flow-node-drag start-endpoint\"}):_vm._e()]),(_vm.isShowBottomLine)?_c('div',{staticClass:\"ef-bottom-line \"},_vm._l((2),function(item){return _c('div',{key:item,staticClass:\"flow-node-drag endpoint\"})}),0):_vm._e()]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    ref=\"node\"\r\n    :style=\"nodeContainerStyle\"\r\n    @dblclick=\"clickNode\"\r\n    @mouseup=\"changeNodeSite\"\r\n    :class=\"nodeContainerClass\"\r\n  >\r\n   \r\n    <!-- 节点类型的图标 -->\r\n    <div class=\"el-node-top \">\r\n          <img\r\n      :class=\"nodeClass\"\r\n      style=\"width: 50px; height: 50px\"\r\n      :src=\"require('@/assets/' + node.image )\"\r\n      alt=\"\"\r\n    />\r\n \r\n    <div class=\"ef-node-text\" :show-overflow-tooltip=\"true\">\r\n      {{ node.caption }}\r\n    </div>\r\n    </div>\r\n   <div v-if=\"node.nodeTypeID!=='NID_END'\" class=\"el-node-bottom\">\r\n <!-- 最中间的那条竖线 -->\r\n <div>\r\n      <div class=\"ef-node-center\">\r\n     \r\n    </div>\r\n     <div v-if=\"isShowBottomLine!==true\" class=\"flow-node-drag start-endpoint\"></div>\r\n </div>\r\n    <!-- 最下边的横线 -->\r\n       <div v-if=\"isShowBottomLine\" class=\"ef-bottom-line \">\r\n         <!-- 这里根据后端给的节点出口信息来渲染 -->\r\n            <div class=\"flow-node-drag endpoint\" v-for=\"(item) in 2\" :key=\"item\" ></div>\r\n        </div>\r\n   </div>\r\n       <!-- <div class=\"ef-node-left-ico flow-node-drag\">\r\n            <i :class=\"nodeIcoClass\"></i>\r\n        </div> -->\r\n    <!-- 节点名称 -->\r\n    <!-- 查看任务重现画布需要 -->\r\n    <!-- 节点状态图标 -->\r\n    <!-- <div class=\"ef-node-right-ico\">\r\n            <i class=\"el-icon-circle-check el-node-state-success\" v-show=\"node.state === 'success'\"></i>\r\n            <i class=\"el-icon-circle-close el-node-state-error\" v-show=\"node.state === 'error'\"></i>\r\n            <i class=\"el-icon-warning-outline el-node-state-warning\" v-show=\"node.state === 'warning'\"></i>\r\n            <i class=\"el-icon-loading el-node-state-running\" v-show=\"node.state === 'running'\"></i>\r\n        </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    node: Object,\r\n    activeElement: Object\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  created() {\r\n    console.log(this.node);\r\n  },\r\n  computed: {\r\n    nodeContainerClass() {\r\n      return {\r\n        \"ef-node-container\": true,\r\n        //是否选中\r\n        [this.node.type]: true,\r\n      };\r\n    },\r\n    clssss(){\r\n        console.log(\"gggggggggggggggggg\")\r\n    },\r\n        nodeClass() {\r\n      return {\r\n        //是否选中\r\n        'el-node-img': true,\r\n        \"ef-node-active\":\r\n          this.activeElement.type == \"node\"\r\n            ? this.activeElement.nodeId === this.node.id\r\n            : false\r\n      };\r\n    },\r\n    //节点是否展示横线\r\n    isShowBottomLine(){\r\n     if( this.node.nodeTypeID!==\"NID_START\" && this.node.nodeTypeID!==\"NID_WAIT\" ){\r\n       return true\r\n     }\r\n    },\r\n\r\n\r\n    // 节点容器样式\r\n    nodeContainerStyle() {\r\n      return {\r\n        top: this.node.top,\r\n        left: this.node.left\r\n      };\r\n    },\r\n    nodeIcoClass() {\r\n      var nodeIcoClass = {};\r\n      nodeIcoClass[this.node.ico] = true;\r\n      // 添加该class可以推拽连线出来，viewOnly 可以控制节点是否运行编辑\r\n      nodeIcoClass[\"flow-node-drag\"] = this.node.viewOnly ? false : true;\r\n      return nodeIcoClass;\r\n    }\r\n  },\r\n  methods: {\r\n    // 点击节点\r\n    clickNode() {\r\n      this.$emit(\"dblclick\", this.node.id);\r\n    },\r\n    // 鼠标移动后抬起\r\n    changeNodeSite() {\r\n      // 避免抖动\r\n      if (\r\n        this.node.left == this.$refs.node.style.left &&\r\n        this.node.top == this.$refs.node.style.top\r\n      ) {\r\n        return;\r\n      }\r\n      this.$emit(\"changeNodeSite\", {\r\n        nodeId: this.node.id,\r\n        left: this.$refs.node.style.left,\r\n        top: this.$refs.node.style.top\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./node.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./node.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./node.vue?vue&type=template&id=2f3057f8&\"\nimport script from \"./node.vue?vue&type=script&lang=js&\"\nexport * from \"./node.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"tool\",staticClass:\"flow-menu\"},_vm._l((_vm.menuList),function(menu){return _c('div',{key:menu.id},[_c('span',{staticClass:\"ef-node-pmenu\",on:{\"click\":function($event){menu.open = !menu.open}}},[_c('i',{class:{'el-icon-caret-bottom': menu.open,'el-icon-caret-right': !menu.open}}),_vm._v(\" \"+_vm._s(menu.name))]),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(menu.open),expression:\"menu.open\"}],staticClass:\"ef-node-menu-ul\"},[_c('draggable',{staticClass:\"drag-box\",attrs:{\"options\":_vm.draggableOptions},on:{\"end\":_vm.end,\"start\":_vm.move},model:{value:(menu.children),callback:function ($$v) {_vm.$set(menu, \"children\", $$v)},expression:\"menu.children\"}},_vm._l((menu.children),function(subMenu){return _c('li',{key:subMenu.id,class:'ef-node-menu-li '+ subMenu.nodeTypeID,attrs:{\"type\":subMenu.nodeTypeID}},[_c('img',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\"},attrs:{\"src\":require('@/assets/'+subMenu.image),\"alt\":\"\"}}),_c('span',[_vm._v(\" \"+_vm._s(subMenu.caption)+\" \")])])}),0)],1)])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var menuList = [  //数据覆盖,定义的数据类型  包含操作修改 节点出口分支\r\n    {\r\n        id: '1',\r\n        type: 'group',\r\n        name: '开始节点',\r\n        ico: 'el-icon-video-play',\r\n        img: \"start\",\r\n        open: true,\r\n        children: [\r\n            {\r\n                'id': '2',\r\n                // 自定义覆盖样式\r\n                \"nodeTypeID\": 'NID_START', //每种控件类型的唯一ID\r\n                \"caption\": '开始', //控件图标旁边展示的控件名称\r\n                \"image\": \"start.png\", //控件图标\r\n                \"info\": \"条件控件根据所配置条件的计算结果，决定下一个执行的节点\", //描述控件的作用\r\n                \"parameters\": [ //该控件属性栏的属性列表\r\n                    {\r\n                        \"title\": \"任务ID\", //属性的标题\r\n                        \"type\": \"PTYPE_LABEL\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"CONSTANT_START\",\r\n                        \"tips\": \"任务ID用来唯一标识此任务\"\r\n                    },\r\n                    {\r\n                        \"title\": \"任务触发方式\", //属性的标题\r\n                        \"type\": \"PTYPE_SELECTGROUP\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": 0,\r\n                        \"values\": [\r\n                            {\r\n                                \"value\": 0,\r\n                                \"label\": \"人群定时触发\",\r\n                                'type': 'PTYPE_OLNYSHOW',\r\n                                \"children\": {\r\n                                    'title': '触发人群',\r\n                                    'type': 'PTYPE_CROWD',\r\n                                    'defaultValue': 1,\r\n                                    'values': [\r\n                                        {\r\n                                            'title': '复购-泰康百万医疗险',\r\n                                            'ID': 'f4asdsa87f9daasd76',\r\n                                            'validity': '2020-10-12 12:00:00',\r\n                                            'creator': 'mark',\r\n                                            'creationTime': '2020-12-29'\r\n                                        },\r\n                                        { 'title': '复购-泰康二百万医疗险', 'ID': 'dsadasddadsadsadd', 'validity': '2020-19-123 17:34:22', 'creator': 'jack', 'creationTime': '2020-04-11' }\r\n                                    ],\r\n                                    //触发时间\r\n                                    'triggeringTime': '13:00',\r\n                                    //触发周期\r\n                                    'triggerCycle': { 'frequency': '每月', 'time': '2020-02-02' },\r\n                                    \"selectedList\": []\r\n                                },\r\n                            }, {\r\n                                \"value\": 1,\r\n                                \"label\": \"用户行为触发\",\r\n                                'type': 'PTYPE_BEHAVIOR',\r\n                                \"children\": {\r\n                                    \"title\": \"触发行为\", //属性的标题\r\n                                    \"type\": \"PTYPE_BEHAVIOR\", //控件的类型，详细见《属性控件定义文档》\r\n                                    \"defaultValue\": 0,\r\n                                    \"values\": [\r\n                                        { 'title': 'MALL_ADD_CART_BUTTON', 'rules': [{ 'r1': '是否自营', 'r2': '自营' }, { 'r1': '加购商品sku白名单', 'r2': '奶粉.txt' }, { 'r1': '加购商品价格', 'r2': '>=', 'r3': '199' }, { 'r1': '加购商品数量', 'r2': '>=', 'r3': '3' }] },\r\n                                        { 'title': 'MALL_IOU_BLACK_GOLD', 'rules': [{ 'r1': '', 'r2': '', 'r3': '' }] },\r\n                                        { 'title': 'MALL_COFFERS_INNER', 'rules': [{ 'r1': '', 'r2': '', 'r3': '' }] },\r\n                                        { 'title': 'MALL_INDEX_DISCOUNT_ICON', 'rules': [{ 'r1': '', 'r2': '', 'r3': '' }] },\r\n                                        { 'title': 'MALL_INDEX_COUPON_ICON', 'rules': [{ 'r1': '当天点击次数', 'r2': '=', 'r3': '3' }] }\r\n                                    ],\r\n                                    \"tips\": \"………………\",\r\n                                    \"showInEditor\": true,\r\n                                    \"selectedList\": []\r\n                                },\r\n                            }\r\n                        ],\r\n                        \"tips\": \"任务触发条件决定该任务再何种情况下开始执行。\",\r\n                        \"showInEditor\": true,\r\n                    },\r\n\r\n                    {\r\n                        \"title\": \"触发时间\", //属性的标题\r\n                        \"type\": \"PTYPE_TIMELIST\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"\",\r\n                        \"tips\": \"任务名称用于描述任务主要功能,并与其他任务进行区分\"\r\n                    },\r\n                    {\r\n                        \"title\": \"触发周期\", //属性的标题\r\n                        \"type\": \"PTYPE_SELECT\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": 0,\r\n                        \"values\": [{ 'value': 0, 'label': \"每天\" }, { 'value': 1, 'label': \"每月\" }, { 'value': 2, 'label': \"每小时\" }],\r\n                        \"tips\": \"任务名称用于描述任务主要功能,并与其他任务进行区分\",\r\n                        \"selectedList\": \"\"\r\n                    },\r\n                    // 行为触发\r\n                    {\r\n                        \"title\": \"触发行为\", //属性的标题\r\n                        \"type\": \"PTYPE_BEHAVIOR\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"MALL_ADD_CART_BUTTON\",\r\n                        \"values\": [\r\n                            { 'behavior': 'MALL_ADD_CART_BUTTON', 'rules': [{ 'r1': '是否自营', 'r2': '自营' }, { 'r1': '加购商品sku白名单', 'r2': '奶粉.txt' }, { 'r1': '加购商品价格', 'r2': '>=', 'r3': '199' }, { 'r1': '加购商品数量', 'r2': '>=', 'r3': '3' }] },\r\n                            { 'behavior': 'MALL_IOU_BLACK_GOLD', 'rules': [{ 'r1': '', 'r2': '', 'r3': '' }] },\r\n                            { 'behavior': 'MALL_COFFERS_INNER', 'rules': [{ 'r1': '', 'r2': '', 'r3': '' }] },\r\n                            { 'behavior': 'MALL_INDEX_DISCOUNT_ICON', 'rules': [{ 'r1': '', 'r2': '', 'r3': '' }] },\r\n                            { 'behavior': 'MALL_INDEX_COUPON_ICON', 'rules': [{ 'r1': '当天点击次数', 'r2': '=', 'r3': '3' }] }\r\n                        ],\r\n                        \"tips\": \"………………\",\r\n                        \"showInEditor\": true\r\n                    },\r\n                    //人群定时触发\r\n                    {\r\n                        'title': '触发人群',\r\n                        'type': 'PTYPE_CROWD ',\r\n                        'defaultValue': '复购-泰康百万医疗险(人群ID:f4asdsa87f9daasd76)',\r\n                        'values': [\r\n                            { 'title': '复购-泰康百万医疗险' }, { 'ID': 'f4asdsa87f9daasd76' }, { 'validity': '2020-10-12 12:00:00' }, { 'creator': 'mark' }, { 'creationTime': '2020-12-29' },\r\n                            { 'title': '复购-泰康百万医疗险' }, { 'ID': 'f4asdsa87f9daasd76' }, { 'validity': '2020-10-12 12:00:00' }, { 'creator': 'mark' }, { 'creationTime': '2020-12-29' }\r\n                        ],\r\n                        //触发时间\r\n                        'triggeringTime': '13:00',\r\n                        //触发周期\r\n                        'triggerCycle': { 'frequency': '每月', 'time': '2020-02-02' }\r\n                    },\r\n                    {\r\n                        'title': '任务重入',\r\n                        'defaultValue': false\r\n                    },\r\n                    {\r\n                        'title': '任务频控',\r\n                        'defaultValue': false\r\n                    }\r\n\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        id: '2',\r\n        type: 'group',\r\n        name: '条件分支',\r\n        ico: 'el-icon-guide',\r\n        open: true,\r\n        children: [\r\n            {\r\n                'id': '2',\r\n                // 自定义覆盖样式\r\n                \"nodeTypeID\": 'NID_CONDITION', //每种控件类型的唯一ID\r\n                \"caption\": '条件分支', //控件图标旁边展示的控件名称\r\n                \"image\": \"条件分支.png\", //控件图标\r\n                \"info\": \"用来判断是否满足某个或者某一组条件\", //描述控件的作用\r\n                \"parameters\": [ //该控件属性栏的属性列表\r\n                    {\r\n                        \"title\": \"条件控件ID\", //属性的标题\r\n                        \"type\": \"PTYPE_LABEL\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"CONSTANT_TASK\",\r\n                        \"tips\": \"任务ID用来唯一标识此任务\"\r\n                    },\r\n\r\n                    {\r\n                        \"title\": \"任务名称\", //属性的标题\r\n                        \"type\": \"PTYPE_TEXT\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"条件\",\r\n                        \"tips\": \"任务名称用于描述任务主要功能\"\r\n                    },\r\n                    {\r\n                        \"title\": \"条件缩略图\", //属性的标题\r\n                        \"type\": \"PTYPE_CONDITION_DETAILS\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"条件\",\r\n                        \"tips\": \"任务名称用于描述任务主要功能\",\r\n                        \"details\": [\r\n                            {//条件分类信息\r\n                                \"title\": \"离线标签\",//标签分类\r\n                                \"children\": [\r\n                                    {\r\n                                        'label': \"用户基本信息\",\r\n                                        \"value\": 0,\r\n                                        \"children\": [\r\n                                            {\r\n                                                \"label\": \"历史最大持仓金额\",\r\n                                                \"tips\": \"******************\"//标签说明\r\n                                            }\r\n                                        ] //标签\r\n                                    }\r\n                                ]\r\n                            }\r\n                        ],\r\n                        \"data\": {\r\n                            \"id\": 0,\r\n                            \"label\": \"且\",\r\n                            \"swtich\": \"myred\", //标签类名\r\n                            \"children\": [\r\n                                {\r\n                                    \"id\": 2,\r\n                                    \"label\": \"或\",\r\n                                    \"swtich\": \"myred\",\r\n                                    \"children\": [\r\n                                        {\r\n                                            \"id\": 5,\r\n                                            \"label\": \"性别=男\",\r\n\r\n                                        },\r\n                                        {\r\n                                            \"id\": 6,\r\n                                            \"label\": \"账龄>=(30,90)\",\r\n\r\n                                        },\r\n\r\n                                    ]\r\n                                },\r\n                                {\r\n                                    \"id\": 3,\r\n                                    \"label\": \"且\",\r\n                                    \"swtich\": \"myred\",\r\n                                    \"children\": [\r\n                                        {\r\n                                            \"id\": 7,\r\n                                            \"label\": \"是否实名，已实名\",\r\n                                            // \"swtich\": \"myblue\"\r\n                                        },\r\n                                        {\r\n                                            \"id\": 8,\r\n                                            \"label\": \"\",\r\n                                            \"swtich\": false\r\n                                        }\r\n                                    ]\r\n                                }\r\n                            ]\r\n                        },\r\n\r\n\r\n                    },\r\n\r\n                ]\r\n            }, {\r\n                'id': '3',\r\n                // 自定义覆盖样式\r\n                \"nodeTypeID\": 'NID_NOTE', //每种控件类型的唯一ID\r\n                \"caption\": '短信', //控件图标旁边展示的控件名称\r\n                \"image\": \"短信.png\", //控件图标\r\n                \"info\": \"向目标发送短信\", //描述控件的作用\r\n                \"parameters\": [ //该控件属性栏的属性列表\r\n                    {\r\n                        \"title\": \"任务ID\", //属性的标题\r\n                        \"type\": \"PTYPE_LABEL\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"CONSTANT_NOTE\",\r\n                        \"tips\": \"任务ID用来唯一标识此任务\"\r\n                    },\r\n                    {\r\n                        'status': true,\r\n                        'data': {\r\n                            'smsType': '营销短信',\r\n                            'smsValue': '尊敬的张三，您好，恭喜您获得豪华游艇，48小时内领取有效，赶紧点击https://pianren.com/keng领取 回复TD退订',\r\n                            'expiryDate': '2019-2-30',\r\n                            'approvalStatus': '通过'\r\n                        },\r\n\r\n                    }\r\n                ]\r\n            },\r\n\r\n            {\r\n                'id': '4',\r\n                \"nodeTypeID\": 'NID_A/B', //每种控件类型的唯一ID\r\n                \"caption\": 'A/B', //控件图标旁边展示的控件名称\r\n                \"image\": \"AB测试.png\", //控件图标\r\n                \"info\": \"按照不同百分比分流\", //描述控件的作用\r\n                \"parameters\": [ //该控件属性栏的属性列表\r\n                    //分流方式  \r\n                    {\r\n                        \r\n                        'defaultValue': 0,\r\n                        'shuntWay': [{ 'value': 0, 'label': '按首次随机分流' }, { 'value': 1, 'label': '按天随机分流' }, { 'value': 2, 'label': '完全随机分流' }],\r\n                        //观察周期\r\n                        'period': '4',\r\n                        //分流比例\r\n                        // 'groups': [ ['对照',''],['实验一',''] ],\r\n                        'groups': [{ 'id': '0', 'name': '对照组', 'num': 0 }, { 'id': '1', 'name': '实验组', 'num': 0 }],\r\n                    }\r\n                ]\r\n            }, {\r\n                'id': '5',\r\n                // 自定义覆盖样式\r\n                \"nodeTypeID\": 'NID_WAIT', //每种控件类型的唯一ID\r\n                \"caption\": '等待', //控件图标旁边展示的控件名称\r\n                \"image\": \"wait.png\", //控件图标\r\n                \"info\": \"执行挂起，等待一定时间后执行\", //描述控件的作用\r\n                \"parameters\": [ //该控件属性栏的属性列表\r\n                    {\r\n                        \"title\": \"任务ID\", //属性的标题\r\n                        \"type\": \"PTYPE_LABEL\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"CONSTANT_WAIT\",\r\n                        \"tips\": \"任务ID用来唯一标识此任务\"\r\n                    },\r\n                    {\r\n                        \"title\": \"任务名称\", //属性的标题\r\n                        \"type\": \"PTYPE_TEXT\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"等待\",\r\n                        \"tips\": \"任务名称用于描述任务主要功能\"\r\n                    },\r\n                    {\r\n                        \"title\": \"触发周期\", //属性的标题\r\n                        \"type\": \"PTYPE_SELECT\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": 0,\r\n                        \"values\": [{ 'value': 0, 'label': \"等待一段时间\", \"tips\": \" 等待至具体的某个时间点：'yyyy-MM-dd HH:mm:ss'\" },\r\n                        { 'value': 1, 'label': \"等待至具体的某个时间点\", \"tips\": \"● 等待一段时间：' HH:mm:ss'\" },\r\n                        { 'value': 2, 'label': \"等待至...\", \"tips\": \"等待至：第N天的' HH:mm:ss'\" }],\r\n                        \"tips\": \"任务名称用于描述任务主要功能,并与其他任务进行区分\",\r\n                        \"stretch\": \"\"\r\n                    },\r\n                    {\r\n                        \"title\": \"行为事件规则\", //属性的标题\r\n                        \"type\": \"PTYPE_MULTISELECT\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": 0,\r\n                        \"values\": [\r\n                            { 'title': 'MALL_ADD_CART_BUTTON', 'rules': [{ 'r1': '是否自营', 'r2': '自营' }, { 'r1': '加购商品sku白名单', 'r2': '奶粉.txt' }, { 'r1': '加购商品价格', 'r2': '>=', 'r3': '199' }, { 'r1': '加购商品数量', 'r2': '>=', 'r3': '3' }] },\r\n                            { 'title': 'MALL_IOU_BLACK_GOLD', 'rules': [{ 'r1': '', 'r2': '', 'r3': '' }] },\r\n                            { 'title': 'MALL_COFFERS_INNER', 'rules': [{ 'r1': '', 'r2': '', 'r3': '' }] },\r\n                            { 'title': 'MALL_INDEX_DISCOUNT_ICON', 'rules': [{ 'r1': '', 'r2': '', 'r3': '' }] },\r\n                            { 'title': 'MALL_INDEX_COUPON_ICON', 'rules': [{ 'r1': '当天点击次数', 'r2': '=', 'r3': '3' }] }\r\n                        ],\r\n                        \"tips\": \"………………\",\r\n                        \"showInEditor\": true,\r\n                        \"selectedList\": []\r\n                    }\r\n\r\n                ]\r\n            },\r\n            {\r\n                'id': '6',\r\n                // 自定义覆盖样式\r\n                \"nodeTypeID\": 'NID_RECOMMENT', //每种控件类型的唯一ID\r\n                \"caption\": '推荐', //控件图标旁边展示的控件名称\r\n                \"image\": \"推荐.png\", //控件图标\r\n                \"info\": \"推荐任务\", //描述控件的作用\r\n                \"parameters\": [ //该控件属性栏的属性列表\r\n                    {\r\n                        \"title\": \"任务ID\", //属性的标题\r\n                        \"type\": \"PTYPE_LABEL\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"CONSTANT_RECOMMENT\",\r\n                        \"tips\": \"任务ID用来唯一标识此任务\"\r\n                    },\r\n                    {\r\n                        \"title\": \"任务名称\", //属性的标题\r\n                        \"type\": \"PTYPE_TEXT\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"推荐\",\r\n                        \"tips\": \"任务名称用于描述任务主要功能\"\r\n                    },\r\n                    {\r\n                        \"title\": \"任务触发设置\", //属性的标题\r\n                        \"type\": \"PTYPE_GROUP\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"0\",\r\n                        \"tips\": \"\",\r\n                        \"children\": [\r\n                            {\r\n                                \"title\": \"任务名称\", //属性的标题\r\n                                \"type\": \"PTYPE_TEXT\", //控件的类型，详细见《属性控件定义文档》\r\n                                \"defaultValue\": \"条件\",\r\n                                \"tips\": \"任务名称用于描述任务主要功能\"\r\n                            },\r\n                            {\r\n                                \"title\": \"任务ID\", //属性的标题\r\n                                \"type\": \"PTYPE_LABEL\", //控件的类型，详细见《属性控件定义文档》\r\n                                \"defaultValue\": \"CONSTANT_TASKID\",\r\n                                \"tips\": \"任务ID用来唯一标识此任务\"\r\n                            },\r\n                            {\r\n                                \"title\": \"任务触发条件\", //属性的标题\r\n                                \"type\": \"PTYPE_SELECT\", //控件的类型，详细见《属性控件定义文档》\r\n                                \"defaultValue\": \"定时定向\",\r\n                                \"values\": ['定时定向', '用户行为触发'],\r\n                                \"tips\": \"任务触发条件决定该任务再何种情况下开始执行。\",\r\n                                \"showInEditor\": true\r\n                            }\r\n                        ]\r\n\r\n                    },\r\n                    {\r\n                        \"title\": \"任务触发条件\", //属性的标题\r\n                        \"type\": \"PTYPE_SELECT\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"0\",\r\n                        \"values\": ['定时定向', '用户行为触发'],\r\n                        \"tips\": \"………………\",\r\n                        \"showInEditor\": true\r\n                    }\r\n                ]\r\n            }, {\r\n                'id': '7',\r\n                // 自定义覆盖样式\r\n                \"nodeTypeID\": 'NID_PUSH', //每种控件类型的唯一ID\r\n                \"caption\": 'Push', //控件图标旁边展示的控件名称\r\n                \"image\": \"push.png\", //控件图标\r\n                \"info\": \"添加\", //描述控件的作用\r\n                \"parameters\": [ //该控件属性栏的属性列表\r\n                    {\r\n                        \"title\": \"任务ID\", //属性的标题\r\n                        \"type\": \"PTYPE_LABEL\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"CONSTANT_PUSH\",\r\n                        \"tips\": \"任务ID用来唯一标识此任务\"\r\n                    },\r\n                    {\r\n                        \"title\": \"任务名称\", //属性的标题\r\n                        \"type\": \"PTYPE_TEXT\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"PUSH\",\r\n                        \"tips\": \"任务名称用于描述任务主要功能\"\r\n                    },\r\n                    {\r\n                        \"title\": \"任务触发设置\", //属性的标题\r\n                        \"type\": \"PTYPE_GROUP\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"0\",\r\n                        \"tips\": \"\",\r\n                        \"children\": [\r\n                            {\r\n                                \"title\": \"任务名称\", //属性的标题\r\n                                \"type\": \"PTYPE_TEXT\", //控件的类型，详细见《属性控件定义文档》\r\n                                \"defaultValue\": \"条件\",\r\n                                \"tips\": \"任务名称用于描述任务主要功能\"\r\n                            },\r\n                            {\r\n                                \"title\": \"任务ID\", //属性的标题\r\n                                \"type\": \"PTYPE_LABEL\", //控件的类型，详细见《属性控件定义文档》\r\n                                \"defaultValue\": \"CONSTANT_TASKID\",\r\n                                \"tips\": \"任务ID用来唯一标识此任务\"\r\n                            },\r\n                            {\r\n                                \"title\": \"任务触发条件\", //属性的标题\r\n                                \"type\": \"PTYPE_SELECT\", //控件的类型，详细见《属性控件定义文档》\r\n                                \"defaultValue\": \"定时定向\",\r\n                                \"values\": ['定时定向', '用户行为触发'],\r\n                                \"tips\": \"任务触发条件决定该任务再何种情况下开始执行。\",\r\n                                \"showInEditor\": true\r\n                            }\r\n                        ]\r\n\r\n                    },\r\n                    {\r\n                        \"title\": \"任务触发条件\", //属性的标题\r\n                        \"type\": \"PTYPE_SELECT\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"0\",\r\n                        \"values\": ['定时定向', '用户行为触发'],\r\n                        \"tips\": \"………………\",\r\n                        \"showInEditor\": true\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        id: '3',\r\n        type: 'group',\r\n        name: '结束节点',\r\n        ico: 'el-icon-video-pause',\r\n        open: true,\r\n        children: [\r\n            {\r\n                'id': '7',\r\n                // 自定义覆盖样式\r\n                \"nodeTypeID\": 'NID_END', //每种控件类型的唯一ID\r\n                \"caption\": '结束', //控件图标旁边展示的控件名称\r\n                \"image\": \"stop.png\", //控件图标\r\n                \"info\": \"结束流程\", //描述控件的作用\r\n                \"parameters\": [ //该控件属性栏的属性列表\r\n                    {\r\n                        \"title\": \"任务ID\", //属性的标题\r\n                        \"type\": \"PTYPE_LABEL\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"CONSTANT_END\",\r\n                        \"tips\": \"任务ID用来唯一标识此任务\"\r\n                    },\r\n                    {\r\n                        \"title\": \"任务名称\", //属性的标题\r\n                        \"type\": \"PTYPE_TEXT\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"结束\",\r\n                        \"tips\": \"任务名称用于描述任务主要功能\"\r\n                    },\r\n                    {\r\n                        \"title\": \"任务触发设置\", //属性的标题\r\n                        \"type\": \"PTYPE_GROUP\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"0\",\r\n                        \"tips\": \"\",\r\n                        \"children\": [\r\n                            {\r\n                                \"title\": \"任务名称\", //属性的标题\r\n                                \"type\": \"PTYPE_TEXT\", //控件的类型，详细见《属性控件定义文档》\r\n                                \"defaultValue\": \"条件\",\r\n                                \"tips\": \"任务名称用于描述任务主要功能\"\r\n                            },\r\n                            {\r\n                                \"title\": \"任务ID\", //属性的标题\r\n                                \"type\": \"PTYPE_LABEL\", //控件的类型，详细见《属性控件定义文档》\r\n                                \"defaultValue\": \"CONSTANT_TASKID\",\r\n                                \"tips\": \"任务ID用来唯一标识此任务\"\r\n                            },\r\n                            {\r\n                                \"title\": \"任务触发条件\", //属性的标题\r\n                                \"type\": \"PTYPE_SELECT\", //控件的类型，详细见《属性控件定义文档》\r\n                                \"defaultValue\": \"0\",\r\n                                \"values\": ['定时定向', '用户行为触发'],\r\n                                \"tips\": \"………………\",\r\n                                \"showInEditor\": true\r\n                            }\r\n                        ]\r\n\r\n                    },\r\n                    {\r\n                        \"title\": \"任务触发条件\", //属性的标题\r\n                        \"type\": \"PTYPE_SELECT\", //控件的类型，详细见《属性控件定义文档》\r\n                        \"defaultValue\": \"0\",\r\n                        \"values\": ['定时定向', '用户行为触发'],\r\n                        \"tips\": \"………………\",\r\n                        \"showInEditor\": true\r\n                    },\r\n                    // {\r\n                    //     \"title\": \"任务重入\", //属性的标题\r\n                    //     \"type\": \"PTYPE_SWITCH\", //控件的类型，详细见《属性控件定义文档》\r\n                    //     \"defaultValue\": false,\r\n                    //     \"tips\": \"任务ID用来唯一标识此任务\"\r\n                    // },\r\n                    // {\r\n                    //     \"title\": \"任务频控\", //属性的标题\r\n                    //     \"type\": \"PTYPE_SWITCH\", //控件的类型，详细见《属性控件定义文档》\r\n                    //     \"defaultValue\": false,\r\n                    //     \"tips\": \"任务ID用来唯一标识此任务\"\r\n                    // },\r\n                ]\r\n            },\r\n        ]\r\n    }\r\n]\r\nexport default menuList","<template>\r\n    <div class=\"flow-menu\" ref=\"tool\">\r\n        <div v-for=\"menu  in  menuList\" :key=\"menu.id\">\r\n            <span class=\"ef-node-pmenu\" @click=\"menu.open = !menu.open\"><i :class=\"{'el-icon-caret-bottom': menu.open,'el-icon-caret-right': !menu.open}\"></i>&nbsp;{{menu.name}}</span>\r\n            <ul v-show=\"menu.open\" class=\"ef-node-menu-ul\">\r\n                <draggable class=\"drag-box\" @end=\"end\" @start=\"move\" v-model=\"menu.children\" :options=\"draggableOptions\">\r\n                    <li v-for=\"subMenu in menu.children\" :class=\"'ef-node-menu-li '+ subMenu.nodeTypeID\"  :key=\"subMenu.id\" :type=\"subMenu.nodeTypeID\">\r\n                        <img \r\n                              style=\"width: 50px; height: 50px\"\r\n                             :src=\"require('@/assets/'+subMenu.image)\" \r\n                             alt=\"\">\r\n                             <span> {{subMenu.caption}} </span>\r\n                    </li>\r\n                </draggable>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import draggable from 'vuedraggable'\r\n    import menuList from \"./group\"\r\n    var mousePosition = {\r\n        left: -1,\r\n        top: -1\r\n    }\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                activeNames: '1',\r\n              \r\n                draggableOptions: {\r\n                    preventOnFilter: false,\r\n                    sort: false,\r\n                    disabled: false,\r\n                    ghostClass: 'tt',\r\n                    forceFallback: true,\r\n                    // 拖拽的时候样式\r\n                    // fallbackClass: 'flow-node-draggable'\r\n                },\r\n                // 默认打开的左侧菜单的id\r\n                defaultOpeneds: ['1', '2','3'],\r\n                menuList: menuList,\r\n                nodeMenu: {}\r\n            }\r\n        },\r\n        components: {\r\n            draggable\r\n        },\r\n        created() {\r\n        \r\n            if (this.isFirefox()) {\r\n                document.body.ondrop = function (event) {\r\n                    mousePosition.left = event.layerX\r\n                    mousePosition.top = event.clientY - 50\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            // 根据类型获取左侧菜单对象\r\n            getMenuByType(type) {\r\n                for (let i = 0; i < this.menuList.length; i++) {\r\n                    let children = this.menuList[i].children;\r\n                    for (let j = 0; j < children.length; j++) {\r\n                        if (children[j].nodeTypeID === type) {\r\n                            return children[j]\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            // 拖拽开始时触发\r\n            move(evt, a, b, c) {\r\n                var type = evt.item.attributes.type.nodeValue\r\n                console.log( this.getMenuByType(type),type)\r\n                this.nodeMenu = this.getMenuByType(type)\r\n            },\r\n            // 拖拽结束时触发\r\n            end(evt, e) {\r\n           \r\n                this.$emit('addNode', evt, this.nodeMenu, mousePosition)\r\n            },\r\n            // 是否是火狐浏览器\r\n            isFirefox() {\r\n                var userAgent = navigator.userAgent\r\n                if (userAgent.indexOf(\"Firefox\") > -1) {\r\n                    return true\r\n                }\r\n                return false\r\n            }\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./node_menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./node_menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./node_menu.vue?vue&type=template&id=5f6b970d&\"\nimport script from \"./node_menu.vue?vue&type=script&lang=js&\"\nexport * from \"./node_menu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"流程数据信息\",\"visible\":_vm.dialogVisible,\"width\":\"70%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('br'),_c('codemirror',{staticClass:\"code\",attrs:{\"value\":_vm.flowJsonData,\"options\":_vm.options}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-dialog\r\n            title=\"流程数据信息\"\r\n            :visible.sync=\"dialogVisible\"\r\n            width=\"70%\"\r\n    >\r\n\r\n        <br/>\r\n        <!--一个高亮显示的插件-->\r\n        <codemirror\r\n                :value=\"flowJsonData\"\r\n                :options=\"options\"\r\n                class=\"code\"\r\n        ></codemirror>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\n    import 'codemirror/lib/codemirror.css'\r\n    import { codemirror } from 'vue-codemirror' //生成数据展示演示器\r\n    require(\"codemirror/mode/javascript/javascript.js\")\r\n\r\n    export default {\r\n        props: {\r\n            data: Object,\r\n        },\r\n        data() {\r\n            return {\r\n                dialogVisible: false,\r\n                flowJsonData: {},\r\n                options: {\r\n                    mode: {name: \"javascript\", json: true},\r\n                    lineNumbers: true\r\n                }\r\n            }\r\n        },\r\n        components: {\r\n            codemirror\r\n        },\r\n        methods: {\r\n            init() {\r\n                this.dialogVisible = true\r\n                this.flowJsonData = JSON.stringify(this.data, null, 4).toString()\r\n            }\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./info.vue?vue&type=template&id=5c055b1c&\"\nimport script from \"./info.vue?vue&type=script&lang=js&\"\nexport * from \"./info.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"帮助\",\"visible\":_vm.dialogVisible,\"width\":\"70%\",\"customClass\":\"flowHelp\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-tabs',{attrs:{\"tab-position\":\"left\"}},[_c('el-tab-pane',{attrs:{\"label\":\"如何进行后端交互存储\"}},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"如何进行后端交互存储\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-dialog\r\n            title=\"帮助\"\r\n            :visible.sync=\"dialogVisible\"\r\n            width=\"70%\"\r\n            customClass=\"flowHelp\"\r\n    >\r\n        <el-tabs tab-position=\"left\">\r\n     \r\n            <el-tab-pane label=\"如何进行后端交互存储\">\r\n                <el-divider content-position=\"left\">如何进行后端交互存储</el-divider>\r\n                <!-- <div>参考: https://gitee.com/xiaoka2017/easy-flow-sdk</div> -->\r\n            </el-tab-pane>\r\n        </el-tabs>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                dialogVisible: false\r\n            }\r\n        },\r\n        components: {},\r\n        methods: {\r\n            init() {\r\n                this.dialogVisible = true\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .flowHelp {\r\n        height: 80%;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./help.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./help.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./help.vue?vue&type=template&id=dc0c7054&\"\nimport script from \"./help.vue?vue&type=script&lang=js&\"\nexport * from \"./help.vue?vue&type=script&lang=js&\"\nimport style0 from \"./help.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-left\"},[_c('div',{staticClass:\"ef-node-form\"},[_c('div',{staticClass:\"ef-node-form-body\"},[_c('el-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.type === 'node'),expression:\"type === 'node'\"}],ref:\"dataForm\",attrs:{\"model\":_vm.node}},[_c('div',{staticClass:\"ef-form-title\"},[_c('p',[_vm._v(\" \"+_vm._s(((_vm.node.caption) + \"控件 （ID:\" + (_vm.node.id) + \"）\"))+\" \")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.node.info)+\" \")]),_c('div',{staticClass:\"subline\"})]),_vm._l((_vm.node.parameters),function(item,index){return _c('div',{key:index,staticClass:\"ef-node-form-item\"},[(!_vm.blacklist.includes(item.type))?_c('div',[_c('b',{staticClass:\"form-item-title\"},[_vm._v(\" \"+_vm._s(item.title)+\" \")]),(item.type === 'PTYPE_TEXT')?_c('span',{staticClass:\"PTYPE_TEXT\"},[_vm._v(\" \"+_vm._s(item.defaultValue)+\" \"),_c('br'),_c('span',[_vm._v(\" \"+_vm._s(item.tips))])]):_vm._e(),(item.type === 'PTYPE_INPUT')?_c('div',{staticClass:\"PTYPE_INPUT\"},[_c('el-input',{attrs:{\"placeholder\":item.defaultValue},model:{value:(_vm.node.parameters[index].defaultValue),callback:function ($$v) {_vm.$set(_vm.node.parameters[index], \"defaultValue\", $$v)},expression:\"node.parameters[index].defaultValue\"}}),_c('span',{staticClass:\"el-from-describe\"},[_vm._v(\" \"+_vm._s(item.tips)+\" \")]),_c('div',{staticClass:\"subline\"})],1):_vm._e(),(item.type === 'PTYPE_LABEL')?_c('div',{staticClass:\"PTYPE_LABEL\"},[_c('p',[_vm._v(_vm._s(item.defaultValue))]),_c('span',{staticClass:\"el-from-describe\"},[_vm._v(\" \"+_vm._s(item.tips)+\" \")]),_c('div',{staticClass:\"subline\"})]):_vm._e(),(item.type === 'PTYPE_SELECT')?_c('div',{staticClass:\"PTYPE_SELECT\"},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.node.parameters[index].defaultValue),callback:function ($$v) {_vm.$set(_vm.node.parameters[index], \"defaultValue\", $$v)},expression:\"node.parameters[index].defaultValue\"}},_vm._l((item.values),function(option,inx){return _c('el-option',{key:option.value,attrs:{\"label\":option.label,\"value\":inx}})}),1),(_vm.node.nodeTypeID === 'NID_WAIT')?_c('div',[(_vm.node.parameters[index].defaultValue === 0)?_c('div',{staticClass:\"block\"}):_vm._e(),(_vm.node.parameters[index].defaultValue === 1)?_c('div',{staticClass:\"block\"},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"placeholder\":\"选择日期时间\"},model:{value:(_vm.node.parameters[index].stretch),callback:function ($$v) {_vm.$set(_vm.node.parameters[index], \"stretch\", $$v)},expression:\"node.parameters[index].stretch\"}})],1):_vm._e()]):_vm._e(),_c('span',{staticClass:\"el-from-describe\"},[_vm._v(\" \"+_vm._s(item.tips)+\" \")]),_c('div',{staticClass:\"subline\"})],1):_vm._e(),(item.type === 'PTYPE_TIMELIST')?_c('div',{staticClass:\"PTYPE_TIMELIST\"},[_c('el-time-select',{attrs:{\"picker-options\":{\n                  start: '08:30',\n                  step: '00:15',\n                  end: '18:30'\n                },\"placeholder\":\"选择时间\"},model:{value:(_vm.node.parameters[index].defaultValue),callback:function ($$v) {_vm.$set(_vm.node.parameters[index], \"defaultValue\", $$v)},expression:\"node.parameters[index].defaultValue\"}}),_c('span',{staticClass:\"el-from-describe\"},[_vm._v(\" \"+_vm._s(_vm.node.parameters[index].defaultValue)+\" \"+_vm._s(item.tips)+\" \")]),_c('div',{staticClass:\"subline\"})],1):_vm._e(),(item.type === 'PTYPE_MULTISELECT')?_c('div',{staticClass:\"MultiSelect\"},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"multiple\":\"\",\"collapse-tags\":\"\",\"filterable\":\"\"},model:{value:(item.selectedList),callback:function ($$v) {_vm.$set(item, \"selectedList\", $$v)},expression:\"item.selectedList\"}},_vm._l((item.values),function(option,inx){return _c('el-option',{key:option.value,attrs:{\"label\":option.title,\"value\":inx}})}),1),(item.showInEditor)?_c('div',[_c('b',{staticClass:\"form-item-title\"},[_vm._v(\" \"+_vm._s(item.title)+\" \")]),_c('div',{staticClass:\"select_show\"},[_c('ul',_vm._l((item.selectedList),function(til,inx){return _c('li',{key:inx},[_c('b',[_vm._v(\" \"+_vm._s(item.values[til].title)+\" \")]),_c('span',{on:{\"click\":function($event){return _vm.delhavior(index, inx)}}},[_vm._v(\" 删除 \")])])}),0)])]):_vm._e()],1):_vm._e(),(item.type === 'PTYPE_SELECTGROUP')?_c('div',{staticClass:\"PTYPE_SELECTGROUP\"},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.node.parameters[index].defaultValue),callback:function ($$v) {_vm.$set(_vm.node.parameters[index], \"defaultValue\", $$v)},expression:\"node.parameters[index].defaultValue\"}},_vm._l((item.values),function(option){return _c('el-option',{key:option.value,attrs:{\"label\":option.label,\"value\":option.value}})}),1),_c('b',{staticClass:\"form-item-title\"},[_vm._v(\" \"+_vm._s(_vm.node.parameters[index].values[ _vm.node.parameters[index].defaultValue ].children.title)+\" \")]),_c('el-select',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n                  _vm.node.parameters[index].values[\n                    _vm.node.parameters[index].defaultValue\n                  ].type === 'PTYPE_BEHAVIOR'\n                ),expression:\"\\n                  node.parameters[index].values[\\n                    node.parameters[index].defaultValue\\n                  ].type === 'PTYPE_BEHAVIOR'\\n                \"}],attrs:{\"placeholder\":\"请选择\",\"multiple\":\"\",\"collapse-tags\":\"\",\"filterable\":\"\"},model:{value:(\n                  _vm.node.parameters[index].values[\n                    _vm.node.parameters[index].defaultValue\n                  ].children.selectedList\n                ),callback:function ($$v) {_vm.$set(_vm.node.parameters[index].values[\n                    _vm.node.parameters[index].defaultValue\n                  ].children, \"selectedList\", $$v)},expression:\"\\n                  node.parameters[index].values[\\n                    node.parameters[index].defaultValue\\n                  ].children.selectedList\\n                \"}},_vm._l((_vm.node.parameters[index].values[\n                    _vm.node.parameters[index].defaultValue\n                  ].children.values),function(option,inx){return _c('el-option',{key:option.value,attrs:{\"label\":option.title,\"value\":inx}})}),1),_c('el-select',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n                  _vm.node.parameters[index].values[\n                    _vm.node.parameters[index].defaultValue\n                  ].type === 'PTYPE_OLNYSHOW'\n                ),expression:\"\\n                  node.parameters[index].values[\\n                    node.parameters[index].defaultValue\\n                  ].type === 'PTYPE_OLNYSHOW'\\n                \"}],attrs:{\"placeholder\":\"请选择\"},model:{value:(\n                  _vm.node.parameters[index].values[\n                    _vm.node.parameters[index].defaultValue\n                  ].children.defaultValue\n                ),callback:function ($$v) {_vm.$set(_vm.node.parameters[index].values[\n                    _vm.node.parameters[index].defaultValue\n                  ].children, \"defaultValue\", $$v)},expression:\"\\n                  node.parameters[index].values[\\n                    node.parameters[index].defaultValue\\n                  ].children.defaultValue\\n                \"}},_vm._l((_vm.node.parameters[index].values[\n                    _vm.node.parameters[index].defaultValue\n                  ].children.values),function(option,inx){return _c('el-option',{key:option.value,attrs:{\"label\":option.title,\"value\":inx}})}),1),_c('b',{staticClass:\"form-item-title\"},[_vm._v(\" \"+_vm._s(\"已选择的\" + _vm.node.parameters[index].values[ _vm.node.parameters[index].defaultValue ].children.title)+\" \")]),_c('div',{staticClass:\"select_show\"},[(\n                    _vm.node.parameters[index].values[\n                      _vm.node.parameters[index].defaultValue\n                    ].type === 'PTYPE_BEHAVIOR'\n                  )?_c('ul',_vm._l((_vm.node.parameters[index].values[\n                      _vm.node.parameters[index].defaultValue\n                    ].children.selectedList),function(til,inx){return _c('li',{key:inx},[_c('b',{on:{\"click\":function($event){return _vm.openBox(\n                          //传入node目标属性  所选择的下标\n                          _vm.node.parameters[index].values[\n                            _vm.node.parameters[index].defaultValue\n                          ].children.values[til],\n                          index,\n                          til\n                        )}}},[_vm._v(\" \"+_vm._s(_vm.node.parameters[index].values[ _vm.node.parameters[index].defaultValue ].children.values[til].title)+\" \")]),_c('span',{on:{\"click\":function($event){return _vm.delhavior(index, inx)}}},[_vm._v(\" 删除 \")])])}),0):_vm._e(),(\n                    _vm.node.parameters[index].values[\n                      _vm.node.parameters[index].defaultValue\n                    ].type === 'PTYPE_OLNYSHOW'\n                  )?_c('ul',_vm._l((_vm.node.parameters[index].values[\n                      _vm.node.parameters[index].defaultValue\n                    ].children.values[\n                      _vm.node.parameters[index].values[\n                        _vm.node.parameters[index].defaultValue\n                      ].children.defaultValue\n                    ]),function(value,key,inx){return _c('li',{key:inx},[_c('b',[_vm._v(\" \"+_vm._s(_vm.notelist[inx] + \": \" + value)+\" \")]),_c('br')])}),0):_vm._e()]),_c('span',{staticClass:\"el-from-describe\"},[_vm._v(\" \"+_vm._s(_vm.node.parameters[index].defaultValue)+\" \"+_vm._s(item.tips)+\" \")]),_c('div',{staticClass:\"subline\"})],1):_vm._e()]):_vm._e(),(item.type === 'PTYPE_GROUP')?_c('div',{staticClass:\"PTYPE_GROUP\"},[_c('el-collapse',{attrs:{\"placeholder\":\"请选择\",\"type\":\"hidden\"},model:{value:(_vm.node.parameters[index].defaultValue),callback:function ($$v) {_vm.$set(_vm.node.parameters[index], \"defaultValue\", $$v)},expression:\"node.parameters[index].defaultValue\"}},[_c('el-collapse-item',{attrs:{\"title\":item.title}},_vm._l((item.children),function(items,index){return _c('div',{key:index},_vm._l((_vm.node.parameters),function(items,index){return _c('div',{key:index,staticClass:\"ef-node-form-item\"},[_c('b',{staticClass:\"form-item-title\"},[_vm._v(\" \"+_vm._s(items.title)+\" \")])])}),0)}),0)],1),_c('span',{staticClass:\"el-from-describe\"},[_vm._v(\" \"+_vm._s(item.tips)+\" \")]),_c('div',{staticClass:\"subline\"})],1):_vm._e(),(item.type === 'PTYPE_SWITCH')?_c('el-form-item',[_vm._v(\" > \"+_vm._s(item.title)+\" \"),_c('el-tooltip',{attrs:{\"content\":item.tips,\"placement\":\"top\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"active-value\":\"100\",\"inactive-value\":\"0\"},model:{value:(_vm.node.parameters[index].defaultValue),callback:function ($$v) {_vm.$set(_vm.node.parameters[index], \"defaultValue\", $$v)},expression:\"node.parameters[index].defaultValue\"}})],1)],1):_vm._e(),(item.type === 'PTYPE_CONDITION_DETAILS')?_c('conditional',{attrs:{\"data\":item.data},on:{\"openBox2\":_vm.openBox2}}):_vm._e(),_c('abshunt')],1)}),_c('el-form-item',[_c('el-button',{attrs:{\"icon\":\"el-icon-close\"},on:{\"click\":_vm.Deselect}},[_vm._v(\"关闭\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-check\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],2),_c('el-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.type === 'line'),expression:\"type === 'line'\"}],ref:\"dataForm\",attrs:{\"model\":_vm.line,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"条件\"}},[_c('el-input',{model:{value:(_vm.line.label),callback:function ($$v) {_vm.$set(_vm.line, \"label\", $$v)},expression:\"line.label\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"icon\":\"el-icon-close\"},on:{\"click\":_vm.Deselect}},[_vm._v(\"关闭\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-check\"},on:{\"click\":_vm.saveLine}},[_vm._v(\"保存\")])],1)],1)],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowOpenBox),expression:\"isShowOpenBox\"}],staticClass:\"pop_up\"},[_c('div',{staticClass:\"pop_up_min\"},[_vm._v(\" 配置内容 \")]),_c('el-row',[_c('el-button',{on:{\"click\":_vm.popAffirm}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.popCancel}},[_vm._v(\"确定\")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",staticStyle:{\"width\":\"50%\"},attrs:{\"label-width\":\"80px\",\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"分流方式\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.defaultValue),callback:function ($$v) {_vm.$set(_vm.form, \"defaultValue\", $$v)},expression:\"form.defaultValue\"}},_vm._l((_vm.form.shuntWay),function(s,i){return _c('el-option',{key:i,attrs:{\"label\":s.label,\"value\":s.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"观察周期\"}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('el-input-number',{attrs:{\"min\":1,\"max\":9,\"controls\":false},model:{value:(_vm.form.period),callback:function ($$v) {_vm.$set(_vm.form, \"period\", $$v)},expression:\"form.period\"}}),_c('div',{staticClass:\"baifen\"},[_vm._v(\"天\")])],1)]),_c('el-form-item',[_vm._v(\" 分流比例\"),_c('br'),_vm._l((_vm.form.groups),function(group,i){return _c('div',{key:group.id,staticStyle:{\"display\":\"flex\",\"margin-bottom\":\"20px\"}},[(i == 0)?_c('el-tag',{staticStyle:{\"width\":\"200px\",\"text-align\":\"center\",\"height\":\"40px\",\"line-height\":\"40px\"},attrs:{\"type\":\"info\"}},[_vm._v(_vm._s(group.name))]):_vm._e(),(i != 0)?_c('el-input',{staticStyle:{\"width\":\"200px\",\"text-align\":\"center\",\"height\":\"40px\"},attrs:{\"maxlength\":\"10\",\"placeholder\":\"汉字、字母、数字、_\",\"onkeyup\":\"value=value.replace(/[^\\\\w\\\\u4E00-\\\\u9FA5]/g,'')\",\"color\":\"white\"},model:{value:(group.name),callback:function ($$v) {_vm.$set(group, \"name\", $$v)},expression:\"group.name\"}},[_vm._v(_vm._s(group.name))]):_vm._e(),_c('el-input-number',{attrs:{\"min\":0,\"max\":100,\"controls\":false},model:{value:(group.num),callback:function ($$v) {_vm.$set(group, \"num\", $$v)},expression:\"group.num\"}}),_c('div',{staticClass:\"baifen\"},[_vm._v(\"%\")]),(i >1)?_c('div',{staticClass:\"circle\",on:{\"click\":function($event){return _vm.removeTest(i)}}},[_vm._v(\" X \")]):_vm._e()],1)}),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.add}},[_vm._v(\"添加实验组\")])],2),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveTest}},[_vm._v(\"保存\")]),_c('el-button',[_vm._v(\"取消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-form\r\n    ref=\"form\"\r\n    label-width=\"80px\"\r\n    style=\"width: 50%\"\r\n    label-position=\"top\"\r\n  >\r\n    <el-form-item label=\"分流方式\">\r\n      <el-select v-model=\"form.defaultValue\" placeholder=\"请选择\" >\r\n        <el-option :label=\"s.label\" :value=\"s.value\" v-for=\"(s,i) in form.shuntWay\" :key=\"i\"></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n    <el-form-item label=\"观察周期\">\r\n      <div style=\"display: flex\">\r\n        <el-input-number\r\n          v-model=\"form.period\"\r\n          :min=\"1\"\r\n          :max=\"9\"\r\n          :controls=\"false\"\r\n        ></el-input-number>\r\n        <div class=\"baifen\">天</div>\r\n      </div>\r\n    </el-form-item>\r\n    <el-form-item>\r\n      分流比例<br />\r\n      <div\r\n        style=\"display: flex; margin-bottom: 20px\"\r\n        v-for=\"(group, i) in form.groups\"\r\n        :key=\"group.id\"\r\n      >\r\n        <el-tag\r\n          style=\"\r\n            width: 200px;\r\n            text-align: center;\r\n            height: 40px;\r\n            line-height: 40px;\r\n          \"\r\n          type=\"info\"\r\n          v-if=\"i == 0\"\r\n          >{{ group.name }}</el-tag\r\n        >\r\n        <el-input\r\n          maxlength=\"10\"\r\n          placeholder=\"汉字、字母、数字、_\"\r\n          onkeyup=\"value=value.replace(/[^\\w\\u4E00-\\u9FA5]/g,'')\"\r\n          v-model=\"group.name\"\r\n          style=\"width: 200px; text-align: center; height: 40px\"\r\n          color=\"white\"\r\n          v-if=\"i != 0\"\r\n          >{{ group.name }}</el-input\r\n        >\r\n        <el-input-number\r\n          v-model=\"group.num\"\r\n          :min=\"0\"\r\n          :max=\"100\"\r\n          :controls=\"false\"\r\n        ></el-input-number>\r\n        <div class=\"baifen\">%</div>\r\n        <div class=\"circle\" v-if=\"i >1\" @click=\"removeTest(i)\">\r\n          X\r\n        </div>\r\n      </div>\r\n      <el-button size=\"mini\" @click=\"add\">添加实验组</el-button>\r\n    </el-form-item>\r\n    <el-form-item>\r\n      <el-button type=\"primary\" @click=\"saveTest\">保存</el-button>\r\n      <el-button>取消</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      sum: 100,\r\n      form: [],\r\n    };\r\n  },\r\n  computed: {},\r\n  mounted() {\r\n    this.getData();\r\n  },\r\n  watch: {},\r\n  methods: {\r\n    //实验组长度是否超过20组\r\n    examgleng() {\r\n      if (this.form.groups.length > 19) return false;\r\n      else return true;\r\n    },\r\n    add() {\r\n      if (this.examgleng()) {\r\n        this.form.groups.push({ name: \"\", num: 0});\r\n      } else {\r\n        this.$message({\r\n          message: \"最多存在20组实验\",\r\n          type: \"warning\",\r\n        });\r\n      }\r\n    },\r\n    getData() {\r\n      this.$http(\"/api/abtest\")\r\n        .then((res) => {\r\n          this.form = res.data;\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    removeTest(i) {\r\n      this.form.groups.splice(i, 1);\r\n    },\r\n    //判断实验组的名称是否存在''\r\n    nameIsNull() {\r\n      var result = false;\r\n      for (var item of this.form.groups) {\r\n        if (item.name === \"\") result = true;\r\n      }\r\n      return result;\r\n    },\r\n    saveTest() {\r\n      if (this.nameIsNull()) {\r\n        this.$message({\r\n          message: \"实验组名有为空\",\r\n          type: \"warning\",\r\n        });\r\n      } else {\r\n        this.$message({\r\n          message: \"保存成功\",\r\n          type: \"success\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.circle {\r\n  border-radius: 50%;\r\n  width: 15px;\r\n  height: 15px;\r\n  background-color: gray;\r\n  color: white;\r\n  font-size: 12px;\r\n  line-height: 14px;\r\n  text-align: center;\r\n  position: relative;\r\n  right: 10px;\r\n  bottom: 5px;\r\n}\r\n.circle:hover {\r\n  cursor: pointer;\r\n}\r\n.baifen {\r\n  width: 38px;\r\n  height: 38px;\r\n  border: 1px solid #dcdfe6;\r\n  text-align: center;\r\n}\r\n.el-input input{\r\n  text-align: center;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AB.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AB.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AB.vue?vue&type=template&id=2f4dd456&\"\nimport script from \"./AB.vue?vue&type=script&lang=js&\"\nexport * from \"./AB.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AB.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"form-left\">\r\n    <div class=\"ef-node-form\">\r\n      <!-- <div class=\"ef-node-form-header\">\r\n        编辑\r\n      </div> -->\r\n      <div class=\"ef-node-form-body\">\r\n        <!-- 常规控件展示内容 -->\r\n        <el-form :model=\"node\" ref=\"dataForm\" v-show=\"type === 'node'\">\r\n          <div class=\"ef-form-title\">\r\n            <!-- from标题 -->\r\n            <p>\r\n              {{ `${node.caption}控件  （ID:${node.id}）` }}\r\n            </p>\r\n            <span>\r\n              {{ node.info }}\r\n            </span>\r\n            <div class=\"subline\"></div>\r\n          </div>\r\n          <div\r\n            class=\"ef-node-form-item\"\r\n            v-for=\"(item, index) in node.parameters\"\r\n            :key=\"index\"\r\n          >\r\n            <div v-if=\"!blacklist.includes(item.type)\">\r\n              <!-- //标题 -->\r\n              <b class=\"form-item-title\">\r\n                {{ item.title }}\r\n              </b>\r\n              <!-- 文本标签 -->\r\n              <span class=\"PTYPE_TEXT\" v-if=\"item.type === 'PTYPE_TEXT'\">\r\n                {{ item.defaultValue }}\r\n                <br />\r\n                <span> {{ item.tips }}</span>\r\n              </span>\r\n              <!-- input -->\r\n              <div class=\"PTYPE_INPUT\" v-if=\"item.type === 'PTYPE_INPUT'\">\r\n                <el-input\r\n                  v-model=\"node.parameters[index].defaultValue\"\r\n                  :placeholder=\"item.defaultValue\"\r\n                >\r\n                </el-input>\r\n                <span class=\"el-from-describe\">\r\n                  {{ item.tips }}\r\n                </span>\r\n                <div class=\"subline\"></div>\r\n              </div>\r\n              <!-- label -->\r\n              <div class=\"PTYPE_LABEL\" v-if=\"item.type === 'PTYPE_LABEL'\">\r\n                <p>{{ item.defaultValue }}</p>\r\n                <span class=\"el-from-describe\">\r\n                  {{ item.tips }}\r\n                </span>\r\n                <div class=\"subline\"></div>\r\n              </div>\r\n              <!-- 下拉框 -->\r\n              <div class=\"PTYPE_SELECT\" v-if=\"item.type === 'PTYPE_SELECT'\">\r\n                <el-select\r\n                  v-model=\"node.parameters[index].defaultValue\"\r\n                  placeholder=\"请选择\"\r\n                >\r\n                  <el-option\r\n                    v-for=\"(option, inx) in item.values\"\r\n                    :key=\"option.value\"\r\n                    :label=\"option.label\"\r\n                    :value=\"inx\"\r\n                  >\r\n                  </el-option>\r\n                </el-select>\r\n                <div v-if=\"node.nodeTypeID === 'NID_WAIT'\">\r\n                  <!-- 等待一段时间 -->\r\n                  <div\r\n                    class=\"block\"\r\n                    v-if=\"node.parameters[index].defaultValue === 0\"\r\n                  >\r\n                \r\n                  </div>\r\n                  <!-- 等待一段具体的某一时间点 -->\r\n                  <div class=\"block\"\r\n                   v-if=\"node.parameters[index].defaultValue === 1\">\r\n                    <el-date-picker\r\n                      v-model=\"node.parameters[index].stretch\"\r\n                      type=\"datetime\"\r\n                      placeholder=\"选择日期时间\"\r\n                    >\r\n                    </el-date-picker>\r\n                  </div>\r\n                </div>\r\n\r\n                <span class=\"el-from-describe\">\r\n                  {{ item.tips }}\r\n                </span>\r\n                <div class=\"subline\"></div>\r\n              </div>\r\n\r\n              <!-- 时间选择器 -->\r\n              <div class=\"PTYPE_TIMELIST\" v-if=\"item.type === 'PTYPE_TIMELIST'\">\r\n                <el-time-select\r\n                  v-model=\"node.parameters[index].defaultValue\"\r\n                  :picker-options=\"{\r\n                    start: '08:30',\r\n                    step: '00:15',\r\n                    end: '18:30'\r\n                  }\"\r\n                  placeholder=\"选择时间\"\r\n                >\r\n                </el-time-select>\r\n\r\n                <span class=\"el-from-describe\">\r\n                  {{ node.parameters[index].defaultValue }}\r\n                  {{ item.tips }}\r\n                </span>\r\n                <div class=\"subline\"></div>\r\n              </div>\r\n              <!-- 多选 -->\r\n              <div class=\"MultiSelect\" v-if=\"item.type === 'PTYPE_MULTISELECT'\">\r\n                <el-select\r\n                  v-model=\"item.selectedList\"\r\n                  placeholder=\"请选择\"\r\n                  multiple\r\n                  collapse-tags\r\n                  filterable\r\n                >\r\n                  <el-option\r\n                    v-for=\"(option, inx) in item.values\"\r\n                    :key=\"option.value\"\r\n                    :label=\"option.title\"\r\n                    :value=\"inx\"\r\n                  >\r\n                  </el-option>\r\n                </el-select>\r\n                <!-- 是否展示选中内容 -->\r\n                <div v-if=\"item.showInEditor\">\r\n                  <b class=\"form-item-title\">\r\n                    {{ item.title }}\r\n                  </b>\r\n                  <div class=\"select_show\">\r\n                    <ul>\r\n                      <li v-for=\"(til, inx) in item.selectedList\" :key=\"inx\">\r\n                        <b>\r\n                          {{ item.values[til].title }}\r\n                        </b>\r\n\r\n                        <span @click=\"delhavior(index, inx)\"> 删除 </span>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- 特殊下拉框 -->\r\n              <div\r\n                class=\"PTYPE_SELECTGROUP\"\r\n                v-if=\"item.type === 'PTYPE_SELECTGROUP'\"\r\n              >\r\n                <el-select\r\n                  v-model=\"node.parameters[index].defaultValue\"\r\n                  placeholder=\"请选择\"\r\n                >\r\n                  <el-option\r\n                    v-for=\"option in item.values\"\r\n                    :key=\"option.value\"\r\n                    :label=\"option.label\"\r\n                    :value=\"option.value\"\r\n                  >\r\n                  </el-option>\r\n                </el-select>\r\n                <!-- 联动的下拉框 -->\r\n                <b class=\"form-item-title\">\r\n                  {{\r\n                    node.parameters[index].values[\r\n                      node.parameters[index].defaultValue\r\n                    ].children.title\r\n                  }}\r\n                </b>\r\n\r\n                <el-select\r\n                  v-show=\"\r\n                    node.parameters[index].values[\r\n                      node.parameters[index].defaultValue\r\n                    ].type === 'PTYPE_BEHAVIOR'\r\n                  \"\r\n                  v-model=\"\r\n                    node.parameters[index].values[\r\n                      node.parameters[index].defaultValue\r\n                    ].children.selectedList\r\n                  \"\r\n                  placeholder=\"请选择\"\r\n                  multiple\r\n                  collapse-tags\r\n                  filterable\r\n                >\r\n                  <el-option\r\n                    v-for=\"(option, inx) in node.parameters[index].values[\r\n                      node.parameters[index].defaultValue\r\n                    ].children.values\"\r\n                    :key=\"option.value\"\r\n                    :label=\"option.title\"\r\n                    :value=\"inx\"\r\n                  >\r\n                  </el-option>\r\n                </el-select>\r\n\r\n                <el-select\r\n                  v-show=\"\r\n                    node.parameters[index].values[\r\n                      node.parameters[index].defaultValue\r\n                    ].type === 'PTYPE_OLNYSHOW'\r\n                  \"\r\n                  v-model=\"\r\n                    node.parameters[index].values[\r\n                      node.parameters[index].defaultValue\r\n                    ].children.defaultValue\r\n                  \"\r\n                  placeholder=\"请选择\"\r\n                >\r\n                  <el-option\r\n                    v-for=\"(option, inx) in node.parameters[index].values[\r\n                      node.parameters[index].defaultValue\r\n                    ].children.values\"\r\n                    :key=\"option.value\"\r\n                    :label=\"option.title\"\r\n                    :value=\"inx\"\r\n                  >\r\n                  </el-option>\r\n                </el-select>\r\n\r\n                <!-- 展示区 -->\r\n\r\n                <b class=\"form-item-title\">\r\n                  {{\r\n                    \"已选择的\" +\r\n                      node.parameters[index].values[\r\n                        node.parameters[index].defaultValue\r\n                      ].children.title\r\n                  }}\r\n                </b>\r\n                <!-- v-if=\"node.parameters[index].values[\r\n                      node.parameters[index].defaultValue\r\n                    ].type=='PTYPE_BEHAVIOR'\" -->\r\n                <div class=\"select_show\">\r\n                  <ul\r\n                    v-if=\"\r\n                      node.parameters[index].values[\r\n                        node.parameters[index].defaultValue\r\n                      ].type === 'PTYPE_BEHAVIOR'\r\n                    \"\r\n                  >\r\n                    <li\r\n                      v-for=\"(til, inx) in node.parameters[index].values[\r\n                        node.parameters[index].defaultValue\r\n                      ].children.selectedList\"\r\n                      :key=\"inx\"\r\n                    >\r\n                      <b\r\n                        @click=\"\r\n                          openBox(\r\n                            //传入node目标属性  所选择的下标\r\n                            node.parameters[index].values[\r\n                              node.parameters[index].defaultValue\r\n                            ].children.values[til],\r\n                            index,\r\n                            til\r\n                          )\r\n                        \"\r\n                      >\r\n                        {{\r\n                          node.parameters[index].values[\r\n                            node.parameters[index].defaultValue\r\n                          ].children.values[til].title\r\n                        }}\r\n                      </b>\r\n\r\n                      <span @click=\"delhavior(index, inx)\"> 删除 </span>\r\n                    </li>\r\n                  </ul>\r\n\r\n                  <ul\r\n                    v-if=\"\r\n                      node.parameters[index].values[\r\n                        node.parameters[index].defaultValue\r\n                      ].type === 'PTYPE_OLNYSHOW'\r\n                    \"\r\n                  >\r\n                    <li\r\n                      v-for=\"(value, key, inx) in node.parameters[index].values[\r\n                        node.parameters[index].defaultValue\r\n                      ].children.values[\r\n                        node.parameters[index].values[\r\n                          node.parameters[index].defaultValue\r\n                        ].children.defaultValue\r\n                      ]\"\r\n                      :key=\"inx\"\r\n                    >\r\n                      <b> {{ notelist[inx] + \": \" + value }} </b><br />\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n\r\n                <span class=\"el-from-describe\">\r\n                  {{ node.parameters[index].defaultValue }}\r\n                  {{ item.tips }}\r\n                </span>\r\n                <div class=\"subline\"></div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 折叠面板 -->\r\n            <div class=\"PTYPE_GROUP\" v-if=\"item.type === 'PTYPE_GROUP'\">\r\n              <el-collapse\r\n                v-model=\"node.parameters[index].defaultValue\"\r\n                placeholder=\"请选择\"\r\n                type=\"hidden\"\r\n              >\r\n                <el-collapse-item :title=\"item.title\">\r\n                  <div v-for=\"(items, index) in item.children\" :key=\"index\">\r\n                    <div\r\n                      class=\"ef-node-form-item\"\r\n                      v-for=\"(items, index) in node.parameters\"\r\n                      :key=\"index\"\r\n                    >\r\n                      <!-- //标题 -->\r\n                      <b class=\"form-item-title\">\r\n                        {{ items.title }}\r\n                      </b>\r\n                      <!-- 描述信息 -->\r\n                      <!-- <el-divider></el-divider> -->\r\n\r\n                      <!-- 文本标签 -->\r\n                      <!-- <span class=\"PTYPE_TEXT\">\r\n                      {{ items.defaultValue }}\r\n                      <br />\r\n                      <span> {{ items.tips }}</span>\r\n                    </span> -->\r\n                    </div>\r\n                  </div>\r\n                </el-collapse-item>\r\n              </el-collapse>\r\n              <span class=\"el-from-describe\">\r\n                {{ item.tips }}\r\n              </span>\r\n              <div class=\"subline\"></div>\r\n            </div>\r\n\r\n            <!-- 开关 -->\r\n            <el-form-item v-if=\"item.type === 'PTYPE_SWITCH'\">\r\n              >\r\n              {{ item.title }}\r\n              <el-tooltip :content=\"item.tips\" placement=\"top\">\r\n                <el-switch\r\n                  v-model=\"node.parameters[index].defaultValue\"\r\n                  active-color=\"#13ce66\"\r\n                  inactive-color=\"#ff4949\"\r\n                  active-value=\"100\"\r\n                  inactive-value=\"0\"\r\n                >\r\n                </el-switch>\r\n              </el-tooltip>\r\n            </el-form-item>\r\n\r\n          \r\n                        <!-- //条件分支抽出类 -->\r\n         \r\n              <conditional\r\n              v-if=\"item.type === 'PTYPE_CONDITION_DETAILS'\"\r\n              :data=\"item.data\"\r\n              @openBox2=\"openBox2\"\r\n              ></conditional>\r\n\r\n                    <abshunt\r\n        \r\n      \r\n              ></abshunt>\r\n\r\n          </div>\r\n\r\n\r\n\r\n\r\n\r\n          <el-form-item >\r\n            <el-button icon=\"el-icon-close\" @click=\"Deselect\">关闭</el-button>\r\n            <el-button type=\"primary\" icon=\"el-icon-check\" @click=\"save\"\r\n              >保存</el-button\r\n            >\r\n          </el-form-item>\r\n        </el-form>\r\n        <!-- 线型控件展示内容 -->\r\n        <el-form\r\n          :model=\"line\"\r\n          ref=\"dataForm\"\r\n          label-width=\"80px\"\r\n          v-show=\"type === 'line'\"\r\n        >\r\n          <el-form-item label=\"条件\">\r\n            <el-input v-model=\"line.label\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button icon=\"el-icon-close\" @click=\"Deselect\">关闭</el-button>\r\n            <el-button type=\"primary\" icon=\"el-icon-check\" @click=\"saveLine\"\r\n              >保存</el-button\r\n            >\r\n          </el-form-item>\r\n        </el-form>\r\n\r\n\r\n      </div>\r\n      <!--            <div class=\"el-node-form-tag\"></div>-->\r\n    </div>\r\n    <!-- 弹出框 配置 -->\r\n    <div class=\"pop_up\" v-show=\"isShowOpenBox\">\r\n      <div class=\"pop_up_min\">\r\n        配置内容\r\n      </div>\r\n      <el-row>\r\n        <el-button @click=\"popAffirm\">取消</el-button>\r\n        <el-button @click=\"popCancel\" type=\"primary\">确定</el-button>\r\n      </el-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { cloneDeep } from \"lodash\";\r\nimport  abshunt  from \"./AB\"\r\nimport conditional from \"../ef/conditional\"\r\nexport default {\r\n  data() {\r\n    return {\r\n      visible: true,\r\n      // node 或 line\r\n      type: \"node\",\r\n      node: {},\r\n      line: {},\r\n      data: {},\r\n      blacklist: [\"PTYPE_GROUP\", \"PTYPE_SWITCH\"], //组件标题黑名单\r\n      switchValue: \"\",\r\n      activeNames: [\"1\"],\r\n      isShowOpenBox: false, //弹框展示\r\n      op: \"\", //node弹出框数据\r\n      notelist: [\"人群名称\", \"人群ID\", \"有效期至\", \"创建人\", \"创建时间\"],\r\n      stateList: [\r\n        {\r\n          state: \"success\",\r\n          label: \"成功\"\r\n        },\r\n        {\r\n          state: \"warning\",\r\n          label: \"警告\"\r\n        },\r\n        {\r\n          state: \"error\",\r\n          label: \"错误\"\r\n        },\r\n        {\r\n          state: \"running\",\r\n          label: \"运行中\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  created() {},\r\n   components: {\r\n    conditional,\r\n    abshunt,\r\n  },\r\n  methods: {\r\n    /**\r\n     * 表单修改，这里可以根据传入的ID进行业务信息获取\r\n     * @param data\r\n     * @param id\r\n     */\r\n    nodeInit(data, id) {\r\n      this.type = \"node\";\r\n      this.data = data;\r\n      data.nodeList.filter(node => {\r\n        if (node.id === id) {\r\n          this.node = cloneDeep(node);\r\n        }\r\n      });\r\n      console.log(this.node, \"wwwwwwwwwwwwwwwww\");\r\n    },\r\n\r\n    lineInit(line) {\r\n      this.type = \"line\";\r\n      this.line = line;\r\n    },\r\n    // 修改连线\r\n    saveLine() {\r\n      this.$emit(\"setLineLabel\", this.line.from, this.line.to, this.line.label);\r\n      this.$emit(\"isHideFrom\", false);\r\n    },\r\n    Deselect() {\r\n      this.$emit(\"isHideFrom\", false);\r\n    },\r\n\r\n    save() {\r\n      this.data.nodeList.filter(node => {\r\n        if (node.id === this.node.id) {\r\n          // node.name = this.node.name;\r\n          node.left = this.node.left;\r\n          node.top = this.node.top;\r\n          node.parameters = this.node.parameters;\r\n          this.$emit(\"repaintEverything\");\r\n        }\r\n      });\r\n      this.$emit(\"isHideFrom\", false);\r\n    },\r\n    handleChange(val) {\r\n      console.log(val);\r\n    },\r\n    // 打开弹框\r\n    openBox(message, index, til) {\r\n      console.log(\"d要打开弹框拉\");\r\n      //\r\n      this.isShowOpenBox = true;\r\n      this.op = this.node.parameters[index].values[\r\n        this.node.parameters[index].defaultValue\r\n      ].children.values[til];\r\n    },\r\n    //删除每项已选择用户行为\r\n    delhavior(index, inx) {\r\n      let op = this.node.parameters[index].values[\r\n        this.node.parameters[index].defaultValue\r\n      ].children.selectedList;\r\n      op.splice(inx, 1);\r\n      this.$message({\r\n        type: \"success\",\r\n        message: \"删除成功\"\r\n      });\r\n    },\r\n    popCancel() {\r\n      this.isShowOpenBox = false;\r\n    },\r\n     openBox2() {\r\n      this.isShowOpenBox = true;\r\n    },\r\n    popAffirm() {\r\n      this.isShowOpenBox = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n.form-left,\r\n.ef-node-form {\r\n  height: 100%;\r\n}\r\n.ef-form-title {\r\n  padding: 20px 20px 0px 20px;\r\n\r\n  p {\r\n    color: rgb(52, 137, 158);\r\n    font-weight: 700;\r\n    font-size: 18px;\r\n    width: 100%;\r\n    overflow: hidden; /*超出的部分隐藏起来。*/\r\n    white-space: nowrap; /*不显示的地方用省略号...代替*/\r\n  }\r\n\r\n  span {\r\n    font-size: 12px;\r\n    color: rgb(145, 145, 145);\r\n  }\r\n}\r\n.subline {\r\n  line-height: 100%;\r\n  height: 2px;\r\n  background-color: #ccc;\r\n  margin-top: 20px;\r\n}\r\n.ef-node-form-body {\r\n  display: flex;\r\n  // flex-direction: column;\r\n  // justify-items: center;\r\n  // align-items: center;\r\n  // padding-left: 20px;\r\n  height: 100%;\r\n  // overflow-x: hidden;\r\n  overflow-y: scroll;\r\n}\r\n.el-form {\r\n  width: 100%;\r\n}\r\n.el-button {\r\n  margin-left: 5px;\r\n  width: 45% !important;\r\n  // border: none;\r\n}\r\n\r\n.el-node-form-tag {\r\n  position: absolute;\r\n  top: 50%;\r\n  margin-left: -15px;\r\n  height: 40px;\r\n  width: 15px;\r\n  background-color: #fbfbfb;\r\n  border: 1px solid rgb(220, 227, 232);\r\n  border-right: none;\r\n  z-index: 0;\r\n}\r\n\r\n.ef-node-form-item {\r\n  padding: 20px;\r\n  padding-bottom: 15px;\r\n  box-sizing: border-box;\r\n\r\n  .form-item-title {\r\n    display: block;\r\n    // height: 70px;\r\n    margin-bottom: 10px;\r\n    font-size: 14px;\r\n    width: 100%;\r\n    height: 30px;\r\n    line-height: 30px;\r\n    color: #54afca;\r\n    // border-bottom: solid 1px #ccc;\r\n  }\r\n  .el-from-describe {\r\n    //描述信息\r\n    display: block;\r\n    margin-top: 10px;\r\n    font-size: 12px;\r\n    color: rgb(197, 197, 197);\r\n  }\r\n  .PTYPE_TEXT {\r\n    font-size: 14px;\r\n    span {\r\n      font-size: 12px;\r\n      color: rgb(145, 145, 145);\r\n    }\r\n  }\r\n  .PTYPE_GROUP {\r\n    padding: 0;\r\n  }\r\n  .PTYPE_GROUP {\r\n    margin-left: -20px;\r\n    width: 124%;\r\n    color: wheat;\r\n    // background-color: #009bd8 !important;\r\n  }\r\n}\r\n.el-collapse-item__header {\r\n  background-color: red;\r\n}\r\n.el-select {\r\n  width: 100%;\r\n  margin-bottom: 10px;\r\n  overflow: hidden;\r\n}\r\n.select_show {\r\n  margin-top: 10px;\r\n  width: 100%;\r\n  // height: 300px;\r\n  padding: 15px 0px;\r\n  background-color: #ccc;\r\n  ul {\r\n    margin-top: 10px;\r\n    width: 100%;\r\n    // height: 300px;\r\n    background-color: #ccc;\r\n    padding: 0;\r\n    .select_show_add {\r\n      display: flex;\r\n      justify-content: end;\r\n      b {\r\n        width: auto;\r\n      }\r\n    }\r\n    li {\r\n      height: 30px;\r\n      padding: 0 10px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      font-size: 13px;\r\n\r\n      span {\r\n        color: rgb(95, 92, 92);\r\n      }\r\n      span:hover {\r\n        font-weight: 800;\r\n        cursor: pointer;\r\n      }\r\n      b {\r\n        color: rgb(11, 145, 255);\r\n        width: 180px;\r\n        overflow: hidden; /*超出的部分隐藏起来。*/\r\n        white-space: nowrap; /*不显示的地方用省略号...代替*/\r\n      }\r\n      b:hover {\r\n        border-bottom: solid 2px #ccc;\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  }\r\n}\r\n.pop_up {\r\n  width: 300px;\r\n  height: 500px;\r\n  background-color: rgb(255, 255, 255);\r\n  box-shadow: darkgrey 10px 10px 30px 5px;\r\n  padding: 15px;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  .pop_up_min {\r\n    flex: 1;\r\n  }\r\n}\r\n.block {\r\n  width: 100%;\r\n  div {\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./node_form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./node_form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./node_form.vue?vue&type=template&id=6612230a&scoped=true&\"\nimport script from \"./node_form.vue?vue&type=script&lang=js&\"\nexport * from \"./node_form.vue?vue&type=script&lang=js&\"\nimport style0 from \"./node_form.vue?vue&type=style&index=0&id=6612230a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6612230a\",\n  null\n  \n)\n\nexport default component.exports","var dataC = {\r\n    \"id\": 1,\r\n    \"name\": \"模拟流程\",\r\n    \"jobType\": \"\",\r\n    \"jobName\": \"\",\r\n    \"jobDescription\": \"\",\r\n    \"jobVersion\": \"\",\r\n    \"triggerWay\": \"\",\r\n    \"startTime\": \"\",\r\n    \"endTime\": \"\",\r\n    \"jobState\": \"\",\r\n    \"createBy\": \"\",\r\n    \"approvalTime\": \"\",\r\n\t\"nodeList\":[],\r\n    \"lineList\": [\r\n       \r\n    ]\r\n}\r\n\r\nexport function getDataC() {\r\n    return dataC\r\n}\r\n","<template>\r\n  <div v-if=\"easyFlowVisible\" style=\"height: calc(100vh);\">\r\n    <el-row>\r\n      <!--顶部工具菜单-->\r\n      <el-col :span=\"24\">\r\n        <div class=\"ef-tooltar\">\r\n          <div style=\"float: left;margin-left: 5px\">\r\n            <el-button\r\n              type=\"primary\"\r\n              plain\r\n              round\r\n              icon=\"el-icon-refresh\"\r\n              size=\"mini\"\r\n              @click=\"giveUp\"\r\n              >退出编辑</el-button\r\n            >\r\n            <el-button\r\n              type=\"primary\"\r\n              plain\r\n              round\r\n              icon=\"el-icon-refresh\"\r\n              size=\"mini\"\r\n              @click=\"conserve\"\r\n              >保存任务</el-button\r\n            >\r\n            <el-button\r\n              type=\"primary\"\r\n              plain\r\n              round\r\n              icon=\"el-icon-refresh\"\r\n              size=\"mini\"\r\n              @click=\"setTask\"\r\n              >任务设置</el-button\r\n            >\r\n            <el-button\r\n              type=\"primary\"\r\n              plain\r\n              round\r\n              icon=\"el-icon-refresh\"\r\n              size=\"mini\"\r\n              >自定义变量</el-button\r\n            >\r\n            <el-button\r\n              type=\"primary\"\r\n              plain\r\n              round\r\n              icon=\"el-icon-refresh\"\r\n              size=\"mini\"\r\n              @click=\"Operation\"\r\n              >执行流程</el-button\r\n            >\r\n          </div>\r\n\r\n          <div style=\"float: right;margin-right: 5px\">\r\n            <el-link type=\"primary\" :underline=\"false\">{{ data.name }}</el-link>\r\n            <el-divider direction=\"vertical\"></el-divider>\r\n            <el-button\r\n              type=\"text\"\r\n              icon=\"el-icon-delete\"\r\n              size=\"large\"\r\n              @click=\"deleteElement\"\r\n              :disabled=\"!this.activeElement.type\"\r\n            ></el-button>\r\n            <el-divider direction=\"vertical\"></el-divider>\r\n            <!-- <el-button type=\"text\" icon=\"el-icon-download\" size=\"large\" @click=\"downloadData\"></el-button> -->\r\n            <el-divider direction=\"vertical\"></el-divider>\r\n            <el-button\r\n              type=\"text\"\r\n              icon=\"el-icon-plus\"\r\n              size=\"large\"\r\n              @click=\"zoomAdd\"\r\n            ></el-button>\r\n            <el-divider direction=\"vertical\"></el-divider>\r\n            <el-button\r\n              type=\"text\"\r\n              icon=\"el-icon-minus\"\r\n              size=\"large\"\r\n              @click=\"zoomSub\"\r\n            ></el-button>\r\n            <el-button\r\n              type=\"info\"\r\n              plain\r\n              round\r\n              icon=\"el-icon-document\"\r\n              @click=\"dataInfo\"\r\n              size=\"mini\"\r\n              >流程信息</el-button\r\n            >\r\n            <!-- <el-button type=\"primary\" plain round @click=\"dataReloadA\" icon=\"el-icon-refresh\" size=\"mini\">切换流程A</el-button> -->\r\n            <el-button\r\n              type=\"primary\"\r\n              plain\r\n              round\r\n              @click=\"dataReloadC\"\r\n              icon=\"el-icon-refresh\"\r\n              size=\"mini\"\r\n              >默认样式</el-button\r\n            >\r\n            <!-- <el-button type=\"primary\" plain round @click=\"dataReloadC\" icon=\"el-icon-refresh\" size=\"mini\">切换流程C</el-button> -->\r\n            <!-- <el-button type=\"primary\" plain round @click=\"dataReloadD\" icon=\"el-icon-refresh\" size=\"mini\">自定义样式</el-button> -->\r\n            <!-- <el-button type=\"info\" plain round icon=\"el-icon-document\" @click=\"openHelp\" size=\"mini\">帮助</el-button> -->\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <div style=\"display: flex;height: calc(100% - 47px);\">\r\n      <div style=\"width: 230px;border-right: 1px solid #dce3e8;\">\r\n        <node-menu @addNode=\"addNode\" ref=\"nodeMenu\"></node-menu>\r\n      </div>\r\n      <div class=\"wiper\">\r\n        <div id=\"efContainer\" ref=\"efContainer\" class=\"container\" v-flowDrag>\r\n          <template v-for=\"node in data.nodeList\">\r\n            <!-- 画布要展示的组件 -->\r\n\r\n            <flow-node\r\n              :id=\"node.id\"\r\n              :key=\"node.id\"\r\n              :node=\"node\"\r\n              ref=\"flowNode\"\r\n              :activeElement=\"activeElement\"\r\n              @changeNodeSite=\"changeNodeSite\"\r\n              @nodeRightMenu=\"nodeRightMenu\"\r\n              @dblclick=\"clickNode\"\r\n            >\r\n            </flow-node>\r\n          </template>\r\n          <!-- 给画布一个默认的宽度和高度 -->\r\n          <!-- <div style=\"position:absolute;top: 2000px;left: 2000px;\">&nbsp;</div> -->\r\n        </div>\r\n      </div>\r\n      <!-- 右侧表单 -->\r\n      <div\r\n        v-show=\"this.isShowForm\"\r\n        style=\"width: 360px;border-left: 1px solid #dce3e8;background-color: #FBFBFB\"\r\n      >\r\n        <flow-node-form\r\n          ref=\"nodeForm\"\r\n          @setLineLabel=\"setLineLabel\"\r\n          @repaintEverything=\"repaintEverything\"\r\n          @isHideFrom=\"isHideFrom\"\r\n        ></flow-node-form>\r\n      </div>\r\n    </div>\r\n    <!-- 流程数据详情 -->\r\n    <flow-info v-if=\"flowInfoVisible\" ref=\"flowInfo\" :data=\"data\"></flow-info>\r\n    <flow-help v-if=\"flowHelpVisible\" ref=\"flowHelp\"></flow-help>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport draggable from \"vuedraggable\";\r\n// import { jsPlumb } from 'jsplumb'\r\n// 使用修改后的jsplumb\r\nimport \"./jsplumb\";\r\nimport { easyFlowMixin } from \"@/components/ef/mixins\";\r\nimport flowNode from \"@/components/ef/node\";\r\nimport nodeMenu from \"@/components/ef/node_menu\";\r\nimport FlowInfo from \"@/components/ef/info\";\r\nimport FlowHelp from \"@/components/ef/help\";\r\nimport FlowNodeForm from \"./node_form\";\r\nimport lodash from \"lodash\";\r\n\r\nimport { getDataC } from \"./data_C\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // jsPlumb 实例\r\n      jsPlumb: null,\r\n      // 控制画布销毁\r\n      easyFlowVisible: true,\r\n      // 控制流程数据显示与隐藏\r\n      flowInfoVisible: false,\r\n      // 是否加载完毕标志位\r\n      loadEasyFlowFinish: false,\r\n      flowHelpVisible: false,\r\n      // 数据\r\n      data: {},\r\n      // 激活的元素、可能是节点、可能是连线\r\n      activeElement: {\r\n        // 可选值 node 、line\r\n        type: undefined,\r\n        // 节点ID\r\n        nodeId: undefined,\r\n        // 连线ID\r\n        sourceId: undefined,\r\n        targetId: undefined\r\n      },\r\n      zoom: 0.5,\r\n      isShowForm: false\r\n    };\r\n  },\r\n  // 一些基础配置移动该文件中\r\n  mixins: [easyFlowMixin],\r\n  components: {\r\n    // draggable,\r\n    flowNode,\r\n    nodeMenu,\r\n    FlowInfo,\r\n    FlowNodeForm,\r\n    FlowHelp\r\n  },\r\n  directives: {\r\n    flowDrag: {\r\n      bind(el, binding, vnode, oldNode) {\r\n        if (!binding) {\r\n          return;\r\n        }\r\n        el.onmousedown = e => {\r\n          if (e.button == 2) {\r\n            // 右键不管\r\n            return;\r\n          }\r\n          //  鼠标按下，计算当前原始距离可视区的高度\r\n          let disX = e.clientX;\r\n          let disY = e.clientY;\r\n          el.style.cursor = \"move\";\r\n\r\n          document.onmousemove = function(e) {\r\n            // 移动时禁止默认事件\r\n            e.preventDefault();\r\n            const left = e.clientX - disX;\r\n            disX = e.clientX;\r\n            el.scrollLeft += -left;\r\n\r\n            const top = e.clientY - disY;\r\n            disY = e.clientY;\r\n            el.scrollTop += -top;\r\n          };\r\n\r\n          document.onmouseup = function(e) {\r\n            el.style.cursor = \"auto\";\r\n            document.onmousemove = null;\r\n            document.onmouseup = null;\r\n          };\r\n        };\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.jsPlumb = jsPlumb.getInstance();\r\n    this.$nextTick(() => {\r\n      // 默认加载流程A的数据\r\n      this.dataReload(getDataC());\r\n    });\r\n  },\r\n  methods: {\r\n    // 返回唯一标识\r\n    getUUID() {\r\n      let id= Math.random()\r\n        .toString(36)\r\n        .substr(3, 10);\r\n\r\n         var date = new Date();\r\n    var y = date.getFullYear();\r\n    var m = date.getMonth() + 1;\r\n    m = m < 10 ? ('0' + m) : m;\r\n    var d = date.getDate();\r\n    d = d < 10 ? ('0' + d) : d;\r\n    var h = date.getHours();\r\n    var minute = date.getMinutes();\r\n    var second = date.getSeconds();\r\n    return `${y}${m}${d}${h}${minute}${second}${id}`;\r\n    },\r\n    jsPlumbInit() {\r\n      this.jsPlumb.ready(() => {\r\n        // 导入默认配置\r\n        this.jsPlumb.importDefaults(this.jsplumbSetting);\r\n        // 会使整个jsPlumb立即重绘。\r\n        this.jsPlumb.setSuspendDrawing(false, true);\r\n        // 初始化节点\r\n        this.loadEasyFlow();\r\n        this.jsPlumb.bind(\"click\", (conn, originalEvent) => {\r\n          this.isHideFrom(true);\r\n          this.activeElement.type = \"line\";\r\n          this.activeElement.sourceId = conn.sourceId;\r\n          this.activeElement.targetId = conn.targetId;\r\n          this.$refs.nodeForm.lineInit({\r\n            from: conn.sourceId,\r\n            to: conn.targetId,\r\n            label: conn.getLabel()\r\n          });\r\n        });\r\n        // 连线\r\n        this.jsPlumb.bind(\"connection\", evt => {\r\n          let from = evt.source.id;\r\n          let to = evt.target.id;\r\n          console.log()\r\n          if (this.loadEasyFlowFinish) {\r\n            this.data.lineList.push({ from: from, to: to });\r\n          }\r\n        });\r\n\r\n        // 删除连线回调\r\n        this.jsPlumb.bind(\"connectionDetached\", evt => {\r\n          this.deleteLine(evt.sourceId, evt.targetId);\r\n        });\r\n\r\n        // 改变线的连接节点\r\n        this.jsPlumb.bind(\"connectionMoved\", evt => {\r\n          this.changeLine(evt.originalSourceId, evt.originalTargetId);\r\n        });\r\n\r\n        // 连线右击\r\n        this.jsPlumb.bind(\"contextmenu\", evt => {\r\n          console.log(\"contextmenu\", evt);\r\n        });\r\n\r\n        // 连线\r\n        this.jsPlumb.bind(\"beforeDrop\", evt => {\r\n          let from = evt.sourceId;\r\n          let to = evt.targetId;\r\n\r\n          let  node = this.data.nodeList.filter(function(node) {\r\n            return node.id === to\r\n           \r\n          });\r\n          if (node[0].nodeTypeID === \"NID_START\") {\r\n            this.$message.error(\"开始节点不许被链接\");\r\n            return false;\r\n          }\r\n          if (from === to) {\r\n            this.$message.error(\"节点不支持连接自己\");\r\n            return false;\r\n          }\r\n          if (this.hasLine(from, to)) {\r\n            this.$message.error(\"该关系已存在,不允许重复创建\");\r\n            return false;\r\n          }\r\n          if (this.hashOppositeLine(from, to)) {\r\n            this.$message.error(\"不支持两个节点之间连线回环\");\r\n            return false;\r\n          }\r\n\r\n          this.$message.success(\"连接成功\");\r\n          //连线成功后应该怎么做  删除连线节点\r\n          console.log(this.$refs.flowNode[0].showEndpoint());\r\n          return true;\r\n        });\r\n\r\n        // beforeDetach\r\n        this.jsPlumb.bind(\"beforeDetach\", evt => {\r\n          console.log(\"beforeDetach\", evt);\r\n        });\r\n        this.jsPlumb.setContainer(this.$refs.efContainer);\r\n      });\r\n    },\r\n    // 加载流程图\r\n    loadEasyFlow() {\r\n      // 初始化节点\r\n      for (var i = 0; i < this.data.nodeList.length; i++) {\r\n        let node = this.data.nodeList[i];\r\n        // 设置源点，可以拖出线连接其他节点\r\n\r\n       if(node.nodeTypeID==='NID_START'){\r\n          this.jsPlumb.makeSource(\r\n          node.id,\r\n          lodash.merge(this.jsplumbStartSourceOptions, {}))\r\n       }else{\r\n          this.jsPlumb.makeSource(\r\n          node.id,\r\n          lodash.merge(this.jsplumbSourceOptions, {})\r\n        );\r\n       }\r\n        // // 设置目标点，其他源点拖出的线可以连接该节点,开始节点不可链接\r\n        if (node.nodeTypeID !== \"NID_START\") {\r\n          this.jsPlumb.makeTarget(node.id, this.jsplumbTargetOptions);\r\n        }else{\r\n           this.jsPlumb.makeTarget(node.id, this.jsplumbStartSourceOptions);\r\n        }\r\n\r\n        if (!node.viewOnly) {\r\n          //是否是不可移动元素\r\n          this.jsPlumb.draggable(node.id, {\r\n            //可拖动元素\r\n            grid: [15, 15], //网格设置\r\n             Anchors: [ 'TopCenter', 'Bottom','BottomRight', 'BottomLeft'],\r\n            containment: \"parent\",\r\n            stop: function(el) {\r\n              // 拖拽节点结束后的对调\r\n              console.log(\"拖拽结束: \", el);\r\n            }\r\n          });\r\n        }\r\n        //初始化添加端点\r\n        //          this.jsPlumb.addEndpoint(node.id, {\r\n        //         anchor:[\r\n        //   [ 0.5, 0, 0, -1, 0, 0, \"top\" ],\r\n\r\n        // ]\r\n            // })\r\n      }\r\n      // 初始化连线\r\n      for (var i = 0; i < this.data.lineList.length; i++) {\r\n        let line = this.data.lineList[i];\r\n        var connParam = {\r\n          source: line.from,\r\n          target: line.to,\r\n          label: line.label ? line.label : \"\",\r\n          connector: line.connector ? line.connector : \"Flowchart\",\r\n          anchors: line.anchors ? line.anchors : undefined,\r\n          paintStyle: line.paintStyle ? line.paintStyle : undefined\r\n        };\r\n        this.jsPlumb.connect(connParam, this.jsplumbConnectOptions);\r\n      }\r\n      this.$nextTick(function() {\r\n        this.loadEasyFlowFinish = true;\r\n      });\r\n    },\r\n    // 设置连线条件\r\n    setLineLabel(from, to, label) {\r\n      var conn = this.jsPlumb.getConnections({\r\n        source: from,\r\n        target: to\r\n      })[0];\r\n      if (!label || label === \"\") {\r\n        conn.removeClass(\"flowLabel\");\r\n        conn.addClass(\"emptyFlowLabel\");\r\n      } else {\r\n        conn.addClass(\"flowLabel\");\r\n      }\r\n      conn.setLabel({\r\n        grid: [15, 15],\r\n        label: label\r\n      });\r\n      this.data.lineList.forEach(function(line) {\r\n        if (line.from == from && line.to == to) {\r\n          line.label = label;\r\n        }\r\n      });\r\n    },\r\n    // 删除激活的元素\r\n    deleteElement() {\r\n      if (this.activeElement.type === \"node\") {\r\n        console.log(this.activeElement);\r\n        this.deleteNode(this.activeElement.nodeId);\r\n      } else if (this.activeElement.type === \"line\") {\r\n        this.$confirm(\"确定删除所点击的线吗?\", \"提示\", {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\"\r\n        })\r\n          .then(() => {\r\n            var conn = this.jsPlumb.getConnections({\r\n              source: this.activeElement.sourceId,\r\n              target: this.activeElement.targetId\r\n            })[0];\r\n            this.jsPlumb.deleteConnection(conn);\r\n          })\r\n          .catch(() => {});\r\n      }\r\n    },\r\n    // 删除线\r\n    deleteLine(from, to) {\r\n      this.data.lineList = this.data.lineList.filter(function(line) {\r\n        if (line.from == from && line.to == to) {\r\n          return false;\r\n        }\r\n        return true;\r\n      });\r\n    },\r\n    // 改变连线\r\n    changeLine(oldFrom, oldTo) {\r\n      this.deleteLine(oldFrom, oldTo);\r\n    },\r\n    // 改变节点的位置\r\n    changeNodeSite(data) {\r\n      for (var i = 0; i < this.data.nodeList.length; i++) {\r\n        let node = this.data.nodeList[i];\r\n        if (node.id === data.nodeId) {\r\n          node.left = data.left;\r\n          node.top = data.top;\r\n        }\r\n      }\r\n    },\r\n    /**\r\n     * 拖拽结束后添加新的节点\r\n     * @param evt\r\n     * @param nodeMenu 被添加的节点对象\r\n     * @param mousePosition 鼠标拖拽结束的坐标\r\n     */\r\n    addNode(evt, nodeMenu, mousePosition) {\r\n      console.log(nodeMenu, \"nodeMenu数据\");\r\n      var screenX = evt.originalEvent.clientX,\r\n        screenY = evt.originalEvent.clientY;\r\n      let efContainer = this.$refs.efContainer;\r\n      var containerRect = efContainer.getBoundingClientRect();\r\n      var left = screenX,\r\n        top = screenY;\r\n      // 计算是否拖入到容器中\r\n      if (\r\n        left < containerRect.x ||\r\n        left > containerRect.width + containerRect.x ||\r\n        top < containerRect.y ||\r\n        containerRect.y > containerRect.y + containerRect.height\r\n      ) {\r\n        this.$message.error(\"请把节点拖入到画布中\");\r\n        return;\r\n      }\r\n      left = left - containerRect.x + efContainer.scrollLeft;\r\n      top = top - containerRect.y + efContainer.scrollTop;\r\n      // 居中\r\n      left -= 85;\r\n      top -= 16;\r\n      var nodeId = this.getUUID();\r\n      // 动态生成名字\r\n\r\n      var origName = nodeMenu.caption;\r\n      console.log(nodeMenu, \"fwwwwwwwwwwwwwwwwwww\");\r\n\r\n      var nodeName = origName;\r\n      var index = 1;\r\n      while (index < 10000) {\r\n        var repeat = false;\r\n        for (var i = 0; i < this.data.nodeList.length; i++) {\r\n          let node = this.data.nodeList[i];\r\n          if (node.name === nodeName) {\r\n            nodeName = origName + index;\r\n            repeat = true;\r\n          }\r\n        }\r\n        if (repeat) {\r\n          index++;\r\n          continue;\r\n        }\r\n        break;\r\n      }\r\n      //传递给画布控件的属性\r\n      var node = {\r\n        id: nodeId,\r\n        caption: nodeName,\r\n        nodeTypeID: nodeMenu.nodeTypeID,\r\n        info:nodeMenu.info,\r\n        left: left + \"px\",\r\n        top: top + \"px\",\r\n        controlState: \"success\",\r\n        image: nodeMenu.image,\r\n        parameters: nodeMenu.parameters\r\n      };\r\n      console.log(node,'ppppppppppppp')\r\n      // 判断节点类型，如果是开始的话，就有且只能有一个\r\n      if (node.nodeTypeID === \"NID_START\") {\r\n        let startArr = this.data.nodeList.filter((item, index) => {\r\n          console.log(item.nodeTypeID);\r\n          return item.nodeTypeID == \"NID_START\";\r\n        });\r\n        console.log(startArr);\r\n        if (startArr.length == 1) {\r\n          console.log(startArr.length);\r\n          this.$message.error(\"画布中只允许存在一个开始控件\");\r\n          return;\r\n        }\r\n      }\r\n\r\n      this.data.nodeList.push(node);\r\n      this.$nextTick(function() {\r\n        // // 设置目标点，其他源点拖出的线可以连接该节点,开始节点不可链接\r\n        if (node.nodeTypeID !== \"NID_START\") {\r\n          this.jsPlumb.makeSource(nodeId, this.jsplumbSourceOptions);\r\n        } else {\r\n          this.jsPlumb.makeSource(nodeId, this.jsplumbStartSourceOptions);\r\n        }\r\n\r\n        // this.jsPlumb.makeSource(nodeId, this.jsplumbSourceOptions); //元节点配置\r\n        this.jsPlumb.makeTarget(nodeId, this.jsplumbTargetOptions);\r\n        this.jsPlumb.draggable(nodeId, {\r\n          //可拖动元素\r\n          containment: \"parent\",\r\n          grid: [15, 15],\r\n          stop: function(el) {\r\n            // 拖拽节点结束后的对调\r\n            console.log(\"拖拽结束: \", el);\r\n          }\r\n        });\r\n      });\r\n    },\r\n    /**\r\n     * 删除节点\r\n     * @param nodeId 被删除节点的ID\r\n     */\r\n    deleteNode(nodeId) {\r\n      this.$confirm(\"确定要删除节点\" + nodeId + \"?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n        closeOnClickModal: false\r\n      })\r\n        .then(() => {\r\n          //判断节点是否可以删除\r\n          if (nodeId == this.data.nodeList[0].id) {\r\n            this.$message.warning(\"开始节点不可删除\");\r\n            return;\r\n          }\r\n          this.data.nodeList = this.data.nodeList.filter(function(node) {\r\n            if (node.id === nodeId) {\r\n              // 伪删除，将节点隐藏，否则会导致位置错位\r\n              // node.show = false\r\n              return false;\r\n            }\r\n            return true;\r\n          });\r\n          this.$nextTick(function() {\r\n            this.jsPlumb.removeAllEndpoints(nodeId);\r\n          });\r\n        })\r\n        .catch(() => {});\r\n      return true;\r\n    },\r\n    clickNode(nodeId) {\r\n      //点击节点  展示右侧信息栏\r\n\r\n      this.activeElement.type = \"node\";\r\n      this.activeElement.nodeId = nodeId;\r\n\r\n      this.isHideFrom(true);\r\n      if (this.$refs.nodeForm.nodeInit) {\r\n        this.$refs.nodeForm.nodeInit(this.data, nodeId);\r\n      }\r\n    },\r\n\r\n    isHideFrom(is) {\r\n      // 右侧信息栏显隐控制\r\n      console.log(is);\r\n      this.isShowForm = is;\r\n    },\r\n    // 是否具有该线\r\n    hasLine(from, to) {\r\n      for (var i = 0; i < this.data.lineList.length; i++) {\r\n        var line = this.data.lineList[i];\r\n        if (line.from === from && line.to === to) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n    // 是否含有相反的线\r\n    hashOppositeLine(from, to) {\r\n      return this.hasLine(to, from);\r\n    },\r\n    nodeRightMenu(nodeId, evt) {\r\n      this.menu.show = true;\r\n      this.menu.curNodeId = nodeId;\r\n      this.menu.left = evt.x + \"px\";\r\n      this.menu.top = evt.y + \"px\";\r\n    },\r\n    repaintEverything() {\r\n      this.jsPlumb.repaint(); //重绘组件\r\n    },\r\n    // 流程数据信息\r\n    dataInfo() {\r\n      this.flowInfoVisible = true;\r\n      this.$nextTick(function() {\r\n        this.$refs.flowInfo.init();\r\n      });\r\n    },\r\n    // 加载流程图\r\n    dataReload(data) {\r\n      this.easyFlowVisible = false;\r\n      this.data.nodeList = [];\r\n      this.data.lineList = [];\r\n      this.$nextTick(() => {\r\n        data = lodash.cloneDeep(data);\r\n        this.easyFlowVisible = true;\r\n        this.data = data;\r\n        this.$nextTick(() => {\r\n          this.jsPlumb = jsPlumb.getInstance();\r\n          this.$nextTick(() => {\r\n            this.jsPlumbInit();\r\n          });\r\n        });\r\n      });\r\n    },\r\n    // 模拟载入数据dataC\r\n    dataReloadC() {\r\n      this.dataReload(getDataC());\r\n    },\r\n\r\n    zoomAdd() {\r\n      if (this.zoom >= 1) {\r\n        return;\r\n      }\r\n      this.zoom = this.zoom + 0.1;\r\n      this.$refs.efContainer.style.transform = `scale(${this.zoom})`;\r\n      this.jsPlumb.setZoom(this.zoom);\r\n    },\r\n    zoomSub() {\r\n      if (this.zoom <= 0) {\r\n        return;\r\n      }\r\n      this.zoom = this.zoom - 0.1;\r\n      this.$refs.efContainer.style.transform = `scale(${this.zoom})`;\r\n      this.jsPlumb.setZoom(this.zoom);\r\n    },\r\n    // -------------------------------------------------------------------顶部按键\r\n    //提交流程  保存流程\r\n    conserve() {\r\n      this.$confirm(\"确定要保执行流程数据吗？\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n        closeOnClickModal: false\r\n      })\r\n        .then(() => {\r\n          var datastr = JSON.stringify(this.data, null, \"\\t\");\r\n          console.log(datastr);\r\n          this.$message.success(\"正在提交中,请稍后...\");\r\n          this.$message.success(\"保存成功\");\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    //执行流程\r\n    Operation() {\r\n      this.$confirm(\"确定要保存该流程数据吗？\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n        closeOnClickModal: false\r\n      })\r\n        .then(() => {\r\n          console.log(this.data.id);\r\n          this.$message.success(\"正在执行中,请稍后...\");\r\n          this.$message.success(\"执行完毕\");\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    // 放弃编辑\r\n    giveUp() {\r\n      this.$confirm(\r\n        \"您编辑的内容尚未保存，退出后信息可能丢失，是否确认继续退出？\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n          closeOnClickModal: false\r\n        }\r\n      )\r\n        .then(() => {\r\n          //   console.log(this.data.id);\r\n          //   this.$message.success(\"正在执行中,请稍后...\");\r\n          //   this.$message.success(\"执行完毕\");\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    //设置任务\r\n    setTask() {\r\n      this.$prompt(\"请输入邮箱\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        inputPattern: /[\\w!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?/,\r\n        inputErrorMessage: \"邮箱格式不正确\"\r\n      })\r\n        .then(({ value }) => {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"你的邮箱是: \" + value\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"取消输入\"\r\n          });\r\n        });\r\n    },\r\n\r\n    openHelp() {\r\n      this.flowHelpVisible = true;\r\n      this.$nextTick(function() {\r\n        this.$refs.flowHelp.init();\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./panel.vue?vue&type=template&id=5cec4e91&\"\nimport script from \"./panel.vue?vue&type=script&lang=js&\"\nexport * from \"./panel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",staticStyle:{\"width\":\"20%\"},attrs:{\"model\":_vm.form,\"label-width\":\"100px\",\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"短信模板ID\"}},[_c('el-input',{class:{ noteFailure: _vm.status===''?false:!_vm.status },attrs:{\"onkeyup\":\"this.value=this.value.replace(/\\\\D/g,'')\"},on:{\"blur\":_vm.queryNote},model:{value:(_vm.id),callback:function ($$v) {_vm.id=$$v},expression:\"id\"}}),(_vm.status===''?false:!_vm.status)?_c('div',{staticStyle:{\"height\":\"20px\",\"width\":\"100%\",\"text-align\":\"right\",\"color\":\"red\",\"line-height\":\"20px\"}},[_vm._v(\" 短信模板不存在 \")]):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"短信预览\"}},[_c('div',{staticClass:\"notepreview\"},[(_vm.status)?_c('div',[_c('div',{staticClass:\"noteprecont\"},[_c('span',{staticStyle:{\"flex\":\"1\",\"color\":\"gray\"}},[_vm._v(\"短信类型\")]),_c('span',{staticStyle:{\"flex\":\"4.5\"}},[_vm._v(_vm._s(_vm.form.smsType))])]),_c('div',{staticClass:\"noteprecont\"},[_c('span',{staticStyle:{\"flex\":\"1\",\"color\":\"gray\"}},[_vm._v(\"短信内容\")]),_c('span',{staticStyle:{\"flex\":\"4.5\",\"font-size\":\"13px\",\"line-height\":\"25px\"}},[_vm._v(_vm._s(_vm.form.smsValue))])]),_c('div',{staticClass:\"noteprecont\"},[_c('span',{staticStyle:{\"flex\":\"1\",\"color\":\"gray\"}},[_vm._v(\"有效期限\")]),_c('span',{staticStyle:{\"flex\":\"4.5\"}},[_vm._v(_vm._s(_vm.form.expiryDate))])]),_c('div',{staticClass:\"noteprecont\"},[_c('span',{staticStyle:{\"flex\":\"1\",\"color\":\"gray\"}},[_vm._v(\"审批状态\")]),_c('span',{staticStyle:{\"flex\":\"4.5\"}},[_vm._v(_vm._s(_vm.form.approvalStatus))])])]):_vm._e(),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"20px\",\"background-color\":\"#e4e7e7\"}})])]),_c('el-switch',{attrs:{\"inactive-text\":\"失败重试\"},model:{value:(_vm.value1),callback:function ($$v) {_vm.value1=$$v},expression:\"value1\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-form\r\n    ref=\"form\"\r\n    :model=\"form\"\r\n    label-width=\"100px\"\r\n    style=\"width: 20%\"\r\n    label-position=\"top\"\r\n  >\r\n    <el-form-item label=\"短信模板ID\">\r\n      <el-input\r\n        onkeyup=\"this.value=this.value.replace(/\\D/g,'')\"\r\n        v-model=\"id\"\r\n        @blur=\"queryNote\"\r\n        :class=\"{ noteFailure: status===''?false:!status }\"\r\n      ></el-input>\r\n      <div\r\n        style=\"\r\n          height: 20px;\r\n          width: 100%;\r\n          text-align: right;\r\n          color: red;\r\n          line-height: 20px;\r\n        \"\r\n        v-if=\"status===''?false:!status\"\r\n      >\r\n        短信模板不存在\r\n      </div>\r\n    </el-form-item>\r\n    <el-form-item label=\"短信预览\">\r\n      <div class=\"notepreview\">\r\n        <div v-if=\"status\">\r\n          <div class=\"noteprecont\">\r\n            <span style=\"flex: 1; color: gray\">短信类型</span>\r\n            <span style=\"flex: 4.5\">{{form.smsType}}</span>\r\n          </div>\r\n          <div class=\"noteprecont\">\r\n            <span style=\"flex: 1; color: gray\">短信内容</span>\r\n            <span style=\"flex: 4.5; font-size: 13px; line-height: 25px\"\r\n              >{{form.smsValue}}</span\r\n            >\r\n          </div>\r\n          <div class=\"noteprecont\">\r\n            <span style=\"flex: 1; color: gray\">有效期限</span>\r\n            <span style=\"flex: 4.5\">{{form.expiryDate}}</span>\r\n          </div>\r\n          <div class=\"noteprecont\">\r\n            <span style=\"flex: 1; color: gray\">审批状态</span>\r\n            <span style=\"flex: 4.5\">{{form.approvalStatus}}</span>\r\n          </div>\r\n        </div>\r\n        <div style=\"width:100%;height:20px; background-color: #e4e7e7;\"></div>\r\n      </div>\r\n    </el-form-item>\r\n    <el-switch v-model=\"value1\" inactive-text=\"失败重试\"> </el-switch>\r\n  </el-form>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      id: \"\",\r\n      form: {},\r\n      value1: false,\r\n      status: '',\r\n    };\r\n  },\r\n  computed: {},\r\n  mounted() {},\r\n  watch: {},\r\n  methods: {\r\n    queryNote() {\r\n      let that=this\r\n      if(''!==this.id){\r\n      this.$http({\r\n        method: \"POST\",\r\n        url: \"http://49.233.45.33:8888/messageTemplate/getSmsMessageTemplateInfo\",\r\n        data: that.id,\r\n      })\r\n        .then((res) => {\r\n          if (res.data.status) {\r\n            this.form = res.data.data;\r\n            this.status = true;\r\n          }else\r\n          this.status=false\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.notepreview {\r\n  background-color: #e4e7e7;\r\n  width: 100%;\r\n  height: auto;\r\n  line-height: 30px;\r\n}\r\n.noteFailure input {\r\n  border-color: red;\r\n}\r\n.noteprecont {\r\n  width: 100%;\r\n  height: auto;\r\n  display: flex;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./note.vue?vue&type=template&id=4bf1f8e1&\"\nimport script from \"./note.vue?vue&type=script&lang=js&\"\nexport * from \"./note.vue?vue&type=script&lang=js&\"\nimport style0 from \"./note.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"89px\",\"height\":\"186px\"},on:{\"mouseout\":_vm.optiondivout}},[_c('el-button',{nativeOn:{\"mouseover\":function($event){return _vm.optiondivover($event)}}},[_vm._v(\"查看\"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),(_vm.optiondivstate)?_c('div',{staticClass:\"optiondiv\"},[_c('el-table',{staticStyle:{\"width\":\"100%\",\"border\":\"1px solid rgb(184, 178, 178)\",\"border-radius\":\"5px\"},attrs:{\"data\":_vm.tableData,\"show-header\":false},on:{\"row-click\":_vm.xx}},[_c('el-table-column',{staticClass:\"el-pointer\",attrs:{\"prop\":\"name\",\"width\":\"auto\"}})],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"width:89px;height:186px\" @mouseout=\"optiondivout\">\r\n    <el-button @mouseover.native=\"optiondivover\" \r\n      >查看<i class=\"el-icon-arrow-down el-icon--right\"></i\r\n    ></el-button>\r\n    <div class=\"optiondiv\" v-if=\"optiondivstate\">\r\n      <el-table\r\n        :data=\"tableData\"\r\n        :show-header=\"false\"\r\n        style=\"width: 100%; border: 1px solid rgb(184, 178, 178); border-radius: 5px\"\r\n        @row-click=\"xx\"\r\n      >\r\n        <el-table-column prop=\"name\" width=\"auto\" class=\"el-pointer\" >\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n        optiondivstated:false,\r\n        optiondivstate:false,\r\n      tableData: [\r\n        {\r\n          name: \"王小虎\",\r\n          value:0\r\n        },\r\n        {\r\n          name: \"王小虎\",\r\n          value:1\r\n        },\r\n        {\r\n          name: \"王小虎\",\r\n          value:2\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  computed: {},\r\n  mounted() {},\r\n  watch: {},\r\n  methods: {\r\n      xx(row){\r\n          console.log(row)\r\n      },\r\n    optiondivover() {\r\n      this.optiondivstate = true;\r\n    },\r\n    optiondivout() {\r\n      this.optiondivstate = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.optiondiv {\r\n  width: 89px;\r\n  height: auto;\r\n}\r\n.el-pointer:hover {\r\n  cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./anniu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./anniu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./anniu.vue?vue&type=template&id=4ae10a6e&\"\nimport script from \"./anniu.vue?vue&type=script&lang=js&\"\nexport * from \"./anniu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./anniu.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Index from './views/Index.vue'\r\nimport Console from './views/Console.vue'\r\nimport Users from './views/Users.vue'\r\nimport Articles from './views/Articles.vue'\r\nimport Login from './views/Login.vue'\r\nimport MailList from './views/MailList.vue'\r\nimport NotFound from './views/NotFound.vue'\r\nimport Panel from \"./components/ef/panel.vue\"\r\nimport ab from \"./components/ef/AB.vue\"\r\nimport note from \"./components/ef/note.vue\"\r\nimport anniu from \"./components/ef/anniu.vue\"\r\nVue.use(Router);\r\n\r\nconst router = new Router({\r\n  mode: 'history',\r\n  base: process.env.BASE_URL,\r\n  routes: [\r\n    {\r\n      path: '/anniu',\r\n      component: anniu\r\n    },\r\n    {\r\n      path: '/login',\r\n      component: Login\r\n    },\r\n    {\r\n      path: '/note',\r\n      component: note\r\n    },\r\n    {\r\n      path: '/ab',\r\n      component: ab\r\n    },\r\n    {\r\n      path: '/',\r\n      component: Index,\r\n      children: [\r\n        {\r\n          path: '/console',\r\n          name: 'console',\r\n          component: Console\r\n        },\r\n        {\r\n          path: '/users',\r\n          name: 'users',\r\n          component: Users\r\n        },\r\n        {\r\n          path: '/articles',\r\n          name: 'articles',\r\n          component: Articles\r\n        },\r\n  \r\n        {\r\n          path: '/mailList',\r\n          name: 'mailList',\r\n          component: MailList\r\n        },\r\n     \r\n        {\r\n          path: '/404',\r\n          component: NotFound\r\n        },\r\n       \r\n      ]\r\n    },   {\r\n      path: '/Panel',\r\n      name: 'Panel',\r\n      component: Panel\r\n    },\r\n    {\r\n      path: '*',\r\n      redirect: { path: '/404' }\r\n    }\r\n  ]\r\n});\r\n\r\n// 全局路由守卫\r\nrouter.beforeEach((to, from, next) => {\r\n  const LOGINURL = '/login'\r\n  let url, user\r\n\r\n  url = to.path\r\n  user = sessionStorage.getItem('user')\r\n\r\n  if (url === LOGINURL) {\r\n    sessionStorage.removeItem('user')\r\n  }\r\n\r\n  // 判断是否登录\r\n  if (!user && url !== LOGINURL) {\r\n    next({ path: LOGINURL })\r\n  } else {\r\n    next()\r\n  }\r\n})\r\n\r\nexport default router\r\n","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    isCollapse: false\r\n  },\r\n  mutations: {\r\n    switchCollapse (state) {\r\n      state.isCollapse = !state.isCollapse\r\n    }\r\n  },\r\n  actions: {\r\n\r\n  }\r\n})\r\n","export default class Utils {\r\n  // 当前日期\r\n  static todayDate () {\r\n    let dt, y, m, d, w\r\n    dt = new Date()\r\n    y = dt.getFullYear()\r\n    m = dt.getMonth() + 1\r\n    d = dt.getDate()\r\n    w = dt.getDay()\r\n    let weeks = ['天', '一', '二', '三', '四', '五', '六']\r\n    return `${y} 年 ${m.toString().padStart(2, '0')} 月 ${d.toString().padStart(2, '0')} 日 星期${weeks[w]}`\r\n  }\r\n\r\n  // 浏览器全屏\r\n  static fullScreen () {\r\n    let isFull = document.isFullScreen || document.mozIsFullScreen || document.webkitIsFullScreen\r\n\r\n    // 判断是否全屏\r\n    if (isFull) {\r\n      let close = document.exitFullscreen || document.webkitCancelFullScreen || document.mozCancelFullScreen || document.msExitFullscreen\r\n      close && close.call(document)\r\n    } else {\r\n      let docElm = document.documentElement\r\n      let open = docElm.requestFullScreen || docElm.webkitRequestFullScreen || docElm.mozRequestFullScreen || docElm.msRequestFullscreen\r\n      open && open.call(docElm)\r\n    }\r\n  }\r\n}\r\n","import Mock from 'mockjs'\r\n\r\nconst Random = Mock.Random\r\n\r\n// 登录\r\nMock.mock('/api/login', 'post', (option) => {\r\n  let { username, password } = JSON.parse(option.body)\r\n  return (username === 'admin' && password === 'admin')\r\n})\r\n// const jobTypeList = [{id:0,cont:'编辑中'}, {id:1,cont:'执行中'}, {id:2,cont:'审批中'}, {id:3,cont:'待执行'}, {id:4,cont:'待审批'}, {id:5,cont:'已中止'}, {id:6,cont:'已停止'}, {id:7,cont:'已完成'}, {id:8,cont:'已到期'}]\r\nconst jobTypeList = ['编辑中', '待审批', '审批中', '待执行', '执行中', '已中止', '已停止', '已完成', '已到期']\r\n// 用户数据\r\nconst taskList = () => {\r\n  let users = []\r\n  for (let i = 0; i < 9; i++) {\r\n    let user = {\r\n      \"ID\": 1,\r\n      \"name\": \"模拟流程\" + i + 1,\r\n      \"jobState\": jobTypeList[Math.round(Math.random() * 5)],\r\n      //任务类别\r\n      \"jobType\": \"类别\" + i,\r\n      \"jobName\": \"任务\" + i + 1,\r\n      \"jobDescription\": \"\",\r\n      \"jobVersion\": \"\",\r\n      \"triggerWay\": \"\",\r\n      \"startTime\": Random.date('yyyy-MM-dd'),\r\n      \"endTime\": Random.date('yyyy-MM-dd'),\r\n      \"jobState\": \"成功\",\r\n      \"createBy\": Random.cname(),\r\n      \"approvalTime\": Random.date('yyyy-MM-dd'),\r\n    }\r\n    users.push(user)\r\n  }\r\n  return users\r\n}\r\nconst queryList = (taskquerylist) => {\r\n  let taskquerylistfu = JSON.parse(taskquerylist.body)\r\n  let users = []\r\n  let user = {\r\n    \"ID\": 1,\r\n    \"jobName\": taskquerylistfu.name,\r\n    \"jobState\": taskquerylistfu.jobType,\r\n    //任务类别\r\n    \"jobType\": taskquerylistfu.category,\r\n    \"jobDescription\": \"\",\r\n    \"jobVersion\": \"\",\r\n    \"triggerWay\": \"\",\r\n    \"startTime\": Random.date('yyyy-MM-dd'),\r\n    \"endTime\": Random.date('yyyy-MM-dd'),\r\n    \"jobState\": \"成功\",\r\n    \"createBy\": taskquerylistfu.createBy,\r\n    \"approvalTime\": Random.date('yyyy-MM-dd'),\r\n  }\r\n  // users.push(JSON.parse(taskquerylist.body))\r\n  users.push(user)\r\n  return users\r\n}\r\nconst abtest = () => {\r\n  let list = {\r\n    'defaultValue': 0,\r\n    'shuntWay': [{ 'value': 0, 'label': '按首次随机分流' }, { 'value': 1, 'label': '按天随机分流' }, { 'value': 2, 'label': '完全随机分流' }],\r\n    //观察周期\r\n    'period': '4',\r\n    //分流比例\r\n    'groups': [{ 'id': '0', 'name': '对照组', 'num': 0 }, { 'id': '1', 'name': '实验组', 'num': 0 }],\r\n}\r\n  return list\r\n}\r\nconst queryNote = (id) => {\r\n  console.log(id)\r\n  let list = {\r\n    'status': true,\r\n    'data': {\r\n      'smsType': '营销短信',\r\n      'smsValue': '尊敬的张三，您好，恭喜您获得豪华游艇，48小时内领取有效，赶紧点击https://pianren.com/keng领取 回复TD退订',\r\n      'expiryDate': '2019-2-30',\r\n      'approvalStatus': '通过'\r\n    },\r\n    \r\n  }\r\n  return list\r\n}\r\nconst defaultList = () => {\r\n  let list={\r\n    \"lotalElements\": 12,\r\n    \"content\": [\r\n        {\r\n            \"id\": 30,\r\n            \"jobId\": \"LAPTOP-QNSBA5DI-20201029160224639\",\r\n            \"jobType\": \"任务类别10\",\r\n            \"jobName\": \"修改测试第二次\",\r\n            \"jobDescription\": \"安抚\",\r\n            \"triggerWay\": \"\",\r\n            \"jobState\": 0,\r\n            \"createBy\": \"哈迪斯\",\r\n            \"startTime\": \"2020-05-02 15:02:05\",\r\n            \"endTime\": \"2020-06-11 00:00:00\",\r\n            \"approvalTime\": \"2020-04-11 00:00:00\",\r\n            \"jobVersion\": \"2.0\",\r\n            \"taskDetail\": \"[{\\\"id\\\":\\\"20201026177454dwf66ximf\\\",\\\"caption\\\":\\\"开始\\\",\\\"nodeTypeID\\\":\\\"NID_START\\\",\\\"info\\\":\\\"条件控件根据所配置条件的计算结果，决定下一个执行的节点\\\",\\\"left\\\":\\\"615px\\\",\\\"top\\\":\\\"105px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"start.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_INPUT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_START\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发方式\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"人群定时触发\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"复购-泰康百万医疗险\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"触发时间\\\",\\\"type\\\":\\\"PTYPE_TIMELIST\\\",\\\"defaultValue\\\":\\\"\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"每天\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"每月\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"每小时\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"}]},{\\\"id\\\":\\\"2020102617746pfoazg62qn\\\",\\\"caption\\\":\\\"条件分支\\\",\\\"nodeTypeID\\\":\\\"NID_CONDITION\\\",\\\"info\\\":\\\"用来判断是否满足某个或者某一组条件\\\",\\\"left\\\":\\\"600px\\\",\\\"top\\\":\\\"285px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"条件分支.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"任务重入\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务频控\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"}]},{\\\"id\\\":\\\"20201026177505mubmjjqu\\\",\\\"caption\\\":\\\"短信\\\",\\\"nodeTypeID\\\":\\\"NID_NOTE\\\",\\\"info\\\":\\\"向目标发送短信\\\",\\\"left\\\":\\\"530.903px\\\",\\\"top\\\":\\\"412.017px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"短信.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617753iex4qpmqua\\\",\\\"caption\\\":\\\"A/B\\\",\\\"nodeTypeID\\\":\\\"NID_A/B\\\",\\\"info\\\":\\\"按照不同百分比分流\\\",\\\"left\\\":\\\"423.903px\\\",\\\"top\\\":\\\"556.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"AB测试.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261775631unmksq0k\\\",\\\"caption\\\":\\\"等待\\\",\\\"nodeTypeID\\\":\\\"NID_WAIT\\\",\\\"info\\\":\\\"执行挂起，等待一定时间后执行\\\",\\\"left\\\":\\\"313.903px\\\",\\\"top\\\":\\\"682.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"wait.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"tips\\\":\\\" 等待至具体的某个时间点：'yyyy-MM-dd HH:mm:ss'\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"等待至具体的某个时间点\\\",\\\"tips\\\":\\\"● 等待一段时间：' HH:mm:ss'\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"等待至...\\\",\\\"tips\\\":\\\"等待至：第N天的' HH:mm:ss'\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"等待时间\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"XX 天 XX时 XX分\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617759kp4239gwk\\\",\\\"caption\\\":\\\"推荐\\\",\\\"nodeTypeID\\\":\\\"NID_RECOMMENT\\\",\\\"info\\\":\\\"推荐任务\\\",\\\"left\\\":\\\"240px\\\",\\\"top\\\":\\\"840px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"推荐.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261781ybi1ano9r\\\",\\\"caption\\\":\\\"Push\\\",\\\"nodeTypeID\\\":\\\"NID_PUSH\\\",\\\"info\\\":\\\"添加\\\",\\\"left\\\":\\\"150px\\\",\\\"top\\\":\\\"990px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"push.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261786amwqizt7ni\\\",\\\"caption\\\":\\\"结束\\\",\\\"nodeTypeID\\\":\\\"NID_END\\\",\\\"info\\\":\\\"结束流程\\\",\\\"left\\\":\\\"90px\\\",\\\"top\\\":\\\"1125px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"stop.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]}]\"\r\n        },\r\n        {\r\n            \"id\": 31,\r\n            \"jobId\": \"LAPTOP-QNSBA5DI-20201030160618171\",\r\n            \"jobType\": \"任务类别1\",\r\n            \"jobName\": \"模拟任务1\",\r\n            \"jobDescription\": \"杰克与汤姆\",\r\n            \"triggerWay\": \"\",\r\n            \"jobState\": 1,\r\n            \"createBy\": \"杰克\",\r\n            \"startTime\": \"2020-02-09 00:00:00\",\r\n            \"endTime\": \"2020-03-11 00:00:00\",\r\n            \"approvalTime\": \"2020-04-11 00:00:00\",\r\n            \"jobVersion\": \"1.0\",\r\n            \"taskDetail\": \"[{\\\"id\\\":\\\"20201026177454dwf66ximf\\\",\\\"caption\\\":\\\"开始\\\",\\\"nodeTypeID\\\":\\\"NID_START\\\",\\\"info\\\":\\\"条件控件根据所配置条件的计算结果，决定下一个执行的节点\\\",\\\"left\\\":\\\"615px\\\",\\\"top\\\":\\\"105px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"start.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_INPUT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_START\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发方式\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"人群定时触发\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"复购-泰康百万医疗险\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"触发时间\\\",\\\"type\\\":\\\"PTYPE_TIMELIST\\\",\\\"defaultValue\\\":\\\"\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"每天\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"每月\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"每小时\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"}]},{\\\"id\\\":\\\"2020102617746pfoazg62qn\\\",\\\"caption\\\":\\\"条件分支\\\",\\\"nodeTypeID\\\":\\\"NID_CONDITION\\\",\\\"info\\\":\\\"用来判断是否满足某个或者某一组条件\\\",\\\"left\\\":\\\"600px\\\",\\\"top\\\":\\\"285px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"条件分支.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"任务重入\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务频控\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"}]},{\\\"id\\\":\\\"20201026177505mubmjjqu\\\",\\\"caption\\\":\\\"短信\\\",\\\"nodeTypeID\\\":\\\"NID_NOTE\\\",\\\"info\\\":\\\"向目标发送短信\\\",\\\"left\\\":\\\"530.903px\\\",\\\"top\\\":\\\"412.017px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"短信.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617753iex4qpmqua\\\",\\\"caption\\\":\\\"A/B\\\",\\\"nodeTypeID\\\":\\\"NID_A/B\\\",\\\"info\\\":\\\"按照不同百分比分流\\\",\\\"left\\\":\\\"423.903px\\\",\\\"top\\\":\\\"556.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"AB测试.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261775631unmksq0k\\\",\\\"caption\\\":\\\"等待\\\",\\\"nodeTypeID\\\":\\\"NID_WAIT\\\",\\\"info\\\":\\\"执行挂起，等待一定时间后执行\\\",\\\"left\\\":\\\"313.903px\\\",\\\"top\\\":\\\"682.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"wait.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"tips\\\":\\\" 等待至具体的某个时间点：'yyyy-MM-dd HH:mm:ss'\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"等待至具体的某个时间点\\\",\\\"tips\\\":\\\"● 等待一段时间：' HH:mm:ss'\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"等待至...\\\",\\\"tips\\\":\\\"等待至：第N天的' HH:mm:ss'\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"等待时间\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"XX 天 XX时 XX分\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617759kp4239gwk\\\",\\\"caption\\\":\\\"推荐\\\",\\\"nodeTypeID\\\":\\\"NID_RECOMMENT\\\",\\\"info\\\":\\\"推荐任务\\\",\\\"left\\\":\\\"240px\\\",\\\"top\\\":\\\"840px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"推荐.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261781ybi1ano9r\\\",\\\"caption\\\":\\\"Push\\\",\\\"nodeTypeID\\\":\\\"NID_PUSH\\\",\\\"info\\\":\\\"添加\\\",\\\"left\\\":\\\"150px\\\",\\\"top\\\":\\\"990px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"push.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261786amwqizt7ni\\\",\\\"caption\\\":\\\"结束\\\",\\\"nodeTypeID\\\":\\\"NID_END\\\",\\\"info\\\":\\\"结束流程\\\",\\\"left\\\":\\\"90px\\\",\\\"top\\\":\\\"1125px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"stop.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]}]\"\r\n        },\r\n        {\r\n            \"id\": 32,\r\n            \"jobId\": \"LAPTOP-QNSBA5DI-20201030160705217\",\r\n            \"jobType\": \"任务类别2\",\r\n            \"jobName\": \"模拟任务2\",\r\n            \"jobDescription\": \"萨迪克哈克\",\r\n            \"triggerWay\": \"\",\r\n            \"jobState\": 2,\r\n            \"createBy\": \"勒布朗\",\r\n            \"startTime\": \"2020-04-08 00:00:00\",\r\n            \"endTime\": \"2020-05-19 00:00:00\",\r\n            \"approvalTime\": \"2020-04-11 00:00:00\",\r\n            \"jobVersion\": \"2.0\",\r\n            \"taskDetail\": \"[{\\\"id\\\":\\\"20201026177454dwf66ximf\\\",\\\"caption\\\":\\\"开始\\\",\\\"nodeTypeID\\\":\\\"NID_START\\\",\\\"info\\\":\\\"条件控件根据所配置条件的计算结果，决定下一个执行的节点\\\",\\\"left\\\":\\\"615px\\\",\\\"top\\\":\\\"105px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"start.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_INPUT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_START\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发方式\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"人群定时触发\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"复购-泰康百万医疗险\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"触发时间\\\",\\\"type\\\":\\\"PTYPE_TIMELIST\\\",\\\"defaultValue\\\":\\\"\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"每天\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"每月\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"每小时\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"}]},{\\\"id\\\":\\\"2020102617746pfoazg62qn\\\",\\\"caption\\\":\\\"条件分支\\\",\\\"nodeTypeID\\\":\\\"NID_CONDITION\\\",\\\"info\\\":\\\"用来判断是否满足某个或者某一组条件\\\",\\\"left\\\":\\\"600px\\\",\\\"top\\\":\\\"285px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"条件分支.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"任务重入\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务频控\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"}]},{\\\"id\\\":\\\"20201026177505mubmjjqu\\\",\\\"caption\\\":\\\"短信\\\",\\\"nodeTypeID\\\":\\\"NID_NOTE\\\",\\\"info\\\":\\\"向目标发送短信\\\",\\\"left\\\":\\\"530.903px\\\",\\\"top\\\":\\\"412.017px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"短信.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617753iex4qpmqua\\\",\\\"caption\\\":\\\"A/B\\\",\\\"nodeTypeID\\\":\\\"NID_A/B\\\",\\\"info\\\":\\\"按照不同百分比分流\\\",\\\"left\\\":\\\"423.903px\\\",\\\"top\\\":\\\"556.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"AB测试.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261775631unmksq0k\\\",\\\"caption\\\":\\\"等待\\\",\\\"nodeTypeID\\\":\\\"NID_WAIT\\\",\\\"info\\\":\\\"执行挂起，等待一定时间后执行\\\",\\\"left\\\":\\\"313.903px\\\",\\\"top\\\":\\\"682.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"wait.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"tips\\\":\\\" 等待至具体的某个时间点：'yyyy-MM-dd HH:mm:ss'\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"等待至具体的某个时间点\\\",\\\"tips\\\":\\\"● 等待一段时间：' HH:mm:ss'\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"等待至...\\\",\\\"tips\\\":\\\"等待至：第N天的' HH:mm:ss'\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"等待时间\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"XX 天 XX时 XX分\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617759kp4239gwk\\\",\\\"caption\\\":\\\"推荐\\\",\\\"nodeTypeID\\\":\\\"NID_RECOMMENT\\\",\\\"info\\\":\\\"推荐任务\\\",\\\"left\\\":\\\"240px\\\",\\\"top\\\":\\\"840px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"推荐.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261781ybi1ano9r\\\",\\\"caption\\\":\\\"Push\\\",\\\"nodeTypeID\\\":\\\"NID_PUSH\\\",\\\"info\\\":\\\"添加\\\",\\\"left\\\":\\\"150px\\\",\\\"top\\\":\\\"990px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"push.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261786amwqizt7ni\\\",\\\"caption\\\":\\\"结束\\\",\\\"nodeTypeID\\\":\\\"NID_END\\\",\\\"info\\\":\\\"结束流程\\\",\\\"left\\\":\\\"90px\\\",\\\"top\\\":\\\"1125px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"stop.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]}]\"\r\n        },\r\n        {\r\n            \"id\": 33,\r\n            \"jobId\": \"LAPTOP-QNSBA5DI-20201030160828076\",\r\n            \"jobType\": \"任务类别3\",\r\n            \"jobName\": \"模拟任务3\",\r\n            \"jobDescription\": \"案件高度\",\r\n            \"triggerWay\": \"\",\r\n            \"jobState\": 3,\r\n            \"createBy\": \"科比-布兰恩特\",\r\n            \"startTime\": \"2020-07-02 00:00:00\",\r\n            \"endTime\": \"2020-09-11 00:00:00\",\r\n            \"approvalTime\": \"2020-04-11 00:00:00\",\r\n            \"jobVersion\": \"2.0\",\r\n            \"taskDetail\": \"[{\\\"id\\\":\\\"20201026177454dwf66ximf\\\",\\\"caption\\\":\\\"开始\\\",\\\"nodeTypeID\\\":\\\"NID_START\\\",\\\"info\\\":\\\"条件控件根据所配置条件的计算结果，决定下一个执行的节点\\\",\\\"left\\\":\\\"615px\\\",\\\"top\\\":\\\"105px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"start.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_INPUT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_START\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发方式\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"人群定时触发\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"复购-泰康百万医疗险\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"触发时间\\\",\\\"type\\\":\\\"PTYPE_TIMELIST\\\",\\\"defaultValue\\\":\\\"\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"每天\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"每月\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"每小时\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"}]},{\\\"id\\\":\\\"2020102617746pfoazg62qn\\\",\\\"caption\\\":\\\"条件分支\\\",\\\"nodeTypeID\\\":\\\"NID_CONDITION\\\",\\\"info\\\":\\\"用来判断是否满足某个或者某一组条件\\\",\\\"left\\\":\\\"600px\\\",\\\"top\\\":\\\"285px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"条件分支.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"任务重入\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务频控\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"}]},{\\\"id\\\":\\\"20201026177505mubmjjqu\\\",\\\"caption\\\":\\\"短信\\\",\\\"nodeTypeID\\\":\\\"NID_NOTE\\\",\\\"info\\\":\\\"向目标发送短信\\\",\\\"left\\\":\\\"530.903px\\\",\\\"top\\\":\\\"412.017px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"短信.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617753iex4qpmqua\\\",\\\"caption\\\":\\\"A/B\\\",\\\"nodeTypeID\\\":\\\"NID_A/B\\\",\\\"info\\\":\\\"按照不同百分比分流\\\",\\\"left\\\":\\\"423.903px\\\",\\\"top\\\":\\\"556.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"AB测试.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261775631unmksq0k\\\",\\\"caption\\\":\\\"等待\\\",\\\"nodeTypeID\\\":\\\"NID_WAIT\\\",\\\"info\\\":\\\"执行挂起，等待一定时间后执行\\\",\\\"left\\\":\\\"313.903px\\\",\\\"top\\\":\\\"682.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"wait.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"tips\\\":\\\" 等待至具体的某个时间点：'yyyy-MM-dd HH:mm:ss'\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"等待至具体的某个时间点\\\",\\\"tips\\\":\\\"● 等待一段时间：' HH:mm:ss'\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"等待至...\\\",\\\"tips\\\":\\\"等待至：第N天的' HH:mm:ss'\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"等待时间\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"XX 天 XX时 XX分\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617759kp4239gwk\\\",\\\"caption\\\":\\\"推荐\\\",\\\"nodeTypeID\\\":\\\"NID_RECOMMENT\\\",\\\"info\\\":\\\"推荐任务\\\",\\\"left\\\":\\\"240px\\\",\\\"top\\\":\\\"840px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"推荐.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261781ybi1ano9r\\\",\\\"caption\\\":\\\"Push\\\",\\\"nodeTypeID\\\":\\\"NID_PUSH\\\",\\\"info\\\":\\\"添加\\\",\\\"left\\\":\\\"150px\\\",\\\"top\\\":\\\"990px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"push.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261786amwqizt7ni\\\",\\\"caption\\\":\\\"结束\\\",\\\"nodeTypeID\\\":\\\"NID_END\\\",\\\"info\\\":\\\"结束流程\\\",\\\"left\\\":\\\"90px\\\",\\\"top\\\":\\\"1125px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"stop.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]}]\"\r\n        },\r\n        {\r\n            \"id\": 34,\r\n            \"jobId\": \"LAPTOP-QNSBA5DI-20201030203358911\",\r\n            \"jobType\": \"任务类别5\",\r\n            \"jobName\": \"模拟任务5\",\r\n            \"jobDescription\": \"党八股\",\r\n            \"triggerWay\": \"\",\r\n            \"jobState\": 0,\r\n            \"createBy\": \"大富豪\",\r\n            \"startTime\": \"2020-01-02 15:02:05\",\r\n            \"endTime\": \"2020-03-11 00:00:00\",\r\n            \"approvalTime\": \"2020-04-11 00:00:00\",\r\n            \"jobVersion\": \"2.0\",\r\n            \"taskDetail\": \"[{\\\"id\\\":\\\"20201026177454dwf66ximf\\\",\\\"caption\\\":\\\"开始\\\",\\\"nodeTypeID\\\":\\\"NID_START\\\",\\\"info\\\":\\\"条件控件根据所配置条件的计算结果，决定下一个执行的节点\\\",\\\"left\\\":\\\"615px\\\",\\\"top\\\":\\\"105px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"start.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_INPUT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_START\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发方式\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"人群定时触发\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"复购-泰康百万医疗险\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"触发时间\\\",\\\"type\\\":\\\"PTYPE_TIMELIST\\\",\\\"defaultValue\\\":\\\"\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"每天\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"每月\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"每小时\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"}]},{\\\"id\\\":\\\"2020102617746pfoazg62qn\\\",\\\"caption\\\":\\\"条件分支\\\",\\\"nodeTypeID\\\":\\\"NID_CONDITION\\\",\\\"info\\\":\\\"用来判断是否满足某个或者某一组条件\\\",\\\"left\\\":\\\"600px\\\",\\\"top\\\":\\\"285px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"条件分支.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"任务重入\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务频控\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"}]},{\\\"id\\\":\\\"20201026177505mubmjjqu\\\",\\\"caption\\\":\\\"短信\\\",\\\"nodeTypeID\\\":\\\"NID_NOTE\\\",\\\"info\\\":\\\"向目标发送短信\\\",\\\"left\\\":\\\"530.903px\\\",\\\"top\\\":\\\"412.017px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"短信.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617753iex4qpmqua\\\",\\\"caption\\\":\\\"A/B\\\",\\\"nodeTypeID\\\":\\\"NID_A/B\\\",\\\"info\\\":\\\"按照不同百分比分流\\\",\\\"left\\\":\\\"423.903px\\\",\\\"top\\\":\\\"556.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"AB测试.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261775631unmksq0k\\\",\\\"caption\\\":\\\"等待\\\",\\\"nodeTypeID\\\":\\\"NID_WAIT\\\",\\\"info\\\":\\\"执行挂起，等待一定时间后执行\\\",\\\"left\\\":\\\"313.903px\\\",\\\"top\\\":\\\"682.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"wait.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"tips\\\":\\\" 等待至具体的某个时间点：'yyyy-MM-dd HH:mm:ss'\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"等待至具体的某个时间点\\\",\\\"tips\\\":\\\"● 等待一段时间：' HH:mm:ss'\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"等待至...\\\",\\\"tips\\\":\\\"等待至：第N天的' HH:mm:ss'\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"等待时间\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"XX 天 XX时 XX分\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617759kp4239gwk\\\",\\\"caption\\\":\\\"推荐\\\",\\\"nodeTypeID\\\":\\\"NID_RECOMMENT\\\",\\\"info\\\":\\\"推荐任务\\\",\\\"left\\\":\\\"240px\\\",\\\"top\\\":\\\"840px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"推荐.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261781ybi1ano9r\\\",\\\"caption\\\":\\\"Push\\\",\\\"nodeTypeID\\\":\\\"NID_PUSH\\\",\\\"info\\\":\\\"添加\\\",\\\"left\\\":\\\"150px\\\",\\\"top\\\":\\\"990px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"push.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261786amwqizt7ni\\\",\\\"caption\\\":\\\"结束\\\",\\\"nodeTypeID\\\":\\\"NID_END\\\",\\\"info\\\":\\\"结束流程\\\",\\\"left\\\":\\\"90px\\\",\\\"top\\\":\\\"1125px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"stop.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]}]\"\r\n        },\r\n        {\r\n            \"id\": 35,\r\n            \"jobId\": \"LAPTOP-QNSBA5DI-20201030203435437\",\r\n            \"jobType\": \"任务类别6\",\r\n            \"jobName\": \"模拟任务6\",\r\n            \"jobDescription\": \"的广告\",\r\n            \"triggerWay\": \"\",\r\n            \"jobState\": 1,\r\n            \"createBy\": \"访问过\",\r\n            \"startTime\": \"2020-05-02 15:02:05\",\r\n            \"endTime\": \"2020-06-11 00:00:00\",\r\n            \"approvalTime\": \"2020-04-11 00:00:00\",\r\n            \"jobVersion\": \"2.0\",\r\n            \"taskDetail\": \"[{\\\"id\\\":\\\"20201026177454dwf66ximf\\\",\\\"caption\\\":\\\"开始\\\",\\\"nodeTypeID\\\":\\\"NID_START\\\",\\\"info\\\":\\\"条件控件根据所配置条件的计算结果，决定下一个执行的节点\\\",\\\"left\\\":\\\"615px\\\",\\\"top\\\":\\\"105px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"start.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_INPUT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_START\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发方式\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"人群定时触发\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"复购-泰康百万医疗险\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"触发时间\\\",\\\"type\\\":\\\"PTYPE_TIMELIST\\\",\\\"defaultValue\\\":\\\"\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"每天\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"每月\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"每小时\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"}]},{\\\"id\\\":\\\"2020102617746pfoazg62qn\\\",\\\"caption\\\":\\\"条件分支\\\",\\\"nodeTypeID\\\":\\\"NID_CONDITION\\\",\\\"info\\\":\\\"用来判断是否满足某个或者某一组条件\\\",\\\"left\\\":\\\"600px\\\",\\\"top\\\":\\\"285px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"条件分支.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"任务重入\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务频控\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"}]},{\\\"id\\\":\\\"20201026177505mubmjjqu\\\",\\\"caption\\\":\\\"短信\\\",\\\"nodeTypeID\\\":\\\"NID_NOTE\\\",\\\"info\\\":\\\"向目标发送短信\\\",\\\"left\\\":\\\"530.903px\\\",\\\"top\\\":\\\"412.017px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"短信.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617753iex4qpmqua\\\",\\\"caption\\\":\\\"A/B\\\",\\\"nodeTypeID\\\":\\\"NID_A/B\\\",\\\"info\\\":\\\"按照不同百分比分流\\\",\\\"left\\\":\\\"423.903px\\\",\\\"top\\\":\\\"556.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"AB测试.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261775631unmksq0k\\\",\\\"caption\\\":\\\"等待\\\",\\\"nodeTypeID\\\":\\\"NID_WAIT\\\",\\\"info\\\":\\\"执行挂起，等待一定时间后执行\\\",\\\"left\\\":\\\"313.903px\\\",\\\"top\\\":\\\"682.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"wait.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"tips\\\":\\\" 等待至具体的某个时间点：'yyyy-MM-dd HH:mm:ss'\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"等待至具体的某个时间点\\\",\\\"tips\\\":\\\"● 等待一段时间：' HH:mm:ss'\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"等待至...\\\",\\\"tips\\\":\\\"等待至：第N天的' HH:mm:ss'\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"等待时间\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"XX 天 XX时 XX分\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617759kp4239gwk\\\",\\\"caption\\\":\\\"推荐\\\",\\\"nodeTypeID\\\":\\\"NID_RECOMMENT\\\",\\\"info\\\":\\\"推荐任务\\\",\\\"left\\\":\\\"240px\\\",\\\"top\\\":\\\"840px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"推荐.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261781ybi1ano9r\\\",\\\"caption\\\":\\\"Push\\\",\\\"nodeTypeID\\\":\\\"NID_PUSH\\\",\\\"info\\\":\\\"添加\\\",\\\"left\\\":\\\"150px\\\",\\\"top\\\":\\\"990px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"push.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261786amwqizt7ni\\\",\\\"caption\\\":\\\"结束\\\",\\\"nodeTypeID\\\":\\\"NID_END\\\",\\\"info\\\":\\\"结束流程\\\",\\\"left\\\":\\\"90px\\\",\\\"top\\\":\\\"1125px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"stop.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]}]\"\r\n        },\r\n        {\r\n            \"id\": 36,\r\n            \"jobId\": \"LAPTOP-QNSBA5DI-20201030203502437\",\r\n            \"jobType\": \"任务类别7\",\r\n            \"jobName\": \"模拟任务7\",\r\n            \"jobDescription\": \"士大夫\",\r\n            \"triggerWay\": \"\",\r\n            \"jobState\": 2,\r\n            \"createBy\": \"飞回复\",\r\n            \"startTime\": \"2020-05-02 15:02:05\",\r\n            \"endTime\": \"2020-06-11 00:00:00\",\r\n            \"approvalTime\": \"2020-04-11 00:00:00\",\r\n            \"jobVersion\": \"2.0\",\r\n            \"taskDetail\": \"[{\\\"id\\\":\\\"20201026177454dwf66ximf\\\",\\\"caption\\\":\\\"开始\\\",\\\"nodeTypeID\\\":\\\"NID_START\\\",\\\"info\\\":\\\"条件控件根据所配置条件的计算结果，决定下一个执行的节点\\\",\\\"left\\\":\\\"615px\\\",\\\"top\\\":\\\"105px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"start.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_INPUT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_START\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发方式\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"人群定时触发\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"复购-泰康百万医疗险\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"触发时间\\\",\\\"type\\\":\\\"PTYPE_TIMELIST\\\",\\\"defaultValue\\\":\\\"\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"每天\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"每月\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"每小时\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"}]},{\\\"id\\\":\\\"2020102617746pfoazg62qn\\\",\\\"caption\\\":\\\"条件分支\\\",\\\"nodeTypeID\\\":\\\"NID_CONDITION\\\",\\\"info\\\":\\\"用来判断是否满足某个或者某一组条件\\\",\\\"left\\\":\\\"600px\\\",\\\"top\\\":\\\"285px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"条件分支.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"任务重入\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务频控\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"}]},{\\\"id\\\":\\\"20201026177505mubmjjqu\\\",\\\"caption\\\":\\\"短信\\\",\\\"nodeTypeID\\\":\\\"NID_NOTE\\\",\\\"info\\\":\\\"向目标发送短信\\\",\\\"left\\\":\\\"530.903px\\\",\\\"top\\\":\\\"412.017px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"短信.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617753iex4qpmqua\\\",\\\"caption\\\":\\\"A/B\\\",\\\"nodeTypeID\\\":\\\"NID_A/B\\\",\\\"info\\\":\\\"按照不同百分比分流\\\",\\\"left\\\":\\\"423.903px\\\",\\\"top\\\":\\\"556.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"AB测试.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261775631unmksq0k\\\",\\\"caption\\\":\\\"等待\\\",\\\"nodeTypeID\\\":\\\"NID_WAIT\\\",\\\"info\\\":\\\"执行挂起，等待一定时间后执行\\\",\\\"left\\\":\\\"313.903px\\\",\\\"top\\\":\\\"682.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"wait.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"tips\\\":\\\" 等待至具体的某个时间点：'yyyy-MM-dd HH:mm:ss'\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"等待至具体的某个时间点\\\",\\\"tips\\\":\\\"● 等待一段时间：' HH:mm:ss'\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"等待至...\\\",\\\"tips\\\":\\\"等待至：第N天的' HH:mm:ss'\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"等待时间\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"XX 天 XX时 XX分\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617759kp4239gwk\\\",\\\"caption\\\":\\\"推荐\\\",\\\"nodeTypeID\\\":\\\"NID_RECOMMENT\\\",\\\"info\\\":\\\"推荐任务\\\",\\\"left\\\":\\\"240px\\\",\\\"top\\\":\\\"840px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"推荐.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261781ybi1ano9r\\\",\\\"caption\\\":\\\"Push\\\",\\\"nodeTypeID\\\":\\\"NID_PUSH\\\",\\\"info\\\":\\\"添加\\\",\\\"left\\\":\\\"150px\\\",\\\"top\\\":\\\"990px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"push.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261786amwqizt7ni\\\",\\\"caption\\\":\\\"结束\\\",\\\"nodeTypeID\\\":\\\"NID_END\\\",\\\"info\\\":\\\"结束流程\\\",\\\"left\\\":\\\"90px\\\",\\\"top\\\":\\\"1125px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"stop.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]}]\"\r\n        },\r\n        {\r\n            \"id\": 37,\r\n            \"jobId\": \"LAPTOP-QNSBA5DI-20201030203522512\",\r\n            \"jobType\": \"任务类别8\",\r\n            \"jobName\": \"模拟任务8\",\r\n            \"jobDescription\": \"速度v\",\r\n            \"triggerWay\": \"\",\r\n            \"jobState\": 3,\r\n            \"createBy\": \"阿房宫\",\r\n            \"startTime\": \"2020-05-02 15:02:05\",\r\n            \"endTime\": \"2020-06-11 00:00:00\",\r\n            \"approvalTime\": \"2020-04-11 00:00:00\",\r\n            \"jobVersion\": \"2.0\",\r\n            \"taskDetail\": \"[{\\\"id\\\":\\\"20201026177454dwf66ximf\\\",\\\"caption\\\":\\\"开始\\\",\\\"nodeTypeID\\\":\\\"NID_START\\\",\\\"info\\\":\\\"条件控件根据所配置条件的计算结果，决定下一个执行的节点\\\",\\\"left\\\":\\\"615px\\\",\\\"top\\\":\\\"105px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"start.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_INPUT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_START\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发方式\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"人群定时触发\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"复购-泰康百万医疗险\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"触发时间\\\",\\\"type\\\":\\\"PTYPE_TIMELIST\\\",\\\"defaultValue\\\":\\\"\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"每天\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"每月\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"每小时\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"}]},{\\\"id\\\":\\\"2020102617746pfoazg62qn\\\",\\\"caption\\\":\\\"条件分支\\\",\\\"nodeTypeID\\\":\\\"NID_CONDITION\\\",\\\"info\\\":\\\"用来判断是否满足某个或者某一组条件\\\",\\\"left\\\":\\\"600px\\\",\\\"top\\\":\\\"285px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"条件分支.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"任务重入\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务频控\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"}]},{\\\"id\\\":\\\"20201026177505mubmjjqu\\\",\\\"caption\\\":\\\"短信\\\",\\\"nodeTypeID\\\":\\\"NID_NOTE\\\",\\\"info\\\":\\\"向目标发送短信\\\",\\\"left\\\":\\\"530.903px\\\",\\\"top\\\":\\\"412.017px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"短信.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617753iex4qpmqua\\\",\\\"caption\\\":\\\"A/B\\\",\\\"nodeTypeID\\\":\\\"NID_A/B\\\",\\\"info\\\":\\\"按照不同百分比分流\\\",\\\"left\\\":\\\"423.903px\\\",\\\"top\\\":\\\"556.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"AB测试.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261775631unmksq0k\\\",\\\"caption\\\":\\\"等待\\\",\\\"nodeTypeID\\\":\\\"NID_WAIT\\\",\\\"info\\\":\\\"执行挂起，等待一定时间后执行\\\",\\\"left\\\":\\\"313.903px\\\",\\\"top\\\":\\\"682.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"wait.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"tips\\\":\\\" 等待至具体的某个时间点：'yyyy-MM-dd HH:mm:ss'\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"等待至具体的某个时间点\\\",\\\"tips\\\":\\\"● 等待一段时间：' HH:mm:ss'\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"等待至...\\\",\\\"tips\\\":\\\"等待至：第N天的' HH:mm:ss'\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"等待时间\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"XX 天 XX时 XX分\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617759kp4239gwk\\\",\\\"caption\\\":\\\"推荐\\\",\\\"nodeTypeID\\\":\\\"NID_RECOMMENT\\\",\\\"info\\\":\\\"推荐任务\\\",\\\"left\\\":\\\"240px\\\",\\\"top\\\":\\\"840px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"推荐.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261781ybi1ano9r\\\",\\\"caption\\\":\\\"Push\\\",\\\"nodeTypeID\\\":\\\"NID_PUSH\\\",\\\"info\\\":\\\"添加\\\",\\\"left\\\":\\\"150px\\\",\\\"top\\\":\\\"990px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"push.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261786amwqizt7ni\\\",\\\"caption\\\":\\\"结束\\\",\\\"nodeTypeID\\\":\\\"NID_END\\\",\\\"info\\\":\\\"结束流程\\\",\\\"left\\\":\\\"90px\\\",\\\"top\\\":\\\"1125px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"stop.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]}]\"\r\n        },\r\n        {\r\n            \"id\": 38,\r\n            \"jobId\": \"LAPTOP-QNSBA5DI-20201030203546915\",\r\n            \"jobType\": \"任务类别9\",\r\n            \"jobName\": \"模拟任务9\",\r\n            \"jobDescription\": \"广泛的\",\r\n            \"triggerWay\": \"\",\r\n            \"jobState\": 0,\r\n            \"createBy\": \"史蒂芬斯\",\r\n            \"startTime\": \"2020-05-02 15:02:05\",\r\n            \"endTime\": \"2020-06-11 00:00:00\",\r\n            \"approvalTime\": \"2020-04-11 00:00:00\",\r\n            \"jobVersion\": \"2.0\",\r\n            \"taskDetail\": \"[{\\\"id\\\":\\\"20201026177454dwf66ximf\\\",\\\"caption\\\":\\\"开始\\\",\\\"nodeTypeID\\\":\\\"NID_START\\\",\\\"info\\\":\\\"条件控件根据所配置条件的计算结果，决定下一个执行的节点\\\",\\\"left\\\":\\\"615px\\\",\\\"top\\\":\\\"105px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"start.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_INPUT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_START\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发方式\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"人群定时触发\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"复购-泰康百万医疗险\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"触发时间\\\",\\\"type\\\":\\\"PTYPE_TIMELIST\\\",\\\"defaultValue\\\":\\\"\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"每天\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"每月\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"每小时\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"}]},{\\\"id\\\":\\\"2020102617746pfoazg62qn\\\",\\\"caption\\\":\\\"条件分支\\\",\\\"nodeTypeID\\\":\\\"NID_CONDITION\\\",\\\"info\\\":\\\"用来判断是否满足某个或者某一组条件\\\",\\\"left\\\":\\\"600px\\\",\\\"top\\\":\\\"285px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"条件分支.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"任务重入\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务频控\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"}]},{\\\"id\\\":\\\"20201026177505mubmjjqu\\\",\\\"caption\\\":\\\"短信\\\",\\\"nodeTypeID\\\":\\\"NID_NOTE\\\",\\\"info\\\":\\\"向目标发送短信\\\",\\\"left\\\":\\\"530.903px\\\",\\\"top\\\":\\\"412.017px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"短信.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617753iex4qpmqua\\\",\\\"caption\\\":\\\"A/B\\\",\\\"nodeTypeID\\\":\\\"NID_A/B\\\",\\\"info\\\":\\\"按照不同百分比分流\\\",\\\"left\\\":\\\"423.903px\\\",\\\"top\\\":\\\"556.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"AB测试.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261775631unmksq0k\\\",\\\"caption\\\":\\\"等待\\\",\\\"nodeTypeID\\\":\\\"NID_WAIT\\\",\\\"info\\\":\\\"执行挂起，等待一定时间后执行\\\",\\\"left\\\":\\\"313.903px\\\",\\\"top\\\":\\\"682.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"wait.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"tips\\\":\\\" 等待至具体的某个时间点：'yyyy-MM-dd HH:mm:ss'\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"等待至具体的某个时间点\\\",\\\"tips\\\":\\\"● 等待一段时间：' HH:mm:ss'\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"等待至...\\\",\\\"tips\\\":\\\"等待至：第N天的' HH:mm:ss'\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"等待时间\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"XX 天 XX时 XX分\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617759kp4239gwk\\\",\\\"caption\\\":\\\"推荐\\\",\\\"nodeTypeID\\\":\\\"NID_RECOMMENT\\\",\\\"info\\\":\\\"推荐任务\\\",\\\"left\\\":\\\"240px\\\",\\\"top\\\":\\\"840px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"推荐.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261781ybi1ano9r\\\",\\\"caption\\\":\\\"Push\\\",\\\"nodeTypeID\\\":\\\"NID_PUSH\\\",\\\"info\\\":\\\"添加\\\",\\\"left\\\":\\\"150px\\\",\\\"top\\\":\\\"990px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"push.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261786amwqizt7ni\\\",\\\"caption\\\":\\\"结束\\\",\\\"nodeTypeID\\\":\\\"NID_END\\\",\\\"info\\\":\\\"结束流程\\\",\\\"left\\\":\\\"90px\\\",\\\"top\\\":\\\"1125px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"stop.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]}]\"\r\n        },\r\n        {\r\n            \"id\": 39,\r\n            \"jobId\": \"LAPTOP-QNSBA5DI-20201030203608460\",\r\n            \"jobType\": \"任务类别10\",\r\n            \"jobName\": \"模拟任务10\",\r\n            \"jobDescription\": \"但是\",\r\n            \"triggerWay\": \"\",\r\n            \"jobState\": 4,\r\n            \"createBy\": \"微服务\",\r\n            \"startTime\": \"2020-05-02 15:02:05\",\r\n            \"endTime\": \"2020-06-11 00:00:00\",\r\n            \"approvalTime\": \"2020-04-11 00:00:00\",\r\n            \"jobVersion\": \"2.0\",\r\n            \"taskDetail\": \"[{\\\"id\\\":\\\"20201026177454dwf66ximf\\\",\\\"caption\\\":\\\"开始\\\",\\\"nodeTypeID\\\":\\\"NID_START\\\",\\\"info\\\":\\\"条件控件根据所配置条件的计算结果，决定下一个执行的节点\\\",\\\"left\\\":\\\"615px\\\",\\\"top\\\":\\\"105px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"start.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_INPUT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_START\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发方式\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"人群定时触发\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"复购-泰康百万医疗险\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"触发时间\\\",\\\"type\\\":\\\"PTYPE_TIMELIST\\\",\\\"defaultValue\\\":\\\"\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"每天\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"每月\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"每小时\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"}]},{\\\"id\\\":\\\"2020102617746pfoazg62qn\\\",\\\"caption\\\":\\\"条件分支\\\",\\\"nodeTypeID\\\":\\\"NID_CONDITION\\\",\\\"info\\\":\\\"用来判断是否满足某个或者某一组条件\\\",\\\"left\\\":\\\"600px\\\",\\\"top\\\":\\\"285px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"条件分支.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true},{\\\"title\\\":\\\"任务重入\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务频控\\\",\\\"type\\\":\\\"PTYPE_SWITCH\\\",\\\"defaultValue\\\":false,\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"}]},{\\\"id\\\":\\\"20201026177505mubmjjqu\\\",\\\"caption\\\":\\\"短信\\\",\\\"nodeTypeID\\\":\\\"NID_NOTE\\\",\\\"info\\\":\\\"向目标发送短信\\\",\\\"left\\\":\\\"530.903px\\\",\\\"top\\\":\\\"412.017px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"短信.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617753iex4qpmqua\\\",\\\"caption\\\":\\\"A/B\\\",\\\"nodeTypeID\\\":\\\"NID_A/B\\\",\\\"info\\\":\\\"按照不同百分比分流\\\",\\\"left\\\":\\\"423.903px\\\",\\\"top\\\":\\\"556.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"AB测试.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261775631unmksq0k\\\",\\\"caption\\\":\\\"等待\\\",\\\"nodeTypeID\\\":\\\"NID_WAIT\\\",\\\"info\\\":\\\"执行挂起，等待一定时间后执行\\\",\\\"left\\\":\\\"313.903px\\\",\\\"top\\\":\\\"682.462px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"wait.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"触发周期\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"tips\\\":\\\" 等待至具体的某个时间点：'yyyy-MM-dd HH:mm:ss'\\\"},{\\\"value\\\":1,\\\"label\\\":\\\"等待至具体的某个时间点\\\",\\\"tips\\\":\\\"● 等待一段时间：' HH:mm:ss'\\\"},{\\\"value\\\":2,\\\"label\\\":\\\"等待至...\\\",\\\"tips\\\":\\\"等待至：第N天的' HH:mm:ss'\\\"}],\\\"tips\\\":\\\"任务名称用于描述任务主要功能,并与其他任务进行区分\\\"},{\\\"title\\\":\\\"等待时间\\\",\\\"type\\\":\\\"PTYPE_SELECTGROUP\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"value\\\":0,\\\"label\\\":\\\"等待一段时间\\\",\\\"type\\\":\\\"PTYPE_OLNYSHOW\\\",\\\"children\\\":{\\\"title\\\":\\\"触发人群\\\",\\\"type\\\":\\\"PTYPE_CROWD\\\",\\\"defaultValue\\\":1,\\\"values\\\":[{\\\"title\\\":\\\"XX 天 XX时 XX分\\\",\\\"ID\\\":\\\"f4asdsa87f9daasd76\\\",\\\"validity\\\":\\\"2020-10-12 12:00:00\\\",\\\"creator\\\":\\\"mark\\\",\\\"creationTime\\\":\\\"2020-12-29\\\"},{\\\"title\\\":\\\"复购-泰康二百万医疗险\\\",\\\"ID\\\":\\\"dsadasddadsadsadd\\\",\\\"validity\\\":\\\"2020-19-123 17:34:22\\\",\\\"creator\\\":\\\"jack\\\",\\\"creationTime\\\":\\\"2020-04-11\\\"}],\\\"triggeringTime\\\":\\\"13:00\\\",\\\"triggerCycle\\\":{\\\"frequency\\\":\\\"每月\\\",\\\"time\\\":\\\"2020-02-02\\\"},\\\"selectedList\\\":[]}},{\\\"value\\\":1,\\\"label\\\":\\\"用户行为触发\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"children\\\":{\\\"title\\\":\\\"触发行为\\\",\\\"type\\\":\\\"PTYPE_BEHAVIOR\\\",\\\"defaultValue\\\":0,\\\"values\\\":[{\\\"title\\\":\\\"MALL_ADD_CART_BUTTON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"是否自营\\\",\\\"r2\\\":\\\"自营\\\"},{\\\"r1\\\":\\\"加购商品sku白名单\\\",\\\"r2\\\":\\\"奶粉.txt\\\"},{\\\"r1\\\":\\\"加购商品价格\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"199\\\"},{\\\"r1\\\":\\\"加购商品数量\\\",\\\"r2\\\":\\\">=\\\",\\\"r3\\\":\\\"3\\\"}]},{\\\"title\\\":\\\"MALL_IOU_BLACK_GOLD\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_COFFERS_INNER\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_DISCOUNT_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"\\\",\\\"r2\\\":\\\"\\\",\\\"r3\\\":\\\"\\\"}]},{\\\"title\\\":\\\"MALL_INDEX_COUPON_ICON\\\",\\\"rules\\\":[{\\\"r1\\\":\\\"当天点击次数\\\",\\\"r2\\\":\\\"=\\\",\\\"r3\\\":\\\"3\\\"}]}],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true,\\\"selectedList\\\":[]}}],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"2020102617759kp4239gwk\\\",\\\"caption\\\":\\\"推荐\\\",\\\"nodeTypeID\\\":\\\"NID_RECOMMENT\\\",\\\"info\\\":\\\"推荐任务\\\",\\\"left\\\":\\\"240px\\\",\\\"top\\\":\\\"840px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"推荐.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261781ybi1ano9r\\\",\\\"caption\\\":\\\"Push\\\",\\\"nodeTypeID\\\":\\\"NID_PUSH\\\",\\\"info\\\":\\\"添加\\\",\\\"left\\\":\\\"150px\\\",\\\"top\\\":\\\"990px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"push.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]},{\\\"id\\\":\\\"202010261786amwqizt7ni\\\",\\\"caption\\\":\\\"结束\\\",\\\"nodeTypeID\\\":\\\"NID_END\\\",\\\"info\\\":\\\"结束流程\\\",\\\"left\\\":\\\"90px\\\",\\\"top\\\":\\\"1125px\\\",\\\"controlState\\\":\\\"success\\\",\\\"image\\\":\\\"stop.png\\\",\\\"parameters\\\":[{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"开始\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务触发设置\\\",\\\"type\\\":\\\"PTYPE_GROUP\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"tips\\\":\\\"\\\",\\\"children\\\":[{\\\"title\\\":\\\"任务名称\\\",\\\"type\\\":\\\"PTYPE_TEXT\\\",\\\"defaultValue\\\":\\\"条件\\\",\\\"tips\\\":\\\"任务名称用于描述任务主要功能\\\"},{\\\"title\\\":\\\"任务ID\\\",\\\"type\\\":\\\"PTYPE_LABEL\\\",\\\"defaultValue\\\":\\\"CONSTANT_TASKID\\\",\\\"tips\\\":\\\"任务ID用来唯一标识此任务\\\"},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"………………\\\",\\\"showInEditor\\\":true}]},{\\\"title\\\":\\\"任务触发条件\\\",\\\"type\\\":\\\"PTYPE_SELECT\\\",\\\"defaultValue\\\":\\\"定时定向\\\",\\\"values\\\":[\\\"定时定向\\\",\\\"用户行为触发\\\"],\\\"tips\\\":\\\"任务触发条件决定该任务再何种情况下开始执行。\\\",\\\"showInEditor\\\":true}]}]\"\r\n        }\r\n    ],\r\n    \"totalPages\": 2,\r\n    \"number\": 1,\r\n    \"page\": 0,\r\n    \"pageSize\": 10\r\n}\r\nreturn list\r\n}\r\n  Mock.mock('/api/queryList', queryList)\r\n  Mock.mock('/api/taskList', taskList)\r\n  Mock.mock('/api/abtest', abtest)\r\n  Mock.mock('/api/queryNote', queryNote)\r\n  Mock.mock('/api/defaultList', defaultList)\r\n\r\n","import Vue from 'vue'\r\nimport axios from 'axios'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport qs from 'qs'\r\nimport store from './store'\r\nimport ElementUI from 'element-ui'\r\nimport Utils from './common/utils'\r\nimport 'element-ui/lib/theme-chalk/reset.css'\r\nimport 'element-ui/lib/theme-chalk/index.css'\r\nimport './mock.js'\r\nimport '@/components/ef/index.css'\r\nimport Vue2OrgTree from 'vue-tree-color'\r\nVue.config.productionTip = false;\r\nVue.use(ElementUI);\r\nVue.use(Vue2OrgTree)\r\nVue.prototype.$http = axios;\r\nVue.prototype.Utils = Utils;\r\nVue.prototype.$qs = qs;\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./anniu.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./anniu.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/删除标签.18724e78.png\";","module.exports = __webpack_public_path__ + \"img/子任务.d12d5f18.png\";","module.exports = __webpack_public_path__ + \"img/设置关系.4ea22742.png\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./help.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./help.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/微信消息.126ed622.png\";","module.exports = __webpack_public_path__ + \"img/微信模板消息.ea76e59c.png\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./node_form.vue?vue&type=style&index=0&id=6612230a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./node_form.vue?vue&type=style&index=0&id=6612230a&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./conditional.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./conditional.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=1&lang=css&\"","module.exports = __webpack_public_path__ + \"img/发送邮件.b9b8f364.png\";","module.exports = __webpack_public_path__ + \"img/加入群组.09436bd0.png\";","module.exports = __webpack_public_path__ + \"img/移除群组.36bb2a2d.png\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=style&index=1&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAmVJREFUSMetlb1L81AUxp8TERyNuBhczFLQQfcK0sVBi2IrRWorVUutIC6Ko9JVcHKpadOUIliCLbZQ6B+gznWw4KBuEUR659aP69A3WUpI1PeM4Z7ze+4557khzjnnnEgZVUaV0UYDhzjE4c2NkTASRmJnJ0UpStHXF/4Yuq7rut7Xx3zMx3yZDE3RFE1NTAhEREScYxKTmGw2u8e3t6VZaVaazWSO+BE/4oLwZzBjjLFCAWWUUV5f5w3e4I37e6uwGBNjYiwSQQUVVIpFLGMZyxsb0pv0Jr1lsz8VYoFn2Aybyee7X8NhHudxHtd1Y9gYNoYTCbJNzLM8y5+fYxGLWFxZQQABBDStmxiP242mB3yFK1xFIib4RXgRXoTV1W7+x0fPjUKhUCgU+vzs6ci/1tmNxgLnWI7lNM0JbOb1dMB1Ry5xictcDkEEEUwmu0BVxRKWsBSNOoFdCzDjLH2WPkv398MPP/zFImqooRYI0AEd0MHTEz/mx/xYlkklldSLi8H9wf3B/WjU7KhdXdcCzNC4xjU+MNDxdDwdz+Mj9rCHPUnCNa5x/fwML7zwejxbya3kVvL93anej7e6o3SUjqKqFvgEJzgxDExjGtNjYyihhFI67dY1jgec7NSW23JbluXf2ldwDbbZ6t36bn233m7busZBCP0WbLfVP31H6H+BfyvEaklrrjXXmstmTbBpp6HSUGmoFA67BZth2W8BC1hYW8M85jFfLpujGXkdeR15PT0l62/YVJpK8+Gha6fbW1EURVHc3HTysduw3pEqqqgWCrjDHe7Gx60DppC/gtyGyfsGV4QQt4CoyRIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDUtMzFUMTc6NTI6MjIrMDg6MDBKNIS3AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTA1LTMxVDE3OjUyOjIyKzA4OjAwO2k8CwAAAEl0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vaG9tZS9hZG1pbi9pY29uLWZvbnQvdG1wL2ljb25fZmN3cHNvNGpkNjcvZ3VhbmJpLnN2Z4GnZDAAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"img/客服外呼.dabed010.png\";","module.exports = __webpack_public_path__ + \"img/push.2801cdc1.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=2b833cde&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=2b833cde&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/承接设置.48f3f4c5.png\";","module.exports = __webpack_public_path__ + \"img/赛马.890166e5.png\";","module.exports = __webpack_public_path__ + \"img/addtag.d28f6d7d.png\";","module.exports = __webpack_public_path__ + \"img/app弹窗.6d9bb811.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/app内消息.227c4d2d.png\";","module.exports = __webpack_public_path__ + \"img/wait.39e6ce2d.png\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AB.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AB.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/推荐.c794c3ea.png\";","module.exports = __webpack_public_path__ + \"img/stop.86e21949.png\";","module.exports = __webpack_public_path__ + \"img/利益点.ea9aed1d.png\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Articles.vue?vue&type=style&index=0&id=46970a12&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Articles.vue?vue&type=style&index=0&id=46970a12&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/start.483a66de.png\";"],"sourceRoot":""}